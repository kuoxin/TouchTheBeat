!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ot.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return G.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t=ft[e]={};return Z.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(xt,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Z.parseJSON(n):n}catch(r){}vt.set(e,t,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function p(){try{return K.activeElement}catch(e){}}function d(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=It.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)gt.set(e[n],"globalEval",!t||gt.get(t[n],"globalEval"))}function y(e,t){var n,i,r,a,s,o,l,c;if(1===t.nodeType){if(gt.hasData(e)&&(a=gt.access(e),s=gt.set(t,a),c=a.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)Z.event.add(t,r,c[r][n])}vt.hasData(e)&&(o=vt.access(e),l=Z.extend({},o),vt.set(t,l))}}function g(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_t.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Z(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),a}function x(e){var t=K,n=Dt[e];return n||(n=b(e,t),"none"!==n&&n||($t=($t||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=$t[0].contentDocument,t.write(),t.close(),n=b(e,t),$t.detach()),Dt[e]=n),n}function T(e,t,n){var i,r,a,s,o=e.style;return n=n||Ut(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),qt.test(s)&&Bt.test(t)&&(i=o.width,r=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=r,o.maxWidth=a)),void 0!==s?s+"":s}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Yt.length;r--;)if(t=Yt[r]+n,t in e)return t;return i}function _(e,t,n){var i=Ht.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2)"margin"===n&&(s+=Z.css(e,n+wt[a],!0,r)),i?("content"===n&&(s-=Z.css(e,"padding"+wt[a],!0,r)),"margin"!==n&&(s-=Z.css(e,"border"+wt[a]+"Width",!0,r))):(s+=Z.css(e,"padding"+wt[a],!0,r),"padding"!==n&&(s+=Z.css(e,"border"+wt[a]+"Width",!0,r)));return s}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=Ut(e),s="border-box"===Z.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=T(e,t,a),(0>r||null==r)&&(r=e.style[t]),qt.test(r))return r;i=s&&(J.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(s?"border":"content"),i,a)+"px"}function E(e,t){for(var n,i,r,a=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(a[s]=gt.get(i,"olddisplay"),n=i.style.display,t?(a[s]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(a[s]=gt.access(i,"olddisplay",x(i.nodeName)))):(r=kt(i),"none"===n&&r||gt.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[s]||"":"none"));return e}function z(e,t,n,i,r){return new z.prototype.init(e,t,n,i,r)}function A(){return setTimeout(function(){Jt=void 0}),Jt=Z.now()}function j(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=wt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function O(e,t,n){for(var i,r=(nn[t]||[]).concat(nn["*"]),a=0,s=r.length;s>a;a++)if(i=r[a].call(n,t,e))return i}function N(e,t,n){var i,r,a,s,o,l,c,u,p=this,d={},h=e.style,f=e.nodeType&&kt(e),m=gt.get(e,"fxshow");n.queue||(o=Z._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,Z.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=Z.css(e,"display"),u="none"===c?gt.get(e,"olddisplay")||x(e.nodeName):c,"inline"===u&&"none"===Z.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qt.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(d))"inline"===("none"===c?x(e.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(f=m.hidden):m=gt.access(e,"fxshow",{}),a&&(m.hidden=!f),f?Z(e).show():p.done(function(){Z(e).hide()}),p.done(function(){var t;gt.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(i in d)s=O(f?m[i]:0,i,p),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function M(e,t){var n,i,r,a,s;for(n in e)if(i=Z.camelCase(n),r=t[i],a=e[n],Z.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){a=s.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,a=0,s=tn.length,o=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Jt||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(a);return o.notifyWith(e,[c,a,n]),1>a&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jt||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),u=c.props;for(M(u,c.opts.specialEasing);s>a;a++)if(i=tn[a].call(c,e,u,c.opts))return i;return Z.map(u,O,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(ht)||[];if(Z.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function I(e,t,n,i){function r(o){var l;return a[o]=!0,Z.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||s||a[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var a={},s=e===wn;return r(t.dataTypes[0])||!a["*"]&&r("*")}function L(e,t){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function F(e,t,n){for(var i,r,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}s||(s=r)}a=a||s}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function $(e,t,n,i){var r,a,s,o,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(s=c[l+" "+a]||c["* "+a],!s)for(r in c)if(o=r.split(" "),o[1]===a&&(s=c[l+" "+o[0]]||c["* "+o[0]])){s===!0?s=c[r]:c[r]!==!0&&(a=o[0],u.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function D(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||Sn.test(e)?i(e,r):D(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)D(e+"["+r+"]",t[r],n,i)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],U=q.slice,V=q.concat,H=q.push,G=q.indexOf,W={},X=W.toString,Y=W.hasOwnProperty,J={},K=e.document,Q="2.1.1",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,it=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:q.sort,splice:q.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,r,a,s=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||Z.isFunction(s)||(s={}),o===l&&(s=this,o--);l>o;o++)if(null!=(e=arguments[o]))for(t in e)n=s[t],i=e[t],s!==i&&(c&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,a=n&&Z.isArray(n)?n:[]):a=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(c,a,i)):void 0!==i&&(s[t]=i));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?W[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,it)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,s=e.length,o=n(e);if(i){if(o)for(;s>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(o)for(;s>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):H.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:G.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,s=e.length,o=!n;s>a;a++)i=!t(e[a],a),i!==o&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,s=e.length,o=n(e),l=[];if(o)for(;s>a;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return V.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=U.call(arguments,2),r=function(){return e.apply(t||this,i.concat(U.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()});var rt=function(e){function t(e,t,n,i){var r,a,s,o,l,c,p,h,f,m;if((t?t.ownerDocument||t:D)!==N&&O(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(P&&!i){if(r=vt.exec(e))if(s=r[1]){if(9===o){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&F(t,a)&&a.id===s)return n.push(a),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(T.qsa&&(!R||!R.test(e))){if(h=p=$,f=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(p=t.getAttribute("id"))?h=p.replace(xt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+d(c[l]);f=bt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(y){}finally{p||t.removeAttribute("id")}}}return E(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==W&&e}function p(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=q++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,s){var o,l,c=[B,a];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[$]||(t[$]={}),(o=l[i])&&o[0]===B&&o[1]===a)return c[2]=o[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function y(e,t,n,i,r){for(var a,s=[],o=0,l=e.length,c=null!=t;l>o;o++)(a=e[o])&&(!n||n(a,i,r))&&(s.push(a),c&&t.push(o));return s}function g(e,t,n,r,a,s){return r&&!r[$]&&(r=g(r)),a&&!a[$]&&(a=g(a,s)),i(function(i,s,o,l){var c,u,p,d=[],h=[],f=s.length,g=i||m(t||"*",o.nodeType?[o]:o,[]),v=!e||!i&&t?g:y(g,d,e,o,l),b=n?a||(i?e:f||r)?[]:s:v;if(n&&n(v,b,o,l),r)for(c=y(b,h),r(c,[],o,l),u=c.length;u--;)(p=c[u])&&(b[h[u]]=!(v[h[u]]=p));if(i){if(a||e){if(a){for(c=[],u=b.length;u--;)(p=b[u])&&c.push(v[u]=p);a(null,b=[],c,l)}for(u=b.length;u--;)(p=b[u])&&(c=a?tt.call(i,p):d[u])>-1&&(i[c]=!(s[c]=p))}}else b=y(b===s?b.splice(f,b.length):b),a?a(null,s,b,l):Z.apply(s,b)})}function v(e){for(var t,n,i,r=e.length,a=w.relative[e[0].type],s=a||w.relative[" "],o=a?1:0,l=h(function(e){return e===t},s,!0),c=h(function(e){return tt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!a&&(i||n!==z)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>o;o++)if(n=w.relative[e[o].type])u=[h(f(u),n)];else{if(n=w.filter[e[o].type].apply(null,e[o].matches),n[$]){for(i=++o;r>i&&!w.relative[e[i].type];i++);return g(o>1&&f(u),o>1&&d(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),n,i>o&&v(e.slice(o,i)),r>i&&v(e=e.slice(i)),r>i&&d(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,a=e.length>0,s=function(i,s,o,l,c){var u,p,d,h=0,f="0",m=i&&[],g=[],v=z,b=i||a&&w.find.TAG("*",c),x=B+=null==v?1:Math.random()||.1,T=b.length;for(c&&(z=s!==N&&s);f!==T&&null!=(u=b[f]);f++){if(a&&u){for(p=0;d=e[p++];)if(d(u,s,o)){l.push(u);break}c&&(B=x)}r&&((u=!d&&u)&&h--,i&&m.push(u))}if(h+=f,r&&f!==h){for(p=0;d=n[p++];)d(m,g,s,o);if(i){if(h>0)for(;f--;)m[f]||g[f]||(g[f]=K.call(l));g=y(g)}Z.apply(l,g),c&&!i&&g.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(B=x,z=v),m};return r?i(s):s}var x,T,w,k,_,C,S,E,z,A,j,O,N,M,P,R,I,L,F,$="sizzle"+-new Date,D=e.document,B=0,q=0,U=n(),V=n(),H=n(),G=function(e,t){return e===t&&(j=!0),0},W="undefined",X=1<<31,Y={}.hasOwnProperty,J=[],K=J.pop,Q=J.push,Z=J.push,et=J.slice,tt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),st="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+it+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),pt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+at+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,Tt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(J=et.call(D.childNodes),D.childNodes),J[D.childNodes.length].nodeType}catch(kt){Z={apply:J.length?function(e,t){Q.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}T=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:D,i=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,M=n.documentElement,P=!_(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){O()},!1):i.attachEvent&&i.attachEvent("onunload",function(){O()})),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=gt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=r(function(e){return M.appendChild(e).id=$,!n.getElementsByName||!n.getElementsByName($).length}),T.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==W&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Tt,wt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Tt,wt);return function(e){var n=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==W?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},w.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==W&&P?t.getElementsByClassName(e):void 0},I=[],R=[],(T.qsa=gt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||R.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(T.matchesSelector=gt.test(L=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){T.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),I.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),I=I.length&&new RegExp(I.join("|")),t=gt.test(M.compareDocumentPosition),F=t||gt.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return j=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!T.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===D&&F(D,e)?-1:t===n||t.ownerDocument===D&&F(D,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return j=!0,0;var i,r=0,a=e.parentNode,o=t.parentNode,l=[e],c=[t];if(!a||!o)return e===n?-1:t===n?1:a?-1:o?1:A?tt.call(A,e)-tt.call(A,t):0;if(a===o)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===D?-1:c[r]===D?1:0},n):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&O(e),n=n.replace(pt,"='$1']"),!(!T.matchesSelector||!P||I&&I.test(n)||R&&R.test(n)))try{var i=L.call(e,n);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&O(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&O(e);var n=w.attrHandle[t.toLowerCase()],i=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:T.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(j=!T.detectDuplicates,A=!T.sortStable&&e.slice(0),e.sort(G),j){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Tt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(Tt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Tt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,p,d,h,f,m=a!==s?"nextSibling":"previousSibling",y=t.parentNode,g=o&&t.nodeName.toLowerCase(),v=!l&&!o;if(y){if(a){for(;m;){for(p=t;p=p[m];)if(o?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?y.firstChild:y.lastChild],s&&v){for(u=y[$]||(y[$]={}),c=u[e]||[],h=c[0]===B&&c[1],d=c[0]===B&&c[2],p=h&&y.childNodes[h];p=++h&&p&&p[m]||(d=h=0)||f.pop();)if(1===p.nodeType&&++d&&p===t){u[e]=[B,h,d];break}}else if(v&&(c=(t[$]||(t[$]={}))[e])&&c[0]===B)d=c[1];else for(;(p=++h&&p&&p[m]||(d=h=0)||f.pop())&&((o?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++d||(v&&((p[$]||(p[$]={}))[e]=[B,d]),p!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[$]?a(n):a.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),s=r.length;s--;)i=tt.call(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(lt,"$1"));return r[$]?i(function(e,t,n,i){for(var a,s=r(e,null,i,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Tt,wt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=o(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return p.prototype=w.filters=w.pseudos,w.setFilters=new p,C=t.tokenize=function(e,n){var i,r,a,s,o,l,c,u=V[e+" "];if(u)return n?0:u.slice(0);for(o=e,l=[],c=w.preFilter;o;){(!i||(r=ct.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=ut.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(lt," ")}),o=o.slice(i.length));for(s in w.filter)!(r=ft[s].exec(o))||c[s]&&!(r=c[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):V(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],a=H[e+" "];if(!a){for(t||(t=C(e)),n=t.length;n--;)a=v(t[n]),a[$]?i.push(a):r.push(a);a=H(e,b(r,i)),a.selector=e}return a},E=t.select=function(e,t,n,i){var r,a,s,o,l,c="function"==typeof e&&e,p=!i&&C(e=c.selector||e);if(n=n||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&T.getById&&9===t.nodeType&&P&&w.relative[a[1].type]){if(t=(w.find.ID(s.matches[0].replace(Tt,wt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=ft.needsContext.test(e)?0:a.length;r--&&(s=a[r],!w.relative[o=s.type]);)if((l=w.find[o])&&(i=l(s.matches[0].replace(Tt,wt),bt.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&d(a),!e)return Z.apply(n,i),n;break}}return(c||S(e,p))(i,t,!P,n,bt.test(e)&&u(t.parentNode)||t),n},T.sortStable=$.split("").sort(G).join("")===$,T.detectDuplicates=!!j,O(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var at=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(r[t],this))return!0
}));for(t=0;n>t;t++)Z.find(e,r[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&at.test(e)?Z(e):e||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ct.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),st.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=K.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ut.prototype=Z.fn,lt=Z(K);var pt=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],s=at.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Z.unique(a):a)},index:function(e){return e?"string"==typeof e?G.call(Z(e),this[0]):G.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(dt[e]||Z.unique(r),pt.test(e)&&r.reverse()),this.pushStack(r)}});var ht=/\S+/g,ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||a(e):Z.extend({},e);var t,n,i,r,s,o,l=[],c=!e.once&&[],u=function(a){for(t=e.memory&&a,n=!0,o=r||0,r=0,s=l.length,i=!0;l&&s>o;o++)if(l[o].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:p.disable())},p={add:function(){if(l){var n=l.length;!function a(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),i?s=l.length:t&&(r=n,u(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,a){var s=Z.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,a){var s=a[2],o=a[3];i[a[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=U.call(arguments),s=a.length,o=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===o?e:Z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?U.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&Z.isFunction(a[r].promise)?a[r].promise().done(c(r,i,a)).fail(l.reject).progress(c(r,n,t)):--o;return o||l.resolveWith(i,a),l.promise()}});var mt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(mt.resolveWith(K,[Z]),Z.fn.triggerHandler&&(Z(K).triggerHandler("ready"),Z(K).off("ready"))))}}),Z.ready.promise=function(t){return mt||(mt=Z.Deferred(),"complete"===K.readyState?setTimeout(Z.ready):(K.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),mt.promise(t)},Z.ready.promise();var yt=Z.access=function(e,t,n,i,r,a,s){var o=0,l=e.length,c=null==n;if("object"===Z.type(n)){r=!0;for(o in n)Z.access(e,t,o,n[o],!0,a,s)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>o;o++)t(e[o],n,s?i:i.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):l?t(e[0],n):a};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=Z.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=n;else if(Z.isEmptyObject(a))Z.extend(this.cache[r],t);else for(i in t)a[i]=t[i];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,a=this.key(e),s=this.cache[a];if(void 0===t)this.cache[a]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(ht)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var gt=new o,vt=new o,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;Z.extend({hasData:function(e){return vt.hasData(e)||gt.hasData(e)},data:function(e,t,n){return vt.access(e,t,n)},removeData:function(e,t){vt.remove(e,t)},_data:function(e,t,n){return gt.access(e,t,n)},_removeData:function(e,t){gt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,r,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(r=vt.get(a),1===a.nodeType&&!gt.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(a,i,r[i])));gt.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){vt.set(this,e)}):yt(this,function(t){var n,i=Z.camelCase(e);if(a&&void 0===t){if(n=vt.get(a,e),void 0!==n)return n;if(n=vt.get(a,i),void 0!==n)return n;if(n=l(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=vt.get(this,i);vt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&vt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){vt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=gt.get(e,t),n&&(!i||Z.isArray(n)?i=gt.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),a=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,s,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return gt.get(e,n)||gt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){gt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Z.Deferred(),a=this,s=this.length,o=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=gt.get(a[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=["Top","Right","Bottom","Left"],kt=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},_t=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";J.focusinBubbles="onfocusin"in e;var St=/^key/,Et=/^(?:mouse|pointer|contextmenu)|click/,zt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,r){var a,s,o,l,c,u,p,d,h,f,m,y=gt.get(e);if(y)for(n.handler&&(a=n,n=a.handler,r=a.selector),n.guid||(n.guid=Z.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(t){return typeof Z!==Ct&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ht)||[""],c=t.length;c--;)o=At.exec(t[c])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h&&(p=Z.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,p=Z.event.special[h]||{},u=Z.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},a),(d=l[h])||(d=l[h]=[],d.delegateCount=0,p.setup&&p.setup.call(e,i,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),p.add&&(p.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),Z.event.global[h]=!0)},remove:function(e,t,n,i,r){var a,s,o,l,c,u,p,d,h,f,m,y=gt.hasData(e)&&gt.get(e);if(y&&(l=y.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(o=At.exec(t[c])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h){for(p=Z.event.special[h]||{},h=(i?p.delegateType:p.bindType)||h,d=l[h]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=d.length;a--;)u=d[a],!r&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,p.remove&&p.remove.call(e,u));s&&!d.length&&(p.teardown&&p.teardown.call(e,f,y.handle)!==!1||Z.removeEvent(e,h,y.handle),delete l[h])}else for(h in l)Z.event.remove(e,h+t[c],n,i,!0);Z.isEmptyObject(l)&&(delete y.handle,gt.remove(e,"events"))}},trigger:function(t,n,i,r){var a,s,o,l,c,u,p,d=[i||K],h=Y.call(t,"type")?t.type:t,f=Y.call(t,"namespace")?t.namespace.split("."):[];if(s=o=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!zt.test(h+Z.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[Z.expando]?t:new Z.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),p=Z.event.special[h]||{},r||!p.trigger||p.trigger.apply(i,n)!==!1)){if(!r&&!p.noBubble&&!Z.isWindow(i)){for(l=p.delegateType||h,zt.test(l+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),o=s;o===(i.ownerDocument||K)&&d.push(o.defaultView||o.parentWindow||e)}for(a=0;(s=d[a++])&&!t.isPropagationStopped();)t.type=a>1?l:p.bindType||h,u=(gt.get(s,"events")||{})[t.type]&&gt.get(s,"handle"),u&&u.apply(s,n),u=c&&s[c],u&&u.apply&&Z.acceptData(s)&&(t.result=u.apply(s,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[h])&&!Z.isWindow(i)&&(o=i[c],o&&(i[c]=null),Z.event.triggered=h,i[h](),Z.event.triggered=void 0,o&&(i[c]=o)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,r,a,s=[],o=U.call(arguments),l=(gt.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((Z.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;o>n;n++)a=t[n],r=a.selector+" ",void 0===i[r]&&(i[r]=a.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&s.push({elem:l,handlers:i})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,r=e.type,a=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Et.test(r)?this.mouseHooks:St.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new Z.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=gt.access(i,t);r||i.addEventListener(e,n,!0),gt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=gt.access(i,t)-1;r?gt.access(i,t,r):(i.removeEventListener(e,n,!0),gt.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,r){var a,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(a=i,i=function(e){return Z().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Nt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,Z.extend({clone:function(e,t,n){var i,r,a,s,o=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=g(o),a=g(e),i=0,r=a.length;r>i;i++)v(a[i],s[i]);if(t)if(n)for(a=a||g(e),s=s||g(o),i=0,r=a.length;r>i;i++)y(a[i],s[i]);else y(e,o);return s=g(o,"script"),s.length>0&&m(s,!l&&g(e,"script")),o},buildFragment:function(e,t,n,i){for(var r,a,s,o,l,c,u=t.createDocumentFragment(),p=[],d=0,h=e.length;h>d;d++)if(r=e[d],r||0===r)if("object"===Z.type(r))Z.merge(p,r.nodeType?[r]:r);else if(Nt.test(r)){for(a=a||u.appendChild(t.createElement("div")),s=(Ot.exec(r)||["",""])[1].toLowerCase(),o=Ft[s]||Ft._default,a.innerHTML=o[1]+r.replace(jt,"<$1></$2>")+o[2],c=o[0];c--;)a=a.lastChild;Z.merge(p,a.childNodes),a=u.firstChild,a.textContent=""}else p.push(t.createTextNode(r));for(u.textContent="",d=0;r=p[d++];)if((!i||-1===Z.inArray(r,i))&&(l=Z.contains(r.ownerDocument,r),a=g(u.appendChild(r),"script"),l&&m(a),n))for(c=0;r=a[c++];)Rt.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,a=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(r=n[gt.expando],r&&(t=gt.cache[r]))){if(t.events)for(i in t.events)a[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);gt.cache[r]&&delete gt.cache[r]}delete vt.cache[n[vt.expando]]}}}),Z.fn.extend({text:function(e){return yt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Z.cleanData(g(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return yt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Mt.test(e)&&!Ft[(Ot.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(jt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var n,i,r,a,s,o,l=0,c=this.length,u=this,p=c-1,d=e[0],m=Z.isFunction(d);if(m||c>1&&"string"==typeof d&&!J.checkClone&&Pt.test(d))return this.each(function(n){var i=u.eq(n);m&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(g(n,"script"),h),a=r.length;c>l;l++)s=n,l!==p&&(s=Z.clone(s,!0,!0),a&&Z.merge(r,g(s,"script"))),t.call(this[l],s,l);if(a)for(o=r[r.length-1].ownerDocument,Z.map(r,f),l=0;a>l;l++)s=r[l],Rt.test(s.type||"")&&!gt.access(s,"globalEval")&&Z.contains(o,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Lt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],r=Z(e),a=r.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),Z(r[s])[t](n),H.apply(i,n.get());return this.pushStack(i)}});var $t,Dt={},Bt=/^margin/,qt=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),Ut=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(a);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(a)}var n,i,r=K.documentElement,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(s),e.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(a),t}}))}(),Z.swap=function(e,t,n,i){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=s[a];return r};var Vt=/^(none|table(?!-c[ea]).+)/,Ht=new RegExp("^("+Tt+")(.*)$","i"),Gt=new RegExp("^([+-])=("+Tt+")","i"),Wt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=T(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,o=Z.camelCase(t),l=e.style;return t=Z.cssProps[o]||(Z.cssProps[o]=k(l,o)),s=Z.cssHooks[t]||Z.cssHooks[o],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(a=typeof n,"string"===a&&(r=Gt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||Z.cssNumber[o]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,a,s,o=Z.camelCase(t);return t=Z.cssProps[o]||(Z.cssProps[o]=k(e.style,o)),s=Z.cssHooks[t]||Z.cssHooks[o],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=T(e,t,i)),"normal"===r&&t in Xt&&(r=Xt[t]),""===n||n?(a=parseFloat(r),n===!0||Z.isNumeric(a)?a||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?Vt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Wt,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&Ut(e);return _(e,n,i?C(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=w(J.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},T,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+wt[i]+t]=a[i]||a[i-2]||a[0];return r}},Bt.test(e)||(Z.cssHooks[e+t].set=_)}),Z.fn.extend({css:function(e,t){return yt(this,function(e,t,n){var i,r,a={},s=0;if(Z.isArray(t)){for(i=Ut(e),r=t.length;r>s;s++)a[t[s]]=Z.css(e,t[s],!1,i);return a}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){kt(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=z,z.prototype={constructor:z,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=z.prototype.init,Z.fx.step={};var Jt,Kt,Qt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[N],nn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Zt.exec(t),a=r&&r[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==a&&+i)&&Zt.exec(Z.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==a){a=a||s[3],r=r||[],s=+i||1;do o=o||".5",s/=o,Z.style(n.elem,e,s+a);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=a,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(P,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),a=Z.speed(t,n,i),s=function(){var t=P(this,Z.extend({},e),a);(r||gt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=Z.timers,s=gt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&en.test(r)&&i(s[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=gt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=Z.timers,s=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];
Z.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),Z.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Jt=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Jt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Kt||(Kt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Kt),Kt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rn,an,sn=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return yt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Ct?Z.prop(e,t,n):(1===a&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?an:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(ht);if(a&&1===e.nodeType)for(;n=a[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),an={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||Z.find.attr;sn[t]=function(e,t,i){var r,a;return i||(a=sn[t],sn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,sn[t]=a),r}});var on=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return yt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!Z.isXMLDoc(e),a&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||on.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,r,a,s,o="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(ht)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=Z.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,a,s,o=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(ht)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?Z.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=Z(this),a=e.match(ht)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":gt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(t)>=0)return!0;return!1}});var cn=/\r/g;Z.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:i.length,l=0>r?o:a?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=Z.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=Z.inArray(i.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var un=Z.now(),pn=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dn,hn,fn=/#.*$/,mn=/([?&])_=[^&]*/,yn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,bn=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Tn={},wn={},kn="*/".concat("*");try{hn=location.href}catch(_n){hn=K.createElement("a"),hn.href="",hn=hn.href}dn=xn.exec(hn.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:hn,type:"GET",isLocal:gn.test(dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,Z.ajaxSettings),t):L(Z.ajaxSettings,e)},ajaxPrefilter:R(Tn),ajaxTransport:R(wn),ajax:function(e,t){function n(e,t,n,s){var l,u,g,v,x,w=t;2!==b&&(b=2,o&&clearTimeout(o),i=void 0,a=s||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(v=F(p,T,n)),v=$(p,v,T,l),l?(p.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(Z.lastModified[r]=x),x=T.getResponseHeader("etag"),x&&(Z.etag[r]=x)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=v.state,u=v.data,g=v.error,l=!g)):(g=w,(e||!w)&&(w="error",0>e&&(e=0))),T.status=e,T.statusText=(t||w)+"",l?f.resolveWith(d,[u,w,T]):f.rejectWith(d,[T,w,g]),T.statusCode(y),y=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?u:g]),m.fireWith(d,[T,w]),c&&(h.trigger("ajaxComplete",[T,p]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,s,o,l,c,u,p=Z.ajaxSetup({},t),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),y=p.statusCode||{},g={},v={},b=0,x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=yn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),n(0,t),this}};if(f.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||hn)+"").replace(fn,"").replace(bn,dn[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=Z.trim(p.dataType||"*").toLowerCase().match(ht)||[""],null==p.crossDomain&&(l=xn.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===dn[1]&&l[2]===dn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(dn[3]||("http:"===dn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Z.param(p.data,p.traditional)),I(Tn,p,t,T),2===b)return T;c=p.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!vn.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(pn.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=mn.test(r)?r.replace(mn,"$1_="+un++):r+(pn.test(r)?"&":"?")+"_="+un++)),p.ifModified&&(Z.lastModified[r]&&T.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&T.setRequestHeader("If-None-Match",Z.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+kn+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)T.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===b))return T.abort();x="abort";for(u in{success:1,error:1,complete:1})T[u](p[u]);if(i=I(wn,p,t,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(o=setTimeout(function(){T.abort("timeout")},p.timeout));try{b=1,i.send(g,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return T},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Cn=/%20/g,Sn=/\[\]$/,En=/\r?\n/g,zn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)D(n,e[n],t,r);return i.join("&").replace(Cn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&An.test(this.nodeName)&&!zn.test(e)&&(this.checked||!_t.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jn=0,On={},Nn={0:200,1223:204},Mn=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in On)On[e]()}),J.cors=!!Mn&&"withCredentials"in Mn,J.ajax=Mn=!!Mn,Z.ajaxTransport(function(e){var t;return J.cors||Mn&&!e.crossDomain?{send:function(n,i){var r,a=e.xhr(),s=++jn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete On[s],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status,a.statusText):i(Nn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=On[s]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(o){if(t)throw o}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pn=[],Rn=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pn.pop()||Z.expando+"_"+un++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,s,o=t.jsonp!==!1&&(Rn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Rn,"$1"+r):t.jsonp!==!1&&(t.url+=(pn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,Pn.push(r)),s&&Z.isFunction(a)&&a(s[0]),s=a=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var i=st.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var In=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&In)return In.apply(this,arguments);var i,r,a,s=this,o=e.indexOf(" ");return o>=0&&(i=Z.trim(e.slice(o)),e=e.slice(0,o)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,s.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,a||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ln=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,r,a,s,o,l,c,u=Z.css(e,"position"),p=Z(e),d={};"static"===u&&(e.style.position="relative"),o=p.offset(),a=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1,c?(i=p.position(),s=i.top,r=i.left):(s=parseFloat(a)||0,r=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):p.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;if(a)return t=a.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=B(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ln;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ln})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(r){return yt(this,function(t,r,a){var s=B(t);return void 0===a?s?s[n]:t[r]:void(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):t[r]=a)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=w(J.pixelPosition,function(e,n){return n?(n=T(e,t),qt.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return yt(this,function(t,n,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Z.css(t,n,s):Z.style(t,n,i,s)},t,a?i:void 0,a,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Fn=e.jQuery,$n=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=$n),t&&e.jQuery===Z&&(e.jQuery=Fn),Z},typeof t===Ct&&(e.jQuery=e.$=Z),Z}),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,s=i.push,o=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,p=i.forEach,d=i.map,h=i.reduce,f=i.reduceRight,m=i.filter,y=i.every,g=i.some,v=i.indexOf,b=i.lastIndexOf,x=Array.isArray,T=Object.keys,w=a.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.6.0";var _=k.each=k.forEach=function(e,t,i){if(null==e)return e;if(p&&e.forEach===p)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s=k.keys(e),r=0,a=s.length;a>r;r++)if(t.call(i,e[s[r]],s[r],e)===n)return;return e};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(_(e,function(e,r,a){i.push(t.call(n,e,r,a))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(_(e,function(e,a,s){r?n=t.call(i,n,e,a,s):(n=e,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var s=k.keys(e);a=s.length}if(_(e,function(o,l,c){l=s?s[--a]:--a,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(e,t,n){var i;return S(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(_(e,function(e,r,a){t.call(n,e,r,a)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:y&&e.every===y?e.every(t,i):(_(e,function(e,a,s){return(r=r&&t.call(i,e,a,s))?void 0:n}),!!r)};var S=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:g&&e.some===g?e.some(t,i):(_(e,function(e,a,s){return r||(r=t.call(i,e,a,s))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:v&&e.indexOf===v?-1!=e.indexOf(t):S(e,function(e){return e===t})},k.invoke=function(e,t){var n=o.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matches(t))},k.findWhere=function(e,t){return k.find(e,k.matches(t))},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return _(e,function(e,a,s){var o=t?t.call(n,e,a,s):e;o>r&&(i=e,r=o)}),i},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return _(e,function(e,a,s){var o=t?t.call(n,e,a,s):e;r>o&&(i=e,r=o)}),i},k.shuffle=function(e){var t,n=0,i=[];return _(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return null==e?k.identity:k.isFunction(e)?e:k.property(e)};k.sortBy=function(e,t,n){return t=E(t),k.pluck(k.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var z=function(e){return function(t,n,i){var r={};return n=E(n),_(t,function(a,s){var o=n.call(i,a,s,t);e(r,o,a)}),r}};k.groupBy=z(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]}),k.indexBy=z(function(e,t,n){e[t]=n}),k.countBy=z(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=E(n);for(var r=n.call(i,t),a=0,s=e.length;s>a;){var o=a+s>>>1;n.call(i,e[o])<r?a=o+1:s=o}return a},k.toArray=function(e){return e?k.isArray(e)?o.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:o.call(e,0,t)},k.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var A=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(_(e,function(e){k.isArray(e)||k.isArguments(e)?t?s.apply(n,e):A(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return A(e,t,[])},k.without=function(e){return k.difference(e,o.call(arguments,1))},k.partition=function(e,t){var n=[],i=[];return _(e,function(e){(t(e)?n:i).push(e)}),[n,i]},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,a=[],s=[];return _(r,function(n,i){(t?i&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),a.push(e[i]))}),a},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=o.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})},k.difference=function(e){var t=l.apply(i,o.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var j=function(){};k.bind=function(e,t){var n,i;if(w&&e.bind===w)return w.apply(e,o.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(o.call(arguments)));j.prototype=e.prototype;var r=new j;j.prototype=null;var a=e.apply(r,n.concat(o.call(arguments)));return Object(a)===a?a:r}},k.partial=function(e){var t=o.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,a=i.length;a>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},k.bindAll=function(e){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return _(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(o.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,a,s=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:k.now(),s=null,a=e.apply(i,r),i=r=null};return function(){var c=k.now();o||n.leading!==!1||(o=c);var u=t-(c-o);return i=this,r=arguments,0>=u?(clearTimeout(s),s=null,o=c,a=e.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,u)),a}},k.debounce=function(e,t,n){var i,r,a,s,o,l=function(){var c=k.now()-s;t>c?i=setTimeout(l,t-c):(i=null,n||(o=e.apply(a,r),a=r=null))};return function(){a=this,r=arguments,s=k.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(o=e.apply(a,r),a=r=null),o}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return k.partial(t,e)},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=function(e){if(!k.isObject(e))return[];if(T)return T(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return _(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return _(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return _(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var O=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;var s=e.constructor,o=t.constructor;if(s!==o&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=O(e[l],t[l],n,i)););}else{for(var p in e)if(k.has(e,p)&&(l++,!(u=k.has(t,p)&&O(e[p],t[p],n,i))))break;if(u){for(p in t)if(k.has(t,p)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return O(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=x||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},_(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.property=function(e){return function(t){return t[e]}},k.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()
};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=k.invert(N.escape);var M={escape:new RegExp("["+k.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(N.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(M[e],function(t){return N[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){_(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),F.call(this,n.apply(k,e))}})};var P=0;k.uniqueId=function(e){var t=++P+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(r,function(t,n,i,r,o){return s+=e.slice(a,o).replace(L,function(e){return"\\"+I[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),a=o+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},k.chain=function(e){return k(e).chain()};var F=function(e){return this._chain?k(e).chain():e};k.mixin(k),_(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),_(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var r=e.Backbone,a=[],s=(a.push,a.slice);a.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var r=this,a=n.once(function(){r.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,i)},off:function(e,t,i){var r,a,s,o,l,u,p,d;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(o=e?[e]:n.keys(this._events),l=0,u=o.length;u>l;l++)if(e=o[l],s=this._events[e]){if(this._events[e]=r=[],t||i)for(p=0,d=s.length;d>p;p++)a=s[p],(t&&t!==a.callback&&t!==a.callback._callback||i&&i!==a.context)&&r.push(a);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var a=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var s in r)e=r[s],e.off(t,i,this),(a||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var a=n.split(l),s=0,o=a.length;o>s;s++)e[t].apply(e,[a[s]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,r=e.length,a=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,s,o);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){o[t]=function(t,i,r){var a=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.uniqueId("l"));return a[s]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),o.bind=o.on,o.unbind=o.off,n.extend(t,o);var d=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,a,s,o,l,c,u,p;if(null==e)return this;if("object"==typeof e?(a=e,i=t):(a={})[e]=t,i||(i={}),!this._validate(a,i))return!1;s=i.unset,l=i.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(r in a)t=a[r],n.isEqual(p[r],t)||o.push(r),n.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete p[r]:p[r]=t;if(!l){o.length&&(this._pending=i);for(var d=0,h=o.length;h>d;d++)this.trigger("change:"+o[d],this,p[o[d]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var a in e)n.isEqual(r[a],t=e[a])||((i||(i={}))[a]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},L(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,a,s,o=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},o,r)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=o;var t=l.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},L(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=r),s=this.sync(a,this,i),r&&i.wait&&(this.attributes=o),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;L(this,e);var a=this.sync("delete",this,e);return e.wait||r(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(e){d.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(f.prototype,o,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,a,s,o;for(r=0,a=e.length;a>r;r++)o=e[r]=this.get(e[r]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,a,s,o,l,c,u,p=t.at,h=this.model,f=this.comparator&&null==p&&t.sort!==!1,y=n.isString(this.comparator)?this.comparator:null,g=[],v=[],b={},x=t.add,T=t.merge,w=t.remove,k=!f&&x&&w?[]:!1;for(r=0,a=e.length;a>r;r++){if(l=e[r]||{},s=l instanceof d?o=l:l[h.prototype.idAttribute||"id"],c=this.get(s))w&&(b[c.cid]=!0),T&&(l=l===o?o.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(y)&&(u=!0)),e[r]=c;else if(x){if(o=e[r]=this._prepareModel(l,t),!o)continue;g.push(o),this._addReference(o,t)}o=c||o,!k||!o.isNew()&&b[o.id]||k.push(o),b[o.id]=!0}if(w){for(r=0,a=this.length;a>r;++r)b[(o=this.models[r]).cid]||v.push(o);v.length&&this.remove(v,t)}if(g.length||k&&k.length)if(f&&(u=!0),this.length+=g.length,null!=p)for(r=0,a=g.length;a>r;r++)this.models.splice(p+r,0,g[r]);else{k&&(this.models.length=0);var _=k||g;for(r=0,a=_.length;a>r;r++)this.models.push(_[r])}if(u&&this.sort({silent:!0}),!t.silent){for(r=0,a=g.length;a>r;r++)(o=g[r]).trigger("add",o,this,t);(u||k&&k.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(g,function(e){f.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var v=["groupBy","countBy","sortBy","indexBy"];n.each(v,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,T)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(x),a=r[1],s=r[2];i=n.bind(i,this),a+=".delegateEvents"+this.cid,""===s?this.$el.on(a,i):this.$el.on(a,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var a=k[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:a,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||I()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",r.emulateJSON&&(s.data._method=a);var o=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),o?o.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&w&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var _=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,E=/\*\w+/g,z=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(_.prototype,o,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return t.history.route(e,function(n){var s=a._extractParameters(e,n);a.execute(r,s),a.trigger.apply(a,["route:"+i].concat(s)),a.trigger("route",i,s),t.history.trigger("route",a,i,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(z,"\\$&").replace(C,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,N=/msie [\w.]+/,M=/\/$/,P=/#.*$/;A.started=!1,n.extend(A.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(j,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,a=N.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(O,"/"),a&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(j,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(P,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;var R=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=f.extend=_.extend=b.extend=A.extend=R;var I=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),define("framework/Controller",["jquery","underscore","backbone"],function(e,t,n){var i=function(){this.cid=t.uniqueId("controller"),this.initialize.apply(this,arguments)};return i.extend=n.View.extend,t.extend(i.prototype,n.Events,{initialize:function(){}}),i}),define("framework/Model",["underscore","backbone"],function(e,t){return e.extend(t.Model.prototype,{toJSON:function(){var e=this.deepcopy(this.attributes);return"undefined"!=typeof this.id&&null!==this.id&&(e.id=this.id),e},deepcopy:function(e){var t=e instanceof Array?[]:{};for(var n in e)t[n]="object"==typeof e[n]&&null!==e[n]?"function"==typeof e[n].toJSON?e[n].toJSON():this.deepcopy(e[n]):e[n];return t}}),t.Model}),define("framework/View",["underscore","backbone"],function(e,t){return e.extend(t.View.prototype,{dispose:function(){"function"==typeof this.onClose&&this.onClose(),this.remove()}}),t.View}),define("framework/GameObject",["jquery","underscore","backbone","framework/Controller"],function(e,t,n,i){var r=i.extend(t.extend({},n.Events,{getRenderer:function(){return this.renderer.component},setRenderer:function(e){this.renderer={component:e,starttime:e.getStartTime()}},render:function(e){return this.active||(this.active=e>=this.renderer.starttime),this.active?(this.active=this.renderer.component.render(e),this.active):!0}}));return r}),define("framework/Renderer",["jquery","underscore","backbone"],function(e,t,n){var i=n.Renderer=function(e){if(e=e||{},this.cid=t.uniqueId("renderer"),this.snap=e.snap,this.controller=e.controller,"undefined"==typeof this.snap)throw"The snap object is missing as parameter in a Renderer's constructor.";e=t.omit(e,["snap","controller"]),this.initialize.apply(this,[e])};return i.extend=n.View.extend,t.extend(i.prototype,n.Events,{initialize:function(){},render:function(){return!1},getStartTime:function(){throw"Method not implemented."}}),i}),define("framework/API",["jquery","underscore","backbone"],function(e,t,n){return{setupBackend:function(e){var i=n.Model.extend({url:"system/codes",parse:function(e){return t.invert(e)}}),r=new i,a=n.ajax;n.ajax=function(n){var i=t.clone(n);i.url=e.host+i.url,i=e.onAjaxPrepare(i),i.success=function(e,t,a){"undefined"==typeof e.data||null===e.data||e.error?(console.warn(i.string+' returned an error: "'+r.get(e.error)+'"'),n.error(r.get(e.error)||e.error)):(console.info(i.string+" was successfull."),n.success(e.data,t,a))},i.error=function(e){console.error(i.string+" failed. ("+e.status+")"),n.error(e.status)},a(i.url,i),console.info(i.string+" raised")},r.fetch({parse:!0})}}}),function(e,t){"object"==typeof exports?module.exports=t(require("underscore"),require("backbone")):"function"==typeof define&&define.amd&&define("lib/backbone.select",["underscore","backbone"],t)}(this,function(e,t){return function(e,t){function n(e,t){o(e,t),e.selected&&t.select(e,{_silentReselect:!0,_externalEvent:"add"})}function i(e,n,i){r(e,n,t.extend({},i,{_externalEvent:"remove"}))}function r(e,n,i){e._pickyCollections&&(e._pickyCollections=t.without(e._pickyCollections,n._pickyCid)),e.selected&&(e._pickyCollections&&0===e._pickyCollections.length?n.deselect(e,i):n.deselect(e,t.extend({},i,{_skipModelCall:!0})))}function a(e,n){var i,a,s=t.find(n.previousModels,function(e){return e.selected});s&&r(s,e,{_silentLocally:!0}),t.each(n.previousModels,function(n){n._pickyCollections&&(n._pickyCollections=t.without(n._pickyCollections,e._pickyCid))}),e.each(function(t){o(t,e)}),i=e.filter(function(e){return e.selected}),a=t.initial(i),a.length&&t.each(a,function(e){e.deselect()}),i.length&&e.select(t.last(i),{silent:!0})}function s(e,n){var i,a=t.filter(n.previousModels,function(e){return e.selected});a&&t.each(a,function(t){r(t,e,{_silentLocally:!0})}),t.each(n.previousModels,function(n){n._pickyCollections&&(n._pickyCollections=t.without(n._pickyCollections,e._pickyCid))}),e.each(function(t){o(t,e)}),i=e.filter(function(e){return e.selected}),i.length&&t.each(i,function(t){e.select(t,{silent:!0})})}function o(e,t){e._pickyCollections||(e._pickyCollections=[]),e._pickyCollections.push(t._pickyCid)}function l(e){e.each(function(t){r(t,e,{_silentLocally:!0})})}function c(e){return t.omit(e,"_silentLocally","_externalEvent")}function u(e){return t.omit(e,"_silentLocally","_silentReselect","_skipModelCall","_processedBy","_eventQueue","_eventQueueAppendOnly")}function p(e){function n(e,t){i[t]=e}var i=[];return t.each(e,n),i}function d(e){return e||(e={}),e._processedBy||(e._processedBy={}),e._eventQueue||(e._eventQueue=[]),e}function h(e,t,n){var i=e._eventQueueAppendOnly||e._eventQueue;i.push({actor:t,triggerArgs:n})}function f(e){var n,i;if(e._eventQueue.length&&(n=t.every(e._processedBy,function(e){return e.done})))for(m(e._eventQueue);e._eventQueue.length;)i=e._eventQueue.pop(),i.actor.trigger.apply(i.actor,i.triggerArgs)}function m(e){var n={};t.each(e,function(e,i){var r,a,s,o=e.actor,l=e.triggerArgs[0];"Backbone.Select.Many"===o._pickyType&&"reselect:any"!==l&&(r=n[o._pickyCid],r||(r=n[o._pickyCid]={actor:o,indexes:[],merged:{selected:[],deselected:[],options:{}}}),r.indexes.push(i),a=e.triggerArgs[1],s=e.triggerArgs[3],r.merged.selected=r.merged.selected.concat(a.selected),r.merged.deselected=r.merged.deselected.concat(a.deselected),t.extend(r.merged.options,s))}),n=t.filter(n,function(e){return e.indexes.length>1});var i=t.flatten(t.pluck(n,"indexes"));i.sort(function(e,t){return e-t}),t.each(i,function(t,n){e.splice(t-n,1)}),t.each(n,function(t){e.push({actor:t.actor,triggerArgs:["select:some",{selected:t.merged.selected,deselected:t.merged.deselected},t.actor,t.merged.options]})})}function y(t,n){n.select=function(){var i=n.select;return function(r){return r instanceof e.Model?i.apply(n,arguments):t.apply(n,arguments)}}()}function g(e){e.trigger=function(){var n=e.trigger;return function(e){if(v(e)){var i=x(e),r="on"+i.replace(/(^|:)(\w)/gi,b),a=this[r];t.isFunction(a)&&a.apply(this,t.tail(arguments))}return n.apply(this,arguments),this}}()}function v(e){return/^([rd]e)?select(ed)?($|:)/.test(e)}function b(e,t,n){return n.toUpperCase()}function x(e){return"ed"===e.slice(-2)?e=e.slice(0,-2):(":one"===e.slice(-4)||":any"===e.slice(-4))&&(e=e.slice(0,-4)),e}var T={};T.One=function(){},t.extend(T.One.prototype,{_pickyType:"Backbone.Select.One",select:function(e,n){var i=e&&this.selected===e?e:void 0;n=d(n),n._processedBy[this._pickyCid]||(i||(this.deselect(void 0,t.extend(t.omit(n,"_silentLocally","_processedBy","_eventQueue"),{_eventQueueAppendOnly:n._eventQueue})),this.selected=e),n._processedBy[this._pickyCid]={done:!1},n._processedBy[this.selected.cid]||this.selected.select(c(n)),n.silent||n._silentLocally||(i?n._silentReselect||h(n,this,["reselect:one",e,this,u(n)]):h(n,this,["select:one",e,this,u(n)])),n._processedBy[this._pickyCid].done=!0,f(n))},deselect:function(e,t){t=d(t),t._processedBy[this._pickyCid]||this.selected&&(e=e||this.selected,this.selected===e&&(t._processedBy[this._pickyCid]={done:!1},delete this.selected,t._skipModelCall||e.deselect(c(t)),t.silent||t._silentLocally||h(t,this,["deselect:one",e,this,u(t)]),t._processedBy[this._pickyCid].done=!0,f(t)))},close:function(){l(this),this.stopListening()}}),T.Many=function(){},t.extend(T.Many.prototype,{_pickyType:"Backbone.Select.Many",select:function(e,n){var i=p(this.selected),r=this.selected[e.cid]?[e]:[];n=d(n),r.length&&n._processedBy[this._pickyCid]||(r.length||(this.selected[e.cid]=e,this.selectedLength=t.size(this.selected)),n._processedBy[this._pickyCid]={done:!1},n._processedBy[e.cid]||e.select(c(n)),w(this,i,n,r),n._processedBy[this._pickyCid].done=!0,f(n))},deselect:function(e,n){var i=p(this.selected);n=d(n),n._processedBy[this._pickyCid]||this.selected[e.cid]&&(n._processedBy[this._pickyCid]={done:!1},delete this.selected[e.cid],this.selectedLength=t.size(this.selected),n._skipModelCall||e.deselect(c(n)),w(this,i,n),n._processedBy[this._pickyCid].done=!0,f(n))},selectAll:function(e){var n=p(this.selected),i=[];e||(e={}),this.selectedLength=0,this.each(function(n){this.selectedLength++,this.selected[n.cid]&&i.push(n),this.select(n,t.extend({},e,{_silentLocally:!0}))},this),e=d(e),w(this,n,e,i),e._processedBy[this._pickyCid]?e._processedBy[this._pickyCid].done=!0:e._processedBy[this._pickyCid]={done:!0},f(e)},deselectAll:function(e){var n;0!==this.selectedLength&&(n=p(this.selected),e||(e={}),this.each(function(n){n.selected&&this.selectedLength--,this.deselect(n,t.extend({},e,{_silentLocally:!0}))},this),this.selectedLength=0,e=d(e),w(this,n,e),e._processedBy[this._pickyCid]?e._processedBy[this._pickyCid].done=!0:e._processedBy[this._pickyCid]={done:!0},f(e))},selectNone:function(e){this.deselectAll(e)},toggleSelectAll:function(e){this.selectedLength===this.length?this.deselectAll(e):this.selectAll(e)},close:function(){l(this),this.stopListening()}}),T.Me=function(){},t.extend(T.Me.prototype,{_pickyType:"Backbone.Select.Me",select:function(e){var t=this.selected;e=d(e),e._processedBy[this.cid]||(e._processedBy[this.cid]={done:!1},this.selected=!0,this._pickyCollections?this.trigger("_selected",this,c(e)):this.collection&&(e._processedBy[this.collection._pickyCid]||this.collection.select(this,c(e))),e.silent||e._silentLocally||(t?e._silentReselect||h(e,this,["reselected",this,u(e)]):h(e,this,["selected",this,u(e)])),e._processedBy[this.cid].done=!0,f(e))},deselect:function(e){e=d(e),e._processedBy[this.cid]||this.selected&&(e._processedBy[this.cid]={done:!1},this.selected=!1,this._pickyCollections?this.trigger("_deselected",this,c(e)):this.collection&&this.collection.deselect(this,c(e)),e.silent||e._silentLocally||h(e,this,["deselected",this,u(e)]),e._processedBy[this.cid].done=!0,f(e))},toggleSelected:function(e){this.selected?this.deselect(e):this.select(e)}}),T.Me.applyTo=function(n){if(!t.isObject(n))throw new Error("The host object is undefined or not an object.");t.extend(n,new e.Select.Me),g(n)},T.One.applyTo=function(r,s,l){var c;if(!t.isObject(r))throw new Error("The host object is undefined or not an object.");if(arguments.length<2)throw new Error("The `models` parameter has not been passed to Select.One.applyTo. Its value can be undefined if no models are passed in during instantiation, but even so, it must be provided.");if(!(t.isArray(s)||t.isUndefined(s)||t.isNull(s)))throw new Error("The `models` parameter is not of the correct type. It must be either an array of models, or be undefined. (Null is acceptable, too).");
c=r.select,t.extend(r,new e.Select.One),r._pickyCid=t.uniqueId("singleSelect"),g(r),y(c,r),l&&l.enableModelSharing&&(t.each(s||[],function(e){o(e,r),e.selected&&(r.selected&&r.selected.deselect(),r.selected=e)}),r.listenTo(r,"_selected",r.select),r.listenTo(r,"_deselected",r.deselect),r.listenTo(r,"reset",a),r.listenTo(r,"add",n),r.listenTo(r,"remove",i),r._modelSharingEnabled=!0)},T.Many.applyTo=function(r,a,l){var c;if(!t.isObject(r))throw new Error("The host object is undefined or not an object.");if(arguments.length<2)throw new Error("The `models` parameter has not been passed to Select.One.applyTo. Its value can be undefined if no models are passed in during instantiation, but even so, it must be provided.");if(!(t.isArray(a)||t.isUndefined(a)||t.isNull(a)))throw new Error("The `models` parameter is not of the correct type. It must be either an array of models, or be undefined. (Null is acceptable, too).");c=r.select,t.extend(r,new e.Select.Many),r._pickyCid=t.uniqueId("multiSelect"),r.selected={},g(r),y(c,r),l&&l.enableModelSharing&&(t.each(a||[],function(e){o(e,r),e.selected&&(r.selected[e.cid]=e)}),r.listenTo(r,"_selected",r.select),r.listenTo(r,"_deselected",r.deselect),r.listenTo(r,"reset",s),r.listenTo(r,"add",n),r.listenTo(r,"remove",i),r._modelSharingEnabled=!0)};var w=function(e,n,i,r){function a(e,n,i){function r(e){return n.get(e)||i[e]}return t.map(e,r)}if(!i.silent&&!i._silentLocally){var s,o=e.selectedLength,l=e.length,c=t.keys(n),p=t.keys(e.selected),d=t.difference(p,c),f=t.difference(c,p),m=o===c.length&&0===d.length&&0===f.length;if(r&&r.length&&!i._silentReselect&&h(i,e,["reselect:any",r,e,u(i)]),!m)return s={selected:a(d,e,n),deselected:a(f,e,n)},o===l?void h(i,e,["select:all",s,e,u(i)]):0===o?void h(i,e,["select:none",s,e,u(i)]):o>0&&l>o?void h(i,e,["select:some",s,e,u(i)]):void 0}};e.Select=T}(t,e),t.Select}),define("Framework",["underscore","backbone","framework/Controller","framework/Model","framework/View","framework/GameObject","framework/Renderer","framework/API","lib/backbone.select"],function(e,t,n,i,r,a,s,o){var l=t;return l.Controller=n,l.GameObject=a,l.Renderer=s,l.API=o,l});var e=e||function(e,t){var n={},i=n.lib={},r=function(){},a=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;e>r;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-8*(r%4)&255)<<24-8*((i+r)%4);else if(65535<n.length)for(r=0;e>r;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;t>i;i+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),o=n.enc={},l=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;e>i;i++){var r=t[i>>>2]>>>24-8*(i%4)&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new s.init(n,t/2)}},c=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;e>i;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new s.init(n,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,o=r/(4*a),o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0);if(t=o*a,r=e.min(4*t,r),t){for(var l=0;t>l;l+=a)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new s.init(l,r)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);if(function(t){function n(e,t,n,i,r,a,s){return e=e+(t&n|~t&i)+r+s,(e<<a|e>>>32-a)+t}function i(e,t,n,i,r,a,s){return e=e+(t&i|n&~i)+r+s,(e<<a|e>>>32-a)+t}function r(e,t,n,i,r,a,s){return e=e+(t^n^i)+r+s,(e<<a|e>>>32-a)+t}function a(e,t,n,i,r,a,s){return e=e+(n^(t|~i))+r+s,(e<<a|e>>>32-a)+t}for(var s=e,o=s.lib,l=o.WordArray,c=o.Hasher,o=s.algo,u=[],p=0;64>p;p++)u[p]=4294967296*t.abs(t.sin(p+1))|0;o=o.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var s=0;16>s;s++){var o=t+s,l=e[o];e[o]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var s=this._hash.words,o=e[t+0],l=e[t+1],c=e[t+2],p=e[t+3],d=e[t+4],h=e[t+5],f=e[t+6],m=e[t+7],y=e[t+8],g=e[t+9],v=e[t+10],b=e[t+11],x=e[t+12],T=e[t+13],w=e[t+14],k=e[t+15],_=s[0],C=s[1],S=s[2],E=s[3],_=n(_,C,S,E,o,7,u[0]),E=n(E,_,C,S,l,12,u[1]),S=n(S,E,_,C,c,17,u[2]),C=n(C,S,E,_,p,22,u[3]),_=n(_,C,S,E,d,7,u[4]),E=n(E,_,C,S,h,12,u[5]),S=n(S,E,_,C,f,17,u[6]),C=n(C,S,E,_,m,22,u[7]),_=n(_,C,S,E,y,7,u[8]),E=n(E,_,C,S,g,12,u[9]),S=n(S,E,_,C,v,17,u[10]),C=n(C,S,E,_,b,22,u[11]),_=n(_,C,S,E,x,7,u[12]),E=n(E,_,C,S,T,12,u[13]),S=n(S,E,_,C,w,17,u[14]),C=n(C,S,E,_,k,22,u[15]),_=i(_,C,S,E,l,5,u[16]),E=i(E,_,C,S,f,9,u[17]),S=i(S,E,_,C,b,14,u[18]),C=i(C,S,E,_,o,20,u[19]),_=i(_,C,S,E,h,5,u[20]),E=i(E,_,C,S,v,9,u[21]),S=i(S,E,_,C,k,14,u[22]),C=i(C,S,E,_,d,20,u[23]),_=i(_,C,S,E,g,5,u[24]),E=i(E,_,C,S,w,9,u[25]),S=i(S,E,_,C,p,14,u[26]),C=i(C,S,E,_,y,20,u[27]),_=i(_,C,S,E,T,5,u[28]),E=i(E,_,C,S,c,9,u[29]),S=i(S,E,_,C,m,14,u[30]),C=i(C,S,E,_,x,20,u[31]),_=r(_,C,S,E,h,4,u[32]),E=r(E,_,C,S,y,11,u[33]),S=r(S,E,_,C,b,16,u[34]),C=r(C,S,E,_,w,23,u[35]),_=r(_,C,S,E,l,4,u[36]),E=r(E,_,C,S,d,11,u[37]),S=r(S,E,_,C,m,16,u[38]),C=r(C,S,E,_,v,23,u[39]),_=r(_,C,S,E,T,4,u[40]),E=r(E,_,C,S,o,11,u[41]),S=r(S,E,_,C,p,16,u[42]),C=r(C,S,E,_,f,23,u[43]),_=r(_,C,S,E,g,4,u[44]),E=r(E,_,C,S,x,11,u[45]),S=r(S,E,_,C,k,16,u[46]),C=r(C,S,E,_,c,23,u[47]),_=a(_,C,S,E,o,6,u[48]),E=a(E,_,C,S,m,10,u[49]),S=a(S,E,_,C,w,15,u[50]),C=a(C,S,E,_,h,21,u[51]),_=a(_,C,S,E,x,6,u[52]),E=a(E,_,C,S,p,10,u[53]),S=a(S,E,_,C,v,15,u[54]),C=a(C,S,E,_,l,21,u[55]),_=a(_,C,S,E,y,6,u[56]),E=a(E,_,C,S,k,10,u[57]),S=a(S,E,_,C,f,15,u[58]),C=a(C,S,E,_,T,21,u[59]),_=a(_,C,S,E,d,6,u[60]),E=a(E,_,C,S,b,10,u[61]),S=a(S,E,_,C,c,15,u[62]),C=a(C,S,E,_,g,21,u[63]);s[0]=s[0]+_|0,s[1]=s[1]+C|0,s[2]=s[2]+S|0,s[3]=s[3]+E|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var a=t.floor(i/4294967296);for(n[(r+64>>>9<<4)+15]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[(r+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=c._createHelper(o),s.HmacMD5=c._createHmacHelper(o)}(Math),define("md5",function(e){return function(){var t;return t||e.CryptoJS}}(this)),define("config",["md5"],function(e){return{debug:!1,backend:{host:"https://cldr.pf-control.de/ttb-server/dev",headerNames:{timestamp:"ttbTimestamp",hash:"ttbHash",session:"ttbSession"},createAccessHash:function(t){return e.md5("salt"+t.headers.timestamp)}}}}),function(){function e(e,t){return e.name=t}function t(e,t){return e.href=t}function n(e){St.set(e)}function i(e){return"function"==typeof e}function r(e){return"[object Array]"==Object[ot].toString[mt](Object(e))}function a(e){return void 0!=e&&-1<(e.constructor+"")[J]("String")}function s(e,t){return 0==e[J](t)}function o(e){return e?e[G](/^[\s\xa0]+|[\s\xa0]+$/g,""):""}function l(e){var t=Ot[tt]("img");return t.width=1,t.height=1,t.src=e,t}function c(){}function u(e){return F instanceof Function?F(e):(n(28),e)}function p(e){return u(e)[G](/\(/g,"%28")[G](/\)/g,"%29")}function d(e,t){if(e){var n=Ot[tt]("script");n.type="text/javascript",n.async=!0,n.src=e,n.id=t;var i=Ot.getElementsByTagName("script")[0];i[kt].insertBefore(n,i)}}function h(){return pn||"https:"==Ot[ut][yt]?"https:":"http:"}function f(){var e=""+Ot[ut][dt];return 0==e[J]("www.")?e[bt](4):e}function m(e){var t=Ot.referrer;if(/^https?:\/\//i[V](t)){if(e)return t;e="//"+Ot[ut][dt];var n=t[J](e);if((5==n||6==n)&&(e=t[Y](n+e[st]),"/"==e||"?"==e||""==e||":"==e))return;return t}}function y(e,t){if(1==t[st]&&null!=t[0]&&"object"==typeof t[0])return t[0];for(var n={},i=B.min(e[st]+1,t[st]),r=0;i>r;r++){if("object"==typeof t[r]){for(var a in t[r])t[r][pt](a)&&(n[a]=t[r][a]);break}r<e[st]&&(n[e[r]]=t[r])}return n}function g(e){if(100!=e.get(ji)&&L(Zt(e,vi))%1e4>=100*en(e,ji))throw"abort"}function v(e){if(Nt(Zt(e,xi)))throw"abort"}function b(){var e=Ot[ut][yt];if("http:"!=e&&"https:"!=e)throw"abort"}function x(e){try{jt.XMLHttpRequest&&"withCredentials"in new jt.XMLHttpRequest?n(40):jt.XDomainRequest&&n(41),jt[wt].sendBeacon&&n(42)}catch(t){}e.set(vn,en(e,vn)+1);var i=[];Kt.map(function(t,n){if(n.p){var r=e.get(t);void 0!=r&&r!=n[Q]&&("boolean"==typeof r&&(r*=1),i[q](n.p+"="+u(""+r)))}}),i[q]("z="+Yt()),e.set(gn,i[_t]("&"),!0)}function T(e){qt(Zt(e,gn),e.get(yn)),e.set(yn,c,!0)}function w(e){var t=jt.gaData;t&&(t.expId&&e.set(Xn,t.expId),t.expVar&&e.set(Yn,t.expVar))}function k(){if(jt[wt]&&"preview"==jt[wt].loadPurpose)throw"abort"}function _(e){var t=jt.gaDevIds;r(t)&&0!=t[st]&&e.set("&did",t[_t](","),!0)}function C(e){if(!e.get(xi))throw"abort"}function S(e){var t=en(e,Zn);t>=500&&n(15);var i=Zt(e,mn);if("transaction"!=i&&"item"!=i){var i=en(e,ti),r=(new Date)[rt](),a=en(e,ei);if(0==a&&e.set(ei,r),a=B.round(2*(r-a)/1e3),a>0&&(i=B.min(i+a,20),e.set(ei,r)),0>=i)throw"abort";e.set(ti,--i)}e.set(Zn,++t)}function E(e,t,i,r){t[e]=function(){try{return r&&n(r),i[Tt](this,arguments)}catch(t){var a=t&&t[it];if(!(1<=100*B.random()||Nt("?"))){var s=["t=error","_e=exc","_v=j23","sr=1"];e&&s[q]("_f="+e),a&&s[q]("_m="+u(a[bt](0,100))),s[q]("aip=1"),s[q]("z="+Xt()),qt(s[_t]("&"))}throw t}}}function z(){var e,t,n;if((n=(n=jt[wt])?n.plugins:null)&&n[st])for(var i=0;i<n[st]&&!t;i++){var r=n[i];-1<r[it][J]("Shockwave Flash")&&(t=r.description)}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e.GetVariable("$version")}catch(a){}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t="WIN 6,0,21,0",e.AllowScriptAccess="always",t=e.GetVariable("$version")}catch(s){}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),t=e.GetVariable("$version")}catch(o){}return t&&(e=t[K](/[\d]+/g))&&3<=e[st]&&(t=e[0]+"."+e[1]+" r"+e[2]),t||void 0}function A(e,t,n){"none"==t&&(t="");var i=[],r=Pt(e);e="__utma"==e?6:2;for(var a=0;a<r[st];a++){var s=(""+r[a])[ct](".");s[st]>=e&&i[q]({hash:s[0],R:r[a],O:s})}return 0==i[st]?void 0:1==i[st]?i[0]:j(t,i)||j(n,i)||j(null,i)||i[0]}function j(e,t){var n,i;null==e?n=i=1:(n=L(e),i=L(s(e,".")?e[bt](1):"."+e));for(var r=0;r<t[st];r++)if(t[r][U]==n||t[r][U]==i)return t[r]}function O(e){e=e.get(vi);var t=N(e,0);return"_ga=1."+u(t+"."+e)}function N(e,t){for(var n=new Date,i=jt[wt],r=i.plugins||[],n=[e,i.userAgent,n.getTimezoneOffset(),n.getYear(),n.getDate(),n.getHours(),n.getMinutes()+t],i=0;i<r[st];++i)n[q](r[i].description);return L(n[_t]("."))}function M(e,t){if(t==Ot[ut][dt])return!1;for(var n=0;n<e[st];n++)if(e[n]instanceof RegExp){if(e[n][V](t))return!0}else if(0<=t[J](e[n]))return!0;return!1}function P(){var e=jt.gaGlobal=jt.gaGlobal||{};return e.hid=e.hid||Xt()}function R(e){return 0<=e[J](".")||0<=e[J](":")}function I(e){function n(e){var t=(e[dt]||"")[ct](":")[0][Ct](),n=(e[yt]||"")[Ct](),n=1*e[et]||("http:"==n?80:"https:"==n?443:"");return e=e.pathname||"",s(e,"/")||(e="/"+e),[t,""+n,e]}var i=Ot[tt]("a");t(i,Ot[ut][vt]);var r=(i[yt]||"")[Ct](),a=n(i),o=i[ht]||"",l=r+"//"+a[0]+(a[1]?":"+a[1]:"");return s(e,"//")?e=r+e:s(e,"/")?e=l+e:!e||s(e,"?")?e=l+a[2]+(e||o):0>e[ct]("/")[0][J](":")&&(e=l+a[2][bt](0,a[2].lastIndexOf("/"))+"/"+e),t(i,e),r=n(i),{protocol:(i[yt]||"")[Ct](),host:r[0],port:r[1],path:r[2],G:i[ht]||"",url:e||""}}function L(e){var t,n=1,i=0;if(e)for(n=0,t=e[st]-1;t>=0;t--)i=e.charCodeAt(t),n=(n<<6&268435455)+i+(i<<14),i=266338304&n,n=0!=i?n^i>>21:n;return n}var F=encodeURIComponent,$=window,D=setTimeout,B=Math,q="push",U="hash",V="test",H="slice",G="replace",W="data",X="cookie",Y="charAt",J="indexOf",K="match",Q="defaultValue",Z="send",et="port",tt="createElement",nt="setAttribute",it="name",rt="getTime",at="host",st="length",ot="prototype",lt="clientWidth",ct="split",ut="location",pt="hasOwnProperty",dt="hostname",ht="search",ft="target",mt="call",yt="protocol",gt="clientHeight",vt="href",bt="substring",xt="action",Tt="apply",wt="navigator",kt="parentNode",_t="join",Ct="toLowerCase",St=new function(){var e=[];this.set=function(t){e[t]=!0},this.M=function(){for(var t=[],n=0;n<e[st];n++)e[n]&&(t[B.floor(n/6)]=t[B.floor(n/6)]^1<<n%6);for(n=0;n<t[st];n++)t[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Y](t[n]||0);return t[_t]("")+"~"}},Et=function(e,t,i,r){try{e.addEventListener?e.addEventListener(t,i,!!r):e.attachEvent&&e.attachEvent("on"+t,i)}catch(a){n(27)}},zt=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},At=function(){this.keys=[],this.w={},this.m={}};At[ot].set=function(e,t,n){this.keys[q](e),n?this.m[":"+e]=t:this.w[":"+e]=t},At[ot].get=function(e){return this.m[pt](":"+e)?this.m[":"+e]:this.w[":"+e]},At[ot].map=function(e){for(var t=0;t<this.keys[st];t++){var n=this.keys[t],i=this.get(n);i&&e(n,i)}};var jt=$,Ot=document,Nt=function(e){var t=jt._gaUserPrefs;if(t&&t.ioo&&t.ioo()||e&&!0===jt["ga-disable-"+e])return!0;try{var n=jt.external;if(n&&n._gaUserPrefs&&"oo"==n._gaUserPrefs)return!0}catch(i){}return!1},Mt=function(e){D(e,100)},Pt=function(e){var t=[],n=Ot[X][ct](";");e=new RegExp("^\\s*"+e+"=\\s*(.*?)\\s*$");for(var i=0;i<n[st];i++){var r=n[i][K](e);r&&t[q](r[1])}return t},Rt=function(e,t,i,r,a,s){if(a=Nt(a)?!1:Lt[V](Ot[ut][dt])||"/"==i&&It[V](r)?!1:!0,!a)return!1;if(t&&1200<t[st]&&(t=t[bt](0,1200),n(24)),i=e+"="+t+"; path="+i+"; ",s&&(i+="expires="+new Date((new Date)[rt]()+s).toGMTString()+"; "),r&&"none"!=r&&(i+="domain="+r+";"),r=Ot[X],Ot.cookie=i,!(r=r!=Ot[X]))e:{for(e=Pt(e),r=0;r<e[st];r++)if(t==e[r]){r=!0;break e}r=!1}return r},It=new RegExp(/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/),Lt=new RegExp(/(^|\.)doubleclick\.net$/i),Ft=function(){for(var e=jt[wt],e=e.appName+e.version+e.platform+e.userAgent+(Ot[X]?Ot[X]:"")+(Ot.referrer?Ot.referrer:""),t=e[st],n=jt.history[st];n>0;)e+=n--^t++;return L(e)},$t=function(){return h()+"//www.google-analytics.com"},Dt=function(t){e(this,"len"),this.message=t+"-8192"},Bt=function(t){e(this,"ff2post"),this.message=t+"-2036"},qt=function(e,t){if(t=t||c,2036>=e[st])Ut(e,t);else{if(!(8192>=e[st]))throw new Dt(e[st]);var n=t;if(0<=jt[wt].userAgent[J]("Firefox")&&![].reduce)throw new Bt(e[st]);Ht(e,n)||Vt(e,n)||Gt(e,n)||n()}},Ut=function(e,t){var n=l($t()+"/collect?"+e);n.onload=n.onerror=function(){n.onload=null,n.onerror=null,t()}},Vt=function(e,t){var n;return(n=jt.XDomainRequest)?(n=new n,n.open("POST",$t()+"/collect"),n.onerror=function(){t()},n.onload=t,n[Z](e),!0):!1},Ht=function(e,t){var n=jt.XMLHttpRequest;if(!n)return!1;var i=new n;return"withCredentials"in i?(i.open("POST",$t()+"/collect",!0),i.withCredentials=!0,i.setRequestHeader("Content-Type","text/plain"),i.onreadystatechange=function(){4==i.readyState&&(t(),i=null)},i[Z](e),!0):!1},Gt=function(t,n){if(!Ot.body)return Mt(function(){Gt(t,n)}),!0;t=F(t);try{var i=Ot[tt]('<iframe name="'+t+'"></iframe>')}catch(r){i=Ot[tt]("iframe"),e(i,t)}i.height="0",i.width="0",i.style.display="none",i.style.visibility="hidden";var a=Ot[ut],a=$t()+"/analytics_iframe.html#"+F(a[yt]+"//"+a[at]+"/favicon.ico"),s=function(){i.src="",i[kt]&&i[kt].removeChild(i)};Et(jt,"beforeunload",s);var o=!1,l=0,c=function(){if(!o){try{if(l>9||i.contentWindow[ut][at]==Ot[ut][at])return o=!0,s(),zt(jt,"beforeunload",s),void n()}catch(e){}l++,D(c,200)}};return Et(i,"load",c),Ot.body.appendChild(i),i.src=a,!0},Wt=function(){this.t=[]};Wt[ot].add=function(e){this.t[q](e)},Wt[ot].D=function(e){try{for(var t=0;t<this.t[st];t++){var n=e.get(this.t[t]);n&&i(n)&&n[mt](jt,e)}}catch(r){}t=e.get(yn),t!=c&&i(t)&&(e.set(yn,c,!0),D(t,10))};var Xt=function(){return B.round(2147483647*B.random())},Yt=function(){try{var e=new Uint32Array(1);return jt.crypto.getRandomValues(e),2147483647&e[0]}catch(t){return Xt()}},Jt=function(){this.data=new At},Kt=new At,Qt=[];Jt[ot].get=function(e){var t=rn(e),n=this[W].get(e);return t&&void 0==n&&(n=i(t[Q])?t[Q]():t[Q]),t&&t.n?t.n(this,e,n):n};var Zt=function(e,t){var n=e.get(t);return void 0==n?"":""+n},en=function(e,t){var n=e.get(t);return void 0==n||""===n?0:1*n};Jt[ot].set=function(e,t,n){if(e)if("object"==typeof e)for(var i in e)e[pt](i)&&tn(this,i,e[i],n);else tn(this,e,t,n)};var tn=function(e,t,n,i){if(void 0!=n)switch(t){case xi:cr[V](n)}var r=rn(t);r&&r.o?r.o(e,t,n,i):e[W].set(t,n,i)},nn=function(t,n,i,r,a){e(this,t),this.p=n,this.n=r,this.o=a,this.defaultValue=i},rn=function(e){var t=Kt.get(e);if(!t)for(var n=0;n<Qt[st];n++){var i=Qt[n],r=i[0].exec(e);if(r){t=i[1](r),Kt.set(t[it],t);break}}return t},an=function(e){var t;return Kt.map(function(n,i){i.p==e&&(t=i)}),t&&t[it]},sn=function(e,t,n,i,r){return e=new nn(e,t,n,i,r),Kt.set(e[it],e),e[it]},on=function(e,t){Qt[q]([new RegExp("^"+e+"$"),t])},ln=function(e,t,n){return sn(e,t,n,void 0,cn)},cn=function(){},un=a($.GoogleAnalyticsObject)&&o($.GoogleAnalyticsObject)||"ga",pn=!1,dn=ln("apiVersion","v"),hn=ln("clientVersion","_v");sn("anonymizeIp","aip");var fn=sn("adSenseId","a"),mn=sn("hitType","t"),yn=sn("hitCallback"),gn=sn("hitPayload");sn("nonInteraction","ni"),sn("currencyCode","cu"),sn("sessionControl","sc",""),sn("queueTime","qt");var vn=sn("_s","_s");sn("screenName","cd");var bn=sn("location","dl",""),xn=sn("referrer","dr"),Tn=sn("page","dp","");sn("hostname","dh");var wn=sn("language","ul"),kn=sn("encoding","de");sn("title","dt",function(){return Ot.title||void 0}),on("contentGroup([0-9]+)",function(e){return new nn(e[0],"cg"+e[1])});var _n=sn("screenColors","sd"),Cn=sn("screenResolution","sr"),Sn=sn("viewportSize","vp"),En=sn("javaEnabled","je"),zn=sn("flashVersion","fl");sn("campaignId","ci"),sn("campaignName","cn"),sn("campaignSource","cs"),sn("campaignMedium","cm"),sn("campaignKeyword","ck"),sn("campaignContent","cc");var An=sn("eventCategory","ec"),jn=sn("eventAction","ea"),On=sn("eventLabel","el"),Nn=sn("eventValue","ev"),Mn=sn("socialNetwork","sn"),Pn=sn("socialAction","sa"),Rn=sn("socialTarget","st"),In=sn("l1","plt"),Ln=sn("l2","pdt"),Fn=sn("l3","dns"),$n=sn("l4","rrt"),Dn=sn("l5","srt"),Bn=sn("l6","tcp"),qn=sn("l7","dit"),Un=sn("l8","clt"),Vn=sn("timingCategory","utc"),Hn=sn("timingVar","utv"),Gn=sn("timingLabel","utl"),Wn=sn("timingValue","utt");sn("appName","an"),sn("appVersion","av",""),sn("appId","aid",""),sn("appInstallerId","aiid",""),sn("exDescription","exd"),sn("exFatal","exf");var Xn=sn("expId","xid"),Yn=sn("expVar","xvar"),Jn=sn("_utma","_utma"),Kn=sn("_utmz","_utmz"),Qn=sn("_utmht","_utmht"),Zn=sn("_hc",void 0,0),ei=sn("_ti",void 0,0),ti=sn("_to",void 0,20);on("dimension([0-9]+)",function(e){return new nn(e[0],"cd"+e[1])}),on("metric([0-9]+)",function(e){return new nn(e[0],"cm"+e[1])}),sn("linkerParam",void 0,void 0,O,cn);var ni=sn("usage","_u",void 0,function(){return St.M()},cn);sn("forceSSL",void 0,void 0,function(){return pn},function(e,t,i){n(34),pn=!!i});var ii=sn("_j1","jid");sn("_j2","gjid"),on("\\&(.*)",function(e){var t=new nn(e[0],e[1]),n=an(e[0][bt](1));return n&&(t.n=function(e){return e.get(n)},t.o=function(e,t,i,r){e.set(n,i,r)},t.p=void 0),t});var ri=ln("_oot"),ai=sn("previewTask"),si=sn("checkProtocolTask"),oi=sn("validationTask"),li=sn("checkStorageTask"),ci=sn("historyImportTask"),ui=sn("samplerTask"),pi=ln("_rlt"),di=sn("buildHitTask"),hi=sn("sendHitTask"),fi=sn("ceTask"),mi=sn("devIdTask"),yi=sn("timingTask"),gi=ln("name"),vi=ln("clientId","cid"),bi=sn("userId","uid"),xi=ln("trackingId","tid"),Ti=ln("cookieName",void 0,"_ga"),wi=ln("cookieDomain"),ki=ln("cookiePath",void 0,"/"),_i=ln("cookieExpires",void 0,63072e3),Ci=ln("legacyCookieDomain"),Si=ln("legacyHistoryImport",void 0,!0),Ei=ln("storage",void 0,"cookie"),zi=ln("allowLinker",void 0,!1),Ai=ln("allowAnchor",void 0,!0),ji=ln("sampleRate","sf",100),Oi=ln("siteSpeedSampleRate",void 0,1),Ni=ln("alwaysSendReferrer",void 0,!1),Mi=function(e){var t=er;return t.fa&&t.$?0:(t.$=!0,0==t.V?0:(void 0===e&&(e=Yt()),0==e%t.V?B.floor(e/t.V)%t.ea+1:0))},Pi=function(e,t){var n=B.min(en(e,Oi),100);if(!(L(Zt(e,vi))%100>=n)&&(n={},Ri(n)||Ii(n))){var i=n[In];void 0==i||1/0==i||isNaN(i)||(i>0?(Li(n,Fn),Li(n,Bn),Li(n,Dn),Li(n,Ln),Li(n,$n),Li(n,qn),Li(n,Un),t(n)):Et(jt,"load",function(){Pi(e,t)},!1))}},Ri=function(e){var t=jt.performance||jt.webkitPerformance,t=t&&t.timing;if(!t)return!1;var n=t.navigationStart;return 0==n?!1:(e[In]=t.loadEventStart-n,e[Fn]=t.domainLookupEnd-t.domainLookupStart,e[Bn]=t.connectEnd-t.connectStart,e[Dn]=t.responseStart-t.requestStart,e[Ln]=t.responseEnd-t.responseStart,e[$n]=t.fetchStart-n,e[qn]=t.domInteractive-n,e[Un]=t.domContentLoadedEventStart-n,!0)},Ii=function(e){if(jt.top!=jt)return!1;var t=jt.external,n=t&&t.onloadT;return t&&!t.isValidLoadTime&&(n=void 0),n>2147483648&&(n=void 0),n>0&&t.setPageReadyTime(),void 0==n?!1:(e[In]=n,!0)},Li=function(e,t){var n=e[t];(isNaN(n)||1/0==n||0>n)&&(e[t]=void 0)},Fi=function(e){return function(t){"pageview"!=t.get(mn)||e.I||(e.I=!0,Pi(t,function(t){e[Z]("timing",t)}))}},$i=!1,Di=function(e){if("cookie"==Zt(e,Ei)){var t=Zt(e,Ti),i=Ui(e),r=Wi(Zt(e,ki)),a=Hi(Zt(e,wi)),s=1e3*en(e,_i),o=Zt(e,xi);if("auto"!=a)Rt(t,i,r,a,o,s)&&($i=!0);else{n(32);var l;if(i=[],a=f()[ct]("."),4!=a[st]||(l=a[a[st]-1],parseInt(l,10)!=l)){for(l=a[st]-2;l>=0;l--)i[q](a[H](l)[_t]("."));i[q]("none"),l=i}else l=["none"];for(var c=0;c<l[st];c++)if(a=l[c],e[W].set(wi,a),i=Ui(e),Rt(t,i,r,a,o,s))return 1==Gi(a)&&n(36),"none"==a&&n(37),void($i=!0);e[W].set(wi,"auto")}}},Bi=function(e){if("cookie"==Zt(e,Ei)&&!$i&&(Di(e),!$i))throw"abort"},qi=function(e){if(e.get(Si)){var t=Zt(e,wi),i=Zt(e,Ci)||f(),r=A("__utma",i,t);r&&(n(19),e.set(Qn,(new Date)[rt](),!0),e.set(Jn,r.R),(t=A("__utmz",i,t))&&r[U]==t[U]&&e.set(Kn,t.R))}},Ui=function(e){var t=p(Zt(e,vi)),n=Gi(Zt(e,wi));return e=Xi(Zt(e,ki)),e>1&&(n+="-"+e),["GA1",n,t][_t](".")},Vi=function(e,t,n){for(var i,r=[],a=[],s=0;s<e[st];s++){var o=e[s];o.r[n]==t?r[q](o):void 0==i||o.r[n]<i?(a=[o],i=o.r[n]):o.r[n]==i&&a[q](o)}return 0<r[st]?r:a},Hi=function(e){return 0==e[J](".")?e.substr(1):e},Gi=function(e){return Hi(e)[ct](".")[st]},Wi=function(e){return e?(1<e[st]&&e.lastIndexOf("/")==e[st]-1&&(e=e.substr(0,e[st]-1)),0!=e[J]("/")&&(e="/"+e),e):"/"},Xi=function(e){return e=Wi(e),"/"==e?1:e[ct]("/")[st]},Yi=new RegExp(/^https?:\/\/([^\/:]+)/),Ji=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/,Ki=function(e){n(48),this.target=e,this.T=!1};Ki[ot].Q=function(e,n){if(e.tagName){if("a"==e.tagName[Ct]())return void(e[vt]&&t(e,Qi(this,e[vt],n)));if("form"==e.tagName[Ct]())return Zi(this,e)}return"string"==typeof e?Qi(this,e,n):void 0};var Qi=function(e,t,n){var i=Ji.exec(t);i&&3<=i[st]&&(t=i[1]+(i[3]?i[2]+i[3]:"")),e=e[ft].get("linkerParam");var r=t[J]("?"),i=t[J]("#");return n?t+=(-1==i?"#":"&")+e:(n=-1==r?"?":"&",t=-1==i?t+(n+e):t[bt](0,i)+n+e+t[bt](i)),t},Zi=function(e,t){if(t&&t[xt]){var n=e[ft].get("linkerParam")[ct]("=")[1];if("get"==t.method[Ct]()){for(var i=t.childNodes||[],r=0;r<i[st];r++)if("_ga"==i[r][it])return void i[r][nt]("value",n);i=Ot[tt]("input"),i[nt]("type","hidden"),i[nt]("name","_ga"),i[nt]("value",n),t.appendChild(i)}else"post"==t.method[Ct]()&&(t.action=Qi(e,t[xt]))}};Ki[ot].S=function(e,i,r){function a(r){try{r=r||jt.event;var a;e:{var o=r[ft]||r.srcElement;for(r=100;o&&r>0;){if(o[vt]&&o.nodeName[K](/^a(?:rea)?$/i)){a=o;break e}o=o[kt],r--}a={}}("http:"==a[yt]||"https:"==a[yt])&&M(e,a[dt]||"")&&a[vt]&&t(a,Qi(s,a[vt],i))}catch(l){n(26)}}var s=this;if(this.T||(this.T=!0,Et(Ot,"mousedown",a,!1),Et(Ot,"touchstart",a,!1),Et(Ot,"keyup",a,!1)),r){r=function(t){if(t=t||jt.event,(t=t[ft]||t.srcElement)&&t[xt]){var n=t[xt][K](Yi);n&&M(e,n[1])&&Zi(s,t)}};for(var o=0;o<Ot.forms[st];o++)Et(Ot.forms[o],"submit",r)}};var er,tr,nr=function(e,t,n){var i=this;this.U=ii,this.aa=t,this.Y=n||rr(e);var r=e.get(di);e.set(di,function(e){e.get(i.U)||("1"==Pt(i.Y)[0]?e.set(i.U,"",!0):e.set(i.U,""+Xt(),!0));var t=r(e);return e.get(i.U)&&Rt(i.Y,"1",e.get(ki),e.get(wi),e.get(xi),6e5),t});var a=e.get(hi);e.set(hi,function(e){var t=a(e);return ir(i,e),t})},ir=function(e,t){if(t.get(e.U)){var n=new At,i=function(e){n.set(rn(e).p,t.get(e))};i(dn),i(hn),i(xi),i(vi),i(e.U),i(ni);var r=e.aa;"/"===r[Y](0)&&(r=h()+r),n.map(function(e,t){r+=u(e)+"="+u(""+t)+"&"}),r+="z="+Xt(),l(r),t.set(e.U,"",!0)}},rr=function(e){return e.get(gi)&&"t0"!=e.get(gi)?"_dc_"+p(e.get(gi)):"_dc"};er=new function(){this.V=10,this.fa=void 0,this.$=!1,this.ea=1},tr=!1;var ar,sr=function(e,t){var i=e.b;if(!i.get("dcLoaded")){n(29),t=t||{};var r;t[Ti]&&(r=p(t[Ti]));var a="//stats.g.doubleclick.net/collect?t=dc&aip=1&";if("https:"!=Ot[ut][yt]&&!pn){var s=L(i.get(vi));(tr||Mi(s))&&(a="https:"+a,n(33),tr=!0)}new nr(i,a,r),i.set("dcLoaded",!0)}},or=function(){n(38)},lr=function(e,t,n){if(!ar){var i;i=Ot[ut][U];var r=jt[it],a=/^#?gaso=([^&]*)/;(r=(i=(i=i&&i[K](a)||r&&r[K](a))?i[1]:Pt("GASO")[0]||"")&&i[K](/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(Rt("GASO",""+i,n,t,e,0),$._udo||($._udo=t),$._utcp||($._utcp=n),e=r[1],d("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(e?"prefix="+e+"&":"")+Xt(),"_gasojs")),ar=!0}},cr=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,ur=function(e){function t(e,t){i.b[W].set(e,t)}function n(e,n){t(e,n),i.filters.add(e)}var i=this;this.b=new Jt,this.filters=new Wt,t(gi,e[gi]),t(xi,o(e[xi])),t(Ti,e[Ti]),t(wi,e[wi]||f()),t(ki,e[ki]),t(_i,e[_i]),t(Ci,e[Ci]),t(Si,e[Si]),t(zi,e[zi]),t(Ai,e[Ai]),t(ji,e[ji]),t(Oi,e[Oi]),t(Ni,e[Ni]),t(Ei,e[Ei]),t(bi,e[bi]),t(dn,1),t(hn,"j23"),n(ri,v),n(ai,k),n(si,b),n(oi,C),n(li,Bi),n(ci,qi),n(ui,g),n(pi,S),n(fi,w),n(mi,_),n(di,x),n(hi,T),n(yi,Fi(this)),pr(this.b,e[vi]),dr(this.b),this.b.set(fn,P()),lr(this.b.get(xi),this.b.get(wi),this.b.get(ki))},pr=function(e,t){if("cookie"==Zt(e,Ei)){$i=!1;var i;e:{var r=Pt(Zt(e,Ti));if(r&&!(1>r[st])){i=[];for(var a=0;a<r[st];a++){var s;s=r[a][ct](".");var o=s.shift();("GA1"==o||"1"==o)&&1<s[st]?(o=s.shift()[ct]("-"),1==o[st]&&(o[1]="1"),o[0]*=1,o[1]*=1,s={r:o,s:s[_t](".")}):s=void 0,s&&i[q](s)}if(1==i[st]){n(13),i=i[0].s;break e}if(0!=i[st]){if(n(14),r=Gi(Zt(e,wi)),i=Vi(i,r,0),1==i[st]){i=i[0].s;break e}r=Xi(Zt(e,ki)),i=Vi(i,r,1),i=i[0]&&i[0].s;break e}n(12)}i=void 0}i||(i=Zt(e,wi),r=Zt(e,Ci)||f(),i=A("__utma",r,i),(i=void 0==i?void 0:i.O[1]+"."+i.O[2])&&n(10)),i&&(e[W].set(vi,i),$i=!0)}i=e.get(Ai),(a=(i=Ot[ut][i?"href":"search"][K]("(?:&|#|\\?)"+u("_ga")[G](/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==i[st]?i[1]:"")&&(e.get(zi)?(i=a[J]("."),-1==i?n(22):(r=a[bt](i+1),"1"!=a[bt](0,i)?n(22):(i=r[J]("."),-1==i?n(22):(a=r[bt](0,i),i=r[bt](i+1),a!=N(i,0)&&a!=N(i,-1)&&a!=N(i,-2)?n(23):(n(11),e[W].set(vi,i)))))):n(21)),t&&(n(9),e[W].set(vi,u(t))),e.get(vi)||((i=(i=jt.gaGlobal&&jt.gaGlobal.vid)&&-1!=i[ht](/^(?:utma\.)?\d+\.\d+$/)?i:void 0)?(n(17),e[W].set(vi,i)):(n(8),e[W].set(vi,[Xt()^2147483647&Ft(),B.round((new Date)[rt]()/1e3)][_t](".")))),Di(e)},dr=function(e){var t=jt[wt],i=jt.screen,r=Ot[ut];if(e.set(xn,m(e.get(Ni))),r){var a=r.pathname||"";"/"!=a[Y](0)&&(n(31),a="/"+a),e.set(bn,r[yt]+"//"+r[dt]+a+r[ht])}i&&e.set(Cn,i.width+"x"+i.height),i&&e.set(_n,i.colorDepth+"-bit");var i=Ot.documentElement,o=(a=Ot.body)&&a[lt]&&a[gt],l=[];if(i&&i[lt]&&i[gt]&&("CSS1Compat"===Ot.compatMode||!o)?l=[i[lt],i[gt]]:o&&(l=[a[lt],a[gt]]),i=0>=l[0]||0>=l[1]?"":l[_t]("x"),e.set(Sn,i),e.set(zn,z()),e.set(kn,Ot.characterSet||Ot.charset),e.set(En,t&&"function"==typeof t.javaEnabled&&t.javaEnabled()||!1),e.set(wn,(t&&(t.language||t.browserLanguage)||"")[Ct]()),r&&e.get(Ai)&&(t=Ot[ut][U])){for(t=t[ct](/[?&#]+/),r=[],i=0;i<t[st];++i)(s(t[i],"utm_id")||s(t[i],"utm_campaign")||s(t[i],"utm_source")||s(t[i],"utm_medium")||s(t[i],"utm_term")||s(t[i],"utm_content")||s(t[i],"gclid")||s(t[i],"dclid")||s(t[i],"gclsrc"))&&r[q](t[i]);0<r[st]&&(t="#"+r[_t]("&"),e.set(bn,e.get(bn)+t))}};ur[ot].get=function(e){return this.b.get(e)},ur[ot].set=function(e,t){this.b.set(e,t)};var hr={pageview:[Tn],event:[An,jn,On,Nn],social:[Mn,Pn,Rn],timing:[Vn,Hn,Wn,Gn]};ur[ot].send=function(){if(!(1>arguments[st])){var e,t;"string"==typeof arguments[0]?(e=arguments[0],t=[][H][mt](arguments,1)):(e=arguments[0]&&arguments[0][mn],t=arguments),e&&(t=y(hr[e]||[],t),t[mn]=e,this.b.set(t,void 0,!0),this.filters.D(this.b),this.b[W].m={})}};var fr=function(e){return"prerender"==Ot.visibilityState?!1:(e(),!0)},mr=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,yr=function(e){if(i(e[0]))this.u=e[0];else{var t=mr.exec(e[0]);if(null!=t&&4==t[st]&&(this.c=t[1]||"t0",this.e=t[2]||"",this.d=t[3],this.a=[][H][mt](e,1),this.e||(this.A="create"==this.d,this.i="require"==this.d,this.g="provide"==this.d,this.ba="remove"==this.d),this.i&&(3<=this.a[st]?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(a(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),t=e[1],e=e[2],!this.d)throw"abort";if(this.i&&(!a(t)||""==t))throw"abort";if(this.g&&(!a(t)||""==t||!i(e)))throw"abort";if(R(this.c)||R(this.e))throw"abort";if(this.g&&"t0"!=this.c)throw"abort"}},gr={F:"/plugins/ua/",H:"plugins_",ga:function(){gr.f=[],gr.k=new At,gr.Z=new At,gr.ca={ec:45,ecommerce:46,linkid:47}}};gr.ga(),gr.B=function(e,t,r){t==vr?n(35):t.get(gi);var a=gr.k.get(e);return i(a)?(t[gr.H]=t[gr.H]||new At,t[gr.H].get(e)?!0:(t[gr.H].set(e,new a(t,r||{})),!0)):!1},gr.da=function(e){var t=e.a[0];if(!i(gr.k.get(t))&&!gr.Z.get(t)&&(gr.ca[pt](t)&&n(gr.ca[t]),e=e.X,!e&&gr.ca[pt](t)?(n(39),e=t+".js"):n(43),e)){e&&0<=e[J]("/")||(e=h()+"//www.google-analytics.com"+gr.F+e),e=I(e);var r=e[yt],a=Ot[ut][yt];(r="https:"==r||r==a?!0:"http:"!=r?!1:"http:"==a)&&(r=I(Ot[ut][vt]),e.G||0<=e.url[J]("?")||0<=e.path[J]("://")?r=!1:e[at]==r[at]&&e[et]==r[et]?r=!0:(r="http:"==e[yt]?80:443,r="www.google-analytics.com"==e[at]&&(e[et]||r)==r&&s(e.path,"/plugins/")?!0:!1)),r&&(d(e.url),gr.Z.set(t,!0))}},gr.C=function(e,t){gr.k.set(e,t)},gr.D=function(){var e=gr.J[Tt](gr,arguments),e=gr.f.concat(e);for(gr.f=[];0<e[st]&&!gr.v(e[0])&&(e.shift(),!(0<gr.f[st])););gr.f=gr.f.concat(e)},gr.J=function(){for(var e=[],t=0;t<arguments[st];t++)try{var n=new yr(arguments[t]);n.g?gr.C(n.a[0],n.a[1]):(n.i&&gr.da(n),e[q](n))}catch(i){}return e},gr.v=function(e){try{if(e.u)e.u[mt](jt,vr.j("t0"));else{var t=e.c==un?vr:vr.j(e.c);if(e.A)"t0"==e.c&&vr.create[Tt](vr,e.a);else if(e.ba)vr.remove(e.c);else if(t)if(e.i){if(!gr.B(e.a[0],t,e.W))return!0
}else e.e&&(t=t[gr.H].get(e.e)),t[e.d][Tt](t,e.a)}}catch(n){}};var vr=function(){n(1),gr.D[Tt](gr,[arguments])};vr.h={},vr.P=[],vr.L=0,vr.answer=42;var br=[xi,wi,gi];vr.create=function(){var e=y(br,[][H][mt](arguments));e[gi]||(e[gi]="t0");var t=""+e[gi];return vr.h[t]?vr.h[t]:(e=new ur(e),vr.h[t]=e,vr.P[q](e),e)},vr.remove=function(e){for(var t=0;t<vr.P[st];t++)if(vr.P[t].get(gi)==e){vr.P.splice(t,1),vr.h[e]=null;break}},vr.j=function(e){return vr.h[e]},vr.K=function(){return vr.P[H](0)},vr.N=function(){"ga"!=un&&n(49);var e=jt[un];if(!e||42!=e.answer){vr.L=e&&e.l,vr.loaded=!0;var t=jt[un]=vr;E("create",t,t.create,3),E("remove",t,t.remove),E("getByName",t,t.j,5),E("getAll",t,t.K,6),t=ur[ot],E("get",t,t.get,7),E("set",t,t.set,4),E("send",t,t[Z],2),t=Jt[ot],E("get",t,t.get),E("set",t,t.set),(jt.gaplugins=jt.gaplugins||{}).Linker=Ki,t=Ki[ot],gr.C("linker",Ki),E("decorate",t,t.Q,20),E("autoLink",t,t.S,25),gr.C("displayfeatures",sr),gr.C("adfeatures",or),e=e&&e.q,r(e)?gr.D[Tt](vr,e):n(50)}},function(){var e=vr.N;if(!fr(e)){n(16);var t=!1,i=function(){!t&&fr(e)&&(t=!0,zt(Ot,"visibilitychange",i))};Et(Ot,"visibilitychange",i)}}()}(window),define("google-analytics",function(e){return function(){var t;return t||e.ga}}(this)),define("util/analytics",["jquery","underscore","backbone","google-analytics"],function(e,t,n,i){var r={};return r.trackPageView=function(e){i("send","pageview",""===e.fragment?"/":e.fragment)},r.trackAction=function(e,t,n,r){i("send","event",e,t,n,r)},i("create","UA-52163376-2","auto"),r}),define("app",["jquery","underscore","Framework","util/analytics"],function(e,t,n,i){var r,a=n.Controller.extend({router:null,baseviewIsRendered:!1,startlevel:function(e){this.setFullScreenContent(this.router.views.playlevelview,e)},setFullScreenContent:function(){this.baseviewIsRendered=!1,this.router.views.current=[].shift.call(arguments),this.router.views.current.setElement("#body").render.apply(this.router.views.current,arguments),i.trackPageView(this.router.getCurrentAppStatus())},getMainView:function(){return this.router.views.baseview},setContent:function(){var t=[].shift.call(arguments);this.router.views.current!=t&&(this.baseviewIsRendered||(this.router.views.baseview.render(),this.baseviewIsRendered=!0),null!==this.router.views.current&&this.router.views.current.onClose&&this.router.views.current.onClose(),this.router.views.current=t,this.router.views.current.setElement(e("#content")).render.apply(this.router.views.current,arguments),i.trackPageView(this.router.getCurrentAppStatus()))},init:function(e){n.API.setupBackend({host:e.backend.host,onAjaxPrepare:function(n){return n.string=t.uniqueId("API-Request")+' "'+n.type+" "+n.url,n.headers=n.headers||{},"undefined"!=typeof r.session&&null!==r.session&&r.session.has("hash")&&(n.string+=" with sessionID",n.headers[e.backend.headerNames.session]=r.session.get("hash")),n.headers[e.backend.headerNames.timestamp]=Date.now()/1e3,n.headers[e.backend.headerNames.hash]=e.backend.createAccessHash(n),n}});try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audiocontext=new window.AudioContext}catch(i){console.error("Web Audio API is not supported in this browser")}t.extend(r,e),this.session.restore(),this.router.init()}});return r=new a}),define("models/User",["jquery","underscore","Framework","md5"],function(e,t,n,i){var r=n.Model.extend({defaults:{username:"unknown"},url:"user",initialize:function(){this.on("change",function(){console.log(this.toJSON())},this)},createGravatarURL:function(){var e=this.get("email")||"";return"//gravatar.com/avatar/"+i.MD5(e.toLowerCase()).toString()+"?d=mm&s=200"},parse:function(e){return e===!0?{}:e}});return r}),define("util/Storage",[],function(){var e={sessionStorage:{get:function(e){return sessionStorage.getItem(e)},set:function(e,t){return sessionStorage.setItem(e,t)},check:function(e){return null!==sessionStorage.getItem(e)},clear:function(e){return sessionStorage.removeItem(e)}},localStorage:{get:function(e){return localStorage.getItem(e)},set:function(e,t){return localStorage.setItem(e,t)},check:function(e){return null!==localStorage.getItem(e)},clear:function(e){return localStorage.removeItem(e)}},cookie:{get:function(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURI(i)},set:function(e,t){var n=864e5,i=new Date((new Date).getTime()+parseInt(n)),r=encodeURI(t)+(null===n?"":"; expires="+i.toUTCString());document.cookie=e+"="+r},check:function(e){var t=this.get(e);return null!==t&&""!==t},clear:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}};return e}),define("models/Session",["underscore","Framework","models/User","util/Storage"],function(e,t,n,i){var r=t.Model.extend({defaults:{logged_in:!1},url:"session",options:{persist:!1},initialize:function(){this.store=this.options.persist||"undefined"==typeof sessionStorage||null===sessionStorage?this.options.persist&&"undefined"!=typeof localStorage&&null!==localStorage?i.localStorage:i.cookie:i.sessionStorage},login:function(t,n){n=n||{};var i=e.clone(n),r=this;e.extend(n,{success:function(e,t,n){i.success&&i.success(e,t,n),r.set("logged_in",!0),r.cache()}}),this.save(t,n)},logout:function(){var e=this;this.store.clear("session"),this.destroy({wait:!0,success:function(t){t.clear({silent:!0}),t.id=null,e.set({logged_in:!1})},error:function(e){console.error(e)}})},restore:function(){if(this.store.check("session")){var e=this,t=function(){e.store.clear("session")};try{this.set(JSON.parse(this.store.get("session")))}catch(n){t()}this.fetch({success:function(){e.set({logged_in:!0}),e.cache()},error:t})}},sync:function(n,i,r){return r.attrs=e.pick(i.attributes,["email","password","stay_logged_in"]),t.sync.call(this,n,i,r)},parse:function(e){this.clear({silent:!0});var t={};for(var i in e)switch(i){case"user":t.user=new n(e[i],{parse:!0});break;default:t[i]=e[i]}return t},cache:function(){this.store.set("session",JSON.stringify(e.pick(this.toJSON(),"hash","expireTime")))}});return r}),define("text",["module"],function(e){var t,n,i,r,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),p=c&&location.hostname,d=c&&(location.port||void 0),h={},f=e.config&&e.config()||{};return t={version:"2.0.12",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(i){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,a=e.indexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!s||a>1)?(t=e.substring(0,a),n=e.substring(a+1,e.length)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(r="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var a,s,o,l=t.xdRegExp.exec(e);return l?(a=l[2],s=l[3],s=s.split(":"),o=s[1],s=s[0],!(a&&a!==n||s&&s.toLowerCase()!==i.toLowerCase()||(o||s)&&o!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,f.isBuild&&(h[e]=i),r(i)},load:function(e,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();f.isBuild=r&&r.isBuild;var a=t.parseName(e),s=a.moduleName+(a.ext?"."+a.ext:""),o=n.toUrl(s),l=f.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void i():void(!c||l(o,u,p,d)?t.get(o,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([s],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}))},write:function(e,n,i){if(h.hasOwnProperty(n)){var r=t.jsEscape(h[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,r,a){var s=t.parseName(n),o=s.ext?"."+s.ext:"",l=s.moduleName+o,c=i.toUrl(s.moduleName+o)+".js";t.load(l,i,function(){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},t.write(e,l,n,a)},a)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");0===r.indexOf("﻿")&&(r=r.substring(1)),t(r)}catch(a){i&&i(a)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,i,r){var a,s=t.createXhr();if(s.open("GET",e,!0),r)for(a in r)r.hasOwnProperty(a)&&s.setRequestHeader(a.toLowerCase(),r[a]);f.onXhr&&f.onXhr(s,e),s.onreadystatechange=function(){var t,r;4===s.readyState&&(t=s.status||0,t>399&&600>t?(r=new Error(e+" HTTP status: "+t),r.xhr=s,i&&i(r)):n(s.responseText),f.onXhrComplete&&f.onXhrComplete(s,e))},s.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",a=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),r)),l="";try{for(n=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=o.readLine());)n.append(s),n.append(i);l=String(n.toString())}finally{o.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,s,o,l={};a&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(o,1,0,!1),s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),s.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),l),s.close(),n.close(),t(l.value)}catch(c){throw new Error((o&&o.path||"")+": "+c)}}),t}),define("text!templates/menu.html",[],function(){return'<div class="container-fluid">\n			<div class="navbar-header">\n				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\n					<span class="icon-bar"></span>\n					<span class="icon-bar"></span>\n					<span class="icon-bar"></span>\n				</button>\n				<a class="navbar-brand" href="#/">\n					<img alt="TouchTheBeat" src="img/logo.svg">\n				</a>\n			</div>\n\n			<div class="navbar-collapse collapse">\n				<ul class="nav navbar-nav">\n					<li id="home"><a href="#">Home</a>\n					</li>\n					<li id="chooselevel"><a href="#chooselevel">Play</a>\n					</li>\n                    <li id="levelbuilder"><a href="#levelbuilder">Level Builder</a>\n                    </li>\n					<li class="dropdown">\n						<a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>\n						<ul class="dropdown-menu">\n                            <li><a href="//github.com/TouchTheBeat/TouchTheBeat" target="_blank"><span\n                                    class="glyphicon glyphicon-share"></span> Project on GitHub</a>\n                            </li>\n                            <li><a href="//twitter.com/intent/tweet?text=.@TouchTheBeat " target="_blank"><span\n                                    class="glyphicon glyphicon-share"></span> Give Feedback</a>\n                            </li>\n							<li class="divider"></li>\n                            <li><a href="#legal">Legal information</a>\n                            </li>\n						</ul>\n					</li>\n				</ul>\n				<ul class="nav navbar-nav navbar-right usermenucontainer">\n				</ul>\n            </div>\n            <!--/.navbar-collapse -->\n		</div>'}),define("text!templates/signin.html",[],function(){return'<div class="modal fade bs-modal-sm" id="user_modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"\n     aria-hidden="true">\n    <!-- thanks to TXTCLASS for publishing this: http://bootsnipp.com/snippets/featured/sign-in-sign-up-dual-modal. It was used here. -->\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <ul role="tablist" class="nav nav-tabs">\n                <li class="active"><a href="#signin" role="tab" data-toggle="tab" id="link_signin">Sign In</a></li>\n                <li><a href="#signup" role="tab" data-toggle="tab" id="link_signup">Register</a></li>\n                <li><a href="#about" role="tab" data-toggle="tab">About</a></li>\n            </ul>\n\n            <div class="modal-body">\n                <div class="tab-content">\n                    <div class="tab-pane fade in" id="about">\n                        <p>You will need to log in to create, edit or delete your own levels.\n                            <br>Your password is transfered and stored encryped in our backend. Rest\n                            assured your credentials will not be sold, traded, or given to anyone.</p>\n                        <br>\n\n                        <p>\n                            Please contact <a href="mailto:touchthebeatdev@gmail.com">touchthebeatdev@gmail.com</a>\n                            for any inquiries.</p>\n                    </div>\n                    <div class="tab-pane fade active in" id="signin">\n                        <div class="container">\n                            <form class="form-horizontal" id="form_signin">\n                                <fieldset>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signin_email">E-Mail</label>\n\n                                        <div class="col-sm-10">\n                                            <input name="email" id="signin_email" type="email" placeholder=""\n                                                   class="form-control" required="">\n                                        </div>\n                                </div>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signin_password">Password</label>\n\n                                        <div class="col-sm-10">\n                                            <input name="password" id="signin_password" type="password"\n                                                   placeholder="**************" class="form-control" required="">\n                                            <span class="help-block" style="display: none;"></span>\n                                        </div>\n                                </div>\n\n                                    <div class="form-group">\n                                        <div class="col-sm-offset-2 col-sm-10">\n                                            <button id="btn_signin" name="btn_signin" class="btn btn-primary">Sign In\n                                            </button>\n                                        </div>\n                                </div>\n\n                                </fieldset>\n                        </form>\n                        </div>\n                    </div>\n                    <div class="tab-pane fade" id="signup">\n                        <div class="container">\n                            <form class="form-horizontal" id="form_signup">\n                                <fieldset>\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signup_email">E-Mail</label>\n\n                                        <div class="col-sm-10">\n                                            <input id="signup_email" name="email" type="email" placeholder=""\n                                                   class="form-control" required="">\n                                            <span class="help-block" style="display: none;"></span>\n                                        </div>\n                                    </div>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signup_username">Username</label>\n\n                                        <div class="col-sm-10">\n                                            <input id="signup_username" name="username" type="text" placeholder=""\n                                                   class="form-control" required="">\n                                            <span class="help-block" style="display: none;"></span>\n                                        </div>\n                                    </div>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signup_password">Password</label>\n\n                                        <div class="col-sm-10">\n                                            <input id="signup_password" name="password" type="password"\n                                                   placeholder="**************" class="form-control" required="">\n                                        </div>\n                                    </div>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signup_password_repeat"></label>\n\n                                        <div class="col-sm-10">\n                                            <input id="signup_password_repeat" name="password_repeat" type="password"\n                                                   placeholder="**************" class="form-control" required="">\n                                            <span class="help-block" style="display: none;"></span>\n                                        </div>\n                                    </div>\n\n                                    <div class="form-group">\n                                        <label class="col-sm-2 control-label" for="signup_username">Website</label>\n\n                                        <div class="col-sm-10">\n                                            <input id="signup_homepage" name="homepage" type="url" placeholder=""\n                                                   class="form-control">\n                                        </div>\n                                    </div>\n\n                                    <div class="form-group">\n                                        <div class="col-sm-offset-2 col-sm-10">\n                                            <button id="btn_signup" name="btn_signup" class="btn btn-primary">Sign Up\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                </fieldset>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <center>\n                    <button type="button" class="btn btn-default" id="closebutton">Close</button>\n                </center>\n            </div>\n        </div>\n    </div>\n</div>'}),define("views/SignInView",["jquery","underscore","Framework","text!templates/signin.html","app","models/User","md5"],function(e,t,n,i,r,a,s){var o=n.View.extend({default_texts:{signin_password:"This email/password combination does not exist.",signup_email:"This e-mail address is invalid.",signup_username:"This username is already taken.",signup_password_repeat:"These passwords do not match."},render:function(){var n=this;this.$el.html(t.template(i,{})),this.$("#user_modal").on("shown.bs.modal",function(){n.$("#link_signin").tab("show"),n.$("#signin_email").focus()}),this.listenTo(r.session,"change:logged_in",function(){e("#user_modal").modal("hide")}),this.$("#user_modal").on("hidden.bs.modal",function(){n.remove()}),this.$("#link_signin").on("shown.bs.tab",function(e){n.$("#form_"+e.target.id.substr(5)).find("input:first").focus()}),this.$("#user_modal").modal("show")},events:{"click #btn_signup":"onSignUpBtnClick","click #btn_signin":"onSignInBtnClick","click #closebutton":"closeModal"},onSignUpBtnClick:function(n){n.preventDefault();var i=this,o=e("#form_signup");if(this.validateForm(o)){var l=this.getFormData(o);if(l.password!=l.password_repeat)return i.markValid(!1,"signup_password"),i.markValid(!1,"signup_password_repeat"),!1;var c=new a;l.password=s.MD5(l.password).toString(),c.save(t.pick(l,"username","email","password","homepage"),{success:function(){console.log("signup succeeded"),r.session.login(t.pick(l,"email","password"))},error:function(e,t){switch(console.log("error catched"),t){case"USER_EMAIL_NOT_VALID":i.markValid(!1,"signup_email","This email address does not exist.");break;case"USER_EMAIL_ALREADY_EXISTS":i.markValid(!1,"signup_email","An account with this email address does already exist.");break;case"USER_NAME_ALREADY_EXISTS":i.markValid(!1,"signup_username","This username is already taken.");break;default:console.error("unhandled error from backend")}}})}return!1},onSignInBtnClick:function(t){t.preventDefault();var n=this,i=e("#form_signin");if(this.validateForm(i)){var a=this.getFormData(i);return a.password=s.MD5(a.password).toString(),r.session.login(a,{error:function(e,t){switch(t){case"SIGNIN_USER_NOT_FOUND":case"SIGNIN_CREDENTIALS_INCORRECT":n.markValid(!1,"signin_email"),n.markValid(!1,"signin_password");break;default:console.error("unhandled error from backend: "+t)}}}),!1}},markValid:function(e,t,n){var i=this.$("input#"+t),r=i.closest(".form-group");r.removeClass(e?"has-error":"has-success"),e||r.addClass("has-error");var a=i.siblings(".help-block").first();a&&(a[e?"hide":"show"](),a.html(n||this.default_texts[t]))},validateForm:function(t){var n=!0,i=this;return t.find("input").each(function(){var t=this.checkValidity();i.markValid(t,e(this).attr("id")),n=n&&t}),n},getFormData:function(t){var n={},i=t.serializeArray();return e.each(i,function(){void 0!==n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n},closeModal:function(){e("#user_modal").modal("hide")}});return o}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e(r);t&&t.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),a="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,a)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[r]()),i[r](null==a[t]?this.options[t]:a[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof t?r.to(t):s?r[s]():a.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),a=this.interval,s="next"==t?"left":"right",o="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[o]()}if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(r)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=e(this),a=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var s=e.extend({},a.data(),r.data()),o=r.attr("data-slide-to");o&&(s.interval=!1),t.call(a,s),o&&a.data("bs.carousel").to(o),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&a.toggle&&"show"==t&&(t=!t),r||i.data("bs.collapse",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;t.call(i,"hide"),r||i.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(350)[a](this.$element[0][o])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=e(this),a=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=e(a),o=s.data("bs.collapse"),l=o?"toggle":r.data(),c=r.attr("data-parent"),u=c&&e(c);
o&&o.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(s,l)})}(jQuery),+function(e){function t(t){t&&3===t.which||(e(r).remove(),e(a).each(function(){var i=n(e(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var a=n(r),s=a.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var o={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",o)),i.isDefaultPrevented())return;r.trigger("focus"),a.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==t.keyCode)return 27==t.which&&r.find(a).trigger("focus"),i.trigger("click");var o=" li:not(.divider):visible a",l=r.find('[role="menu"]'+o+', [role="listbox"]'+o);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,s.prototype.toggle).on("keydown.bs.dropdown.data-api",a+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){function t(t,i){return this.each(function(){var r=e(this),a=r.data("bs.modal"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);a||r.data("bs.modal",a=new n(this,s)),"string"==typeof t?a[t](i):s.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),a=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,s,this)})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.tooltip",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var s=r[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,l=o.test(s);l&&(s=s.replace(o,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(l){var d=s,h=this.$element.parent(),f=this.getPosition(h);s="bottom"==s&&c.top+c.height+p-f.scroll>f.height?"top":"top"==s&&c.top-f.scroll-p<0?"bottom":"right"==s&&c.right+u>f.width?"left":"left"==s&&c.left-u<f.left?"right":s,r.removeClass(d).addClass(s)}var m=this.getCalculatedOffset(s,c,u,p);this.applyPlacement(m,s);var y=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",y).emulateTransitionEnd(150):y()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),t.top=t.top+s,t.left=t.left+o,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(t.top=t.top+a-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var p=u.left?2*u.left-r+l:2*u.top-a+c,d=u.left?"left":"top",h=u.left?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:i?e(window).width():t.outerWidth(),height:i?e(window).height():t.outerHeight()},i?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var o=t.top-a-s.scroll,l=t.top+a-s.scroll+i;o<s.top?r.top=s.top-o:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=t.left-a,u=t.left+a+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.popover",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),a=/^#./.test(r)&&e(r);return a&&a.length&&a.is(":visible")&&[[a[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=a[a.length-1])&&this.activate(e);if(s&&t<=r[0])return s!=(e=a[0])&&this.activate(e);for(e=r.length;e--;)s!=a[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:r});if(t.trigger(a),!a.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(t,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),s=i&&e.support.transition&&a.hasClass("fade");s?a.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),a="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),a=this.options.offset,s=a.top,o=a.bottom;"object"!=typeof a&&(o=s=a),"function"==typeof s&&(s=a.top(this.$element)),"function"==typeof o&&(o=a.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=o&&r.top+this.$element.height()>=t-o?"bottom":null!=s&&s>=i?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-o}))}}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),define("lib/bootstrap",function(){}),define("views/SignInMenuButtonView",["jquery","underscore","Framework","views/SignInView","app","lib/bootstrap"],function(e,t,n,i,r){var a=n.View.extend({tagName:"li",render:function(){this.$el.html('<button class="btn btn-primary navbar-btn" id="btn_showsigninmodal">Sign in</button>')},events:{"click #btn_showsigninmodal":"clickedSignInButton"},clickedSignInButton:function(){console.log("clicked signinbutton"),r.session.get("logged_in")||r.getMainView().openSignInModal()}});return a}),define("text!templates/UserMenuButton.html",[],function(){return'<a href="#" class="dropdown-toggle" data-toggle="dropdown">You <span class="caret"></span></a>\n<ul class="dropdown-menu" role="menu">\n    <li class="disabled"><a href="#" id="item_user"><b><%= username %></b><br>\n        <small style="display: block;">Show Profile</small>\n    </a></li>\n    <li class="divider"></li>\n    <li><a href="#" id="item_logout">Logout</a></li>\n    <li class="disabled"><a href="#" id="item_settings">Settings</a></li>\n</ul>\n</div>'}),define("views/UserMenuButtonView",["jquery","underscore","Framework","app","text!templates/UserMenuButton.html","lib/bootstrap"],function(e,t,n,i,r){var a=n.View.extend({tagName:"li",className:"dropdown",render:function(){var e=i.session.get("user");this.$el.html(t.template(r,e.toJSON()))},events:{"click #item_logout":"logout"},logout:function(){i.session.logout()}});return a}),define("framework/ExchangeableContent",["underscore"],function(e){var t=function(){var t={},n=null,i=null,r=null,a="content",s=!1;e.extend(this,{configureExchangableContents:function(e){var t=e||{};r=t.callback_after,i=t.callback_before,a=t.className,"undefined"!=typeof t.contentsareinstances&&(s=t.contentsareinstances)},addContent:function(e,n){t[e]=n},addContents:function(n){e.extend(t,n)},setContent:function(e,t){if(i){var o=i(e,t);o&&(e=o)}null!==n&&(n.onClose&&n.onClose(),s||n.remove()),n=s?new this.getContent(e):this.getContent(e);var l=this.$("."+a).first();n.render.apply(n,t),l.html(n.el),s&&n.delegateEvents(),r&&r()},getContent:function(e){return t[e]||t[e+"view"]},deleteContent:function(e){var n=this.getContent(e);"undefined"!=typeof n&&(n.onClose&&n.onClose(),n.remove(),t[e]=void 0)},getCurrentContent:function(){return n}})};return t}),define("views/MenuView",["jquery","underscore","Framework","text!templates/menu.html","views/SignInMenuButtonView","views/UserMenuButtonView","app","framework/ExchangeableContent","lib/bootstrap"],function(e,t,n,i,r,a,s,o){var l=n.View.extend(t.extend(new o,{el:"#menu",initialize:function(){this.listenTo(s.session,"change:logged_in",this.changeLoggedInState.bind(this))},render:function(){this.configureExchangableContents({className:"usermenucontainer",contentsareinstances:!0}),this.addContents({nosession:new r,session:new a});var e=t.template(i,{});this.$el.html(e),n.history.bind("route",this.updateMenuState.bind(this)),this.changeLoggedInState(s.session)},menustates:{createlevel:"levelbuilder",editlevel:"levelbuilder",buildlevel:"levelbuilder"},events:{"click .navbar-collapse ul li a:not(.dropdown-toggle)":"changeMenuVisibility"},changeMenuVisibility:function(){this.$(".navbar-toggle:visible").click()},changeLoggedInState:function(e){e.get("logged_in")?this.setContent("session"):this.setContent("nosession",["navbar-btn"])},updateMenuState:function(t,n){var i=e(".active");null!==i&&i.removeClass("active");var r=e("#"+(this.menustates[n]||n));null!==r&&r.addClass("active")}}));return l}),define("text!templates/home.html",[],function(){return'<div class="container">\n    <!-- Main jumbotron for a primary marketing message or call to action -->\n    <div class="jumbotron">\n        <div class="container">\n            <h1>TouchTheBeat</h1>\n\n            <p>TouchTheBeat is a HTML5 multi-touch music game currently <strong>in development</strong>. </p>\n\n            <p><a href="#/chooselevel" class="btn btn-primary btn-lg">Try TouchTheBeat &raquo;</a></p>\n        </div>\n    </div>\n\n    <!-- Example row of columns -->\n    <div class="row">\n        <div class="col-lg-4">\n            <h2>The Game</h2>\n\n            <p>TouchTheBeat is <strong>level-based</strong>. Each level consists of a song and a composition of\n                interactive objects. The objects can be either tapped,\n                <del>hold, dragged or slided</del>\n                <i> (soon)</i>. The more <strong>rhythmically accurate</strong> you interact with the objects, the more\n                points you get in the end.\n            </p>\n\n        </div>\n        <div class="col-lg-4">\n            <h2 id="debug">The Level-Builder</h2>\n\n            <p>You can easily create your own levels by using any <strong>SoundCloud track</strong> as music for your\n                level. When finished, you might share and exchange your levels online in text-format. This way it is\n                easy to <strong>play levels created by others</strong>.</p>\n\n            <p><a class="btn btn-default pull-right" href="#levelbuilder">Build a level &raquo;</a></p>\n        </div>\n        <div class="col-lg-4">\n            <h2>Development</h2>\n\n            <p>TouchTheBeat is currently in active development and you are testing an <strong>early version</strong>.\n                The finished game may be completely different than the current version. I am glad about every <strong>feedback</strong>\n                you may give to me. You can give feedback by pressing the button below.</p>\n\n            <p><a class="btn btn-default pull-right" href="//twitter.com/intent/tweet?text=.@TouchTheBeat "\n                  target="_blank">Give Feedback</a></p>\n        </div>\n\n    </div>\n</div>\n'}),define("views/HomeView",["jquery","underscore","Framework","text!templates/home.html"],function(e,t,n,i){var r=n.View.extend({el:"#content",render:function(){var e=t.template(i,{});this.$el.html(e)}});return r}),define("text!templates/leveloverview.html",[],function(){return'<div class="container">\n    <h1>Level Overview</h1>\n    <hr/>\n\n    <p> To play the game right away, choose one of these packaged demo-levels:</p>\n\n    <div class="row">\n        <div id="levelcontainer_packaged" class="list-group"></div>\n    </div>\n\n\n    <hr/>\n    <p>\n        TouchTheBeat lets you create your own levels, too. To start a level you or someone else has created, copy\n        the level-text into the input-field below.\n    </p>\n\n    <div class="alert alert-fatal alert-danger" id="alert_invalidlevel" style="display:none;">\n        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n        <div id="alert_tinvalidlevel_text"><strong>Oh snap!</strong> TouchTheBeat could not parse your leveltext.\n            You\n            might want to <a href="#buildlevel" class="alert-link">create a new level</a>...\n        </div>\n\n    </div>\n\n    <p id="manualinputcontainer">\n    </p>\n\n</div>\n'}),define("text!templates/components/levelpanel.html",[],function(){return'<h4 class="list-group-item-heading"><%- name %></h4>\n<p class="list-group-item-text">\n<dl class="dl-horizontal">\n    <dt>Author</dt>\n    <dd><%- owner.username %></dd>\n    <dt>Track</dt>\n    <dd><%- audio.title %> by <%- audio.artist %></dd>\n    <dt>Duration</dt>\n    <dd><%- duration %></dd>\n</dl>\n</p>'}),define("views/LevelPanelView",["jquery","underscore","Framework","text!templates/components/levelpanel.html"],function(e,t,n,i){var r=n.View.extend({tagName:"a",initialize:function(e){this.callback=e},attributes:{"class":"list-group-item",href:"#"},render:function(e){var n=t.template(i,t.extend(e.toJSON(),{duration:e.getDurationString()}));this.$el.html(n),this.level=e},events:{click:"triggercallback"},triggercallback:function(e){e.preventDefault(),this.callback(this.level)}});return r}),function(e,t){"function"==typeof define&&define.amd?define("tv4",[],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,n){if(t===n)return!0;if("object"==typeof t&&"object"==typeof n){if(Array.isArray(t)!==Array.isArray(n))return!1;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1}else{var r;for(r in t)if(void 0===n[r]&&void 0!==t[r])return!1;for(r in n)if(void 0===t[r]&&void 0!==n[r])return!1;for(r in t)if(!e(t[r],n[r]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,n){function i(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return n=t(n||""),e=t(e||""),n&&e?(n.protocol||e.protocol)+(n.protocol||n.authority?n.authority:e.authority)+i(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+n.pathname:e.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||e.search)+n.hash:null}function i(e){return e.split("#")[0]}function r(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=n(t,e.id),e.id=t),Array.isArray(e))for(var i=0;i<e.length;i++)r(e[i],t);else{"string"==typeof e.$ref&&(e.$ref=n(t,e.$ref));for(var a in e)"enum"!==a&&r(e[a],t)}}function a(e,t,n,i,r){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=n||"",this.schemaPath=i||"",this.subErrors=r||null;
var a=new Error(this.message);if(this.stack=a.stack||a.stacktrace,!this.stack)try{throw a}catch(a){this.stack=a.stack||a.stacktrace}}function s(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function o(e){var t=new l,a=e||"en",s={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(h[e]||(e=e.split("-")[0]),h[e]?(a=e,e):!1):a},addLanguage:function(e,t){var n;for(n in c)t[n]&&!t[c[n]]&&(t[c[n]]=t[n]);var i=e.split("-")[0];if(h[i]){h[e]=Object.create(h[i]);for(n in t)"undefined"==typeof h[i][n]&&(h[i][n]=t[n]),h[e][n]=t[n]}else h[e]=t,h[i]=t;return this},freshApi:function(e){var t=o();return e&&t.language(e),t},validate:function(e,n,i,r){var s=new l(t,!1,h[a],i,r);"string"==typeof n&&(n={$ref:n}),s.addSchema("",n);var o=s.validateAll(e,n,null,null,"");return!o&&r&&(o=s.banUnknownProperties()),this.error=o,this.missing=s.missing,this.valid=null===o,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,n,i,r){var s=new l(t,!0,h[a],i,r);"string"==typeof n&&(n={$ref:n}),s.addSchema("",n),s.validateAll(e,n,null,null,""),r&&s.banUnknownProperties();var o={};return o.errors=s.errors,o.missing=s.missing,o.valid=0===o.errors.length,o},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof c[e])throw new Error("Error already defined: "+e+" as "+c[e]);if("undefined"!=typeof u[t])throw new Error("Error code already used: "+u[t]+" as "+t);c[e]=t,u[t]=e,d[e]=d[t]=n;for(var i in h){var r=h[i];r[e]&&(r[t]=r[t]||r[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:r,resolveUrl:n,getDocumentUri:i,errorCodes:c};return s}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var a=[];for(var s in r)e.call(r,s)&&a.push(s);if(t)for(var o=0;i>o;o++)e.call(r,n[o])&&a.push(n[o]);return a}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&1/0!==i&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var l=function(e,t,n,i,r){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,i&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),r&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var a in e.definedKeywords)this.definedKeywords[a]=e.definedKeywords[a].slice(0)};l.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},l.prototype.createError=function(e,t,n,i,r){var s=this.errorMessages[e]||d[e];if("string"!=typeof s)return new a(e,"Unknown error code "+e+": "+JSON.stringify(t),n,i,r);var o=s.replace(/\{([^{}]*)\}/g,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?i:e});return new a(e,o,n,i,r)},l.prototype.returnError=function(e){return e},l.prototype.collectError=function(e){return e&&this.errors.push(e),null},l.prototype.prefixErrors=function(e,t,n){for(var i=e;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(t,n);return this},l.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(c.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},l.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},l.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(c.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},l.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var i=e,r="";if(-1!==e.indexOf("#")&&(r=e.substring(e.indexOf("#")+1),i=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[i]){n=this.schemas[i];var a=decodeURIComponent(r);if(""===a)return this.resolveRefs(n,t);if("/"!==a.charAt(0))return void 0;for(var s=a.split("/").slice(1),o=0;o<s.length;o++){var l=s[o].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[l]){n=void 0;break}n=n[l]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[i]&&(this.missing.push(i),this.missing[i]=i,this.missingMap[i]=i)},l.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&s(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var n in e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var r=i(e[n]);r&&void 0===this.schemas[r]&&void 0===this.missingMap[r]&&(this.missingMap[r]=r)}}},l.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}e===i(e)+"#"&&(e=i(e)),this.schemas[e]=t,delete this.missingMap[e],r(t,e),this.searchSchemas(t,e)},l.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},l.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},l.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},l.prototype.dropSchemas=function(){this.schemas={},this.reset()},l.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},l.prototype.validateAll=function(e,t,n,i,r){var s;if(t=this.resolveRefs(t),!t)return null;if(t instanceof a)return this.errors.push(t),t;var o,l=this.errors.length,c=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(s=!this.scanned.length,e[this.validatedSchemasKey]){var p=e[this.validatedSchemasKey].indexOf(t);if(-1!==p)return this.errors=this.errors.concat(e[this.validationErrorsKey][p]),null}if(Object.isFrozen(e)&&(o=this.scannedFrozen.indexOf(e),-1!==o)){var d=this.scannedFrozenSchemas[o].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[o][d]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===o&&(o=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),c=this.scannedFrozenSchemas[o].length,this.scannedFrozenSchemas[o][c]=t,this.scannedFrozenValidationErrors[o][c]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(h){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var f=this.errors.length,m=this.validateBasic(e,t,r)||this.validateNumeric(e,t,r)||this.validateString(e,t,r)||this.validateArray(e,t,r)||this.validateObject(e,t,r)||this.validateCombinations(e,t,r)||this.validateFormat(e,t,r)||this.validateDefinedKeywords(e,t,r)||null;if(s){for(;this.scanned.length;){var y=this.scanned.pop();delete y[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(m||f!==this.errors.length)for(;n&&n.length||i&&i.length;){var g=n&&n.length?""+n.pop():null,v=i&&i.length?""+i.pop():null;m&&(m=m.prefixWith(g,v)),this.prefixErrors(f,g,v)}return null!==c?this.scannedFrozenValidationErrors[o][c]=this.errors.slice(l):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(l)),this.handleError(m)},l.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(c.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(c.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},l.prototype.validateDefinedKeywords=function(e,t){for(var n in this.definedKeywords)if("undefined"!=typeof t[n])for(var i=this.definedKeywords[n],r=0;r<i.length;r++){var a=i[r],s=a(e,t[n],t);if("string"==typeof s||"number"==typeof s)return this.createError(c.KEYWORD_CUSTOM,{key:n,message:s}).prefixWith(null,"format");if(s&&"object"==typeof s){var o=s.code||c.KEYWORD_CUSTOM;if("string"==typeof o){if(!c[o])throw new Error("Undefined error code (use defineError): "+o);o=c[o]}var l="object"==typeof s.message?s.message:{key:n,message:s.message||"?"},u=s.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(o,l,s.dataPath||null,u)}}return null},l.prototype.validateBasic=function(e,t,n){var i;return(i=this.validateType(e,t,n))?i.prefixWith(null,"type"):(i=this.validateEnum(e,t,n))?i.prefixWith(null,"type"):null},l.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var i=t.type;"object"!=typeof i&&(i=[i]);for(var r=0;r<i.length;r++){var a=i[r];if(a===n||"integer"===a&&"number"===n&&e%1===0)return null}return this.createError(c.INVALID_TYPE,{type:n,expected:i.join("/")})},l.prototype.validateEnum=function(t,n){if(void 0===n["enum"])return null;for(var i=0;i<n["enum"].length;i++){var r=n["enum"][i];if(e(t,r))return null}return this.createError(c.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},l.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||null},l.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;return void 0===n?null:"number"==typeof e&&e%n!==0?this.createError(c.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n}):null},l.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(c.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(c.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(c.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(c.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},l.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},l.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(c.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(c.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},l.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var n=new RegExp(t.pattern);return n.test(e)?null:this.createError(c.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},l.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},l.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(c.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(c.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},l.prototype.validateArrayUniqueItems=function(t,n){if(n.uniqueItems)for(var i=0;i<t.length;i++)for(var r=i+1;r<t.length;r++)if(e(t[i],t[r])){var a=this.createError(c.ARRAY_UNIQUE,{match1:i,match2:r}).prefixWith(null,"uniqueItems");if(this.handleError(a))return a}return null},l.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var i,r;if(Array.isArray(t.items)){for(r=0;r<e.length;r++)if(r<t.items.length){if(i=this.validateAll(e[r],t.items[r],[r],["items",r],n+"/"+r))return i}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(i=this.createError(c.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+r,"additionalItems"),this.handleError(i)))return i}else if(i=this.validateAll(e[r],t.additionalItems,[r],["additionalItems"],n+"/"+r))return i}else for(r=0;r<e.length;r++)if(i=this.validateAll(e[r],t.items,[r],["items"],n+"/"+r))return i;return null},l.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},l.prototype.validateObjectMinMaxProperties=function(e,t){var n,i=Object.keys(e);return void 0!==t.minProperties&&i.length<t.minProperties&&(n=this.createError(c.OBJECT_PROPERTIES_MINIMUM,{propertyCount:i.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&i.length>t.maxProperties&&(n=this.createError(c.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:i.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},l.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var i=t.required[n];if(void 0===e[i]){var r=this.createError(c.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(r))return r}}return null},l.prototype.validateObjectProperties=function(e,t,n){var i;for(var r in e){var a=n+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[r]&&(s=!0,i=this.validateAll(e[r],t.properties[r],[r],["properties",r],a)))return i;if(void 0!==t.patternProperties)for(var o in t.patternProperties){var l=new RegExp(o);if(l.test(r)&&(s=!0,i=this.validateAll(e[r],t.patternProperties[o],[r],["patternProperties",o],a)))return i}if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(i=this.createError(c.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(r,"additionalProperties"),this.handleError(i)))return i}else if(i=this.validateAll(e[r],t.additionalProperties,[r],["additionalProperties"],a))return i}else this.trackUnknownProperties&&!this.knownPropertyPaths[a]&&(this.unknownPropertyPaths[a]=!0)}return null},l.prototype.validateObjectDependencies=function(e,t,n){var i;if(void 0!==t.dependencies)for(var r in t.dependencies)if(void 0!==e[r]){var a=t.dependencies[r];if("string"==typeof a){if(void 0===e[a]&&(i=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:r,missing:a}).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(Array.isArray(a))for(var s=0;s<a.length;s++){var o=a[s];if(void 0===e[o]&&(i=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:r,missing:o}).prefixWith(null,""+s).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(i=this.validateAll(e,a,[],["dependencies",r],n))return i}return null},l.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},l.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var i,r=0;r<t.allOf.length;r++){var a=t.allOf[r];if(i=this.validateAll(e,a,[],["allOf",r],n))return i}return null},l.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var i,r,a=[],s=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var o=!0,l=0;l<t.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[l],p=this.errors.length,d=this.validateAll(e,u,[],["anyOf",l],n);if(null===d&&p===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)r[h]=!0,delete i[h];for(var f in this.unknownPropertyPaths)r[f]||(i[f]=!0);o=!1;continue}return null}d&&a.push(d.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(c.ANY_OF_MISSING,{},"","/anyOf",a)):void 0},l.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var i,r,a=null,s=[],o=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var l=0;l<t.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[l],p=this.errors.length,d=this.validateAll(e,u,[],["oneOf",l],n);if(null===d&&p===this.errors.length){if(null!==a)return this.errors=this.errors.slice(0,o),this.createError(c.ONE_OF_MULTIPLE,{index1:a,index2:l},"","/oneOf");if(a=l,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)r[h]=!0,delete i[h];for(var f in this.unknownPropertyPaths)r[f]||(i[f]=!0)}}else d&&s.push(d.prefixWith(null,""+l).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===a?(s=s.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(c.ONE_OF_MISSING,{},"","/oneOf",s)):(this.errors=this.errors.slice(0,o),null)},l.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var i,r,a=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,n),o=this.errors.slice(a);return this.errors=this.errors.slice(0,a),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===s&&0===o.length?this.createError(c.NOT_PASSED,{},"","/not"):null};var c={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},u={};for(var p in c)u[c[p]]=p;var d={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name="ValidationError",a.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var h={},f=o();return f.addLanguage("en-gb",d),f.tv4=f,f}),define("schema",[],function(){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{id:{type:"string"},name:{type:"string"},tags:{type:"array",items:{type:"string"}},audio:{type:"object",properties:{artist:{type:"string"},title:{type:"string"},duration:{type:"number"},streamUrl:{type:"string"},permalinkUrl:{type:"string"}},required:["artist","title","duration","streamUrl","permalinkUrl"]},visuals:{type:"object"},gameObjects:{type:"array",items:[{type:"object",properties:{type:{type:"string","enum":["Tap"]},tapTime:{type:"number"},x:{type:"number"},y:{type:"number"},shape:{type:"object",properties:{type:{type:"string","enum":["circle","square_sidedown","square_edgedown","triangle_sidedown","triangle_edgedown"]},size:{type:"string","enum":["small","medium","large"]}},required:["type","size"]}},required:["type","tapTime","x","y","shape"]}],uniqueItems:!0},owner:{type:"object",properties:{id:{type:"string"},username:{type:"string"},homepage:{type:"string"}},required:["id","username"]}},required:["name","audio","gameObjects","owner"]};return e}),define("util/levelvalidator",["jquery","underscore","backbone","tv4","schema"],function(e,t,n,i,r){var a={};return a.validate=function(e){try{if(i.validate(JSON.parse(e),r))return!0;console.info("Level validation: "+i.error.message)}catch(t){console.info("Level validation: "+t.message)}return!1},a}),define("models/GameObject",["jquery","underscore","Framework"],function(e,t,n){var i=n.Model.extend({defaults:{shape:{type:"circle",size:"medium"}},initialize:function(){n.Select.Me.applyTo(this)}});return i}),define("collections/GameObjectCollection",["jquery","underscore","backbone","models/GameObject"],function(e,t,n,i){var r=n.Collection.extend({model:i,initialize:function(e){n.Select.Many.applyTo(this,e)}});return r}),define("models/Track",["jquery","underscore","Framework"],function(e,t,n){var i=n.Model.extend({url:"audio/soundcloud",validate:function(e){return"url"in e&&!e.url.match(i.regex)?i.errorMessages.WRONGFORMAT:void 0},parse:function(e,t){var n=t.error;if(console.log("parsing"),"undefined"!=typeof n){if("track"!==e.kind)return void n(i.errorMessages.NOTRACK,t);if(!e.streamable)return void n(i.errorMessages.NOTSTREAMABLE,t)}return this.clear({silent:!0}),{streamUrl:e.stream_url,permalinkUrl:e.permalink_url,artist:e.user.username,title:e.title,duration:e.duration,artworkUrl:e.artwork_url,avatarUrl:e.avatar_url,artistUrl:e.user.permalink_url}},getStreamUrl:function(){return this.get("streamUrl")+"?client_id=1dfc22b8b6e9ae1fd500cf90f9065607"},getDurationString:function(){var e=this.get("duration");if(e){e=1e3*Math.round(e/1e3);var t=e%6e4/1e3;return Math.floor(e/6e4)+":"+(10>t?"0":"")+t}return"unknown"}});return i.regex=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,i.errorMessages={},i.errorMessages.CONTACTIFERRORSTAYS="Please check if the url is correct, try again and contact me if the error still occurs.",i.errorMessages.SOUNDCLOUDERROR="Sorry. The track you entered could not be found. "+i.errorMessages.CONTACTIFERRORSTAYS,i.errorMessages.NOTRACK="Sorry. The URL you entered is not a valid Soundcloud-Track. "+i.errorMessages.CONTACTIFERRORSTAYS,i.errorMessages.NOTSTREAMABLE="Sorry. The track you entered is not streamable. Please select a different one.",i.errorMessages.WRONGFORMAT="Please make sure the URL has the correct format: https://soundcloud.com/user/title-of-the-track",i}),define("models/Level",["jquery","underscore","Framework","util/levelvalidator","collections/GameObjectCollection","models/Track","models/User","app"],function(e,t,n,i,r,a,s,o){var l=n.Model.extend({defaults:{gameObjects:new r,tags:[],audio:new a,name:""},urlRoot:"level",initialize:function(){this.on("change",function(){console.log(this.toJSON())},this),this.has("owner")||(t.isUndefined(o.session)?console.warn("A level without owner was created before the session was initialized."):this.set("owner",o.session.get("user")))},getDurationString:function(){return this.get("audio").getDurationString()},parse:function(e){var t={};for(var n in e)switch(n){case"gameObjects":t.gameObjects=new r(e[n],{parse:!0});break;case"owner":t.owner=new s(e[n],{parse:!0});break;case"audio":t.audio=(new a).set(e[n]);break;default:t[n]=e[n]}return t}});return l.createFromSoundCloud=function(e){var t=new l,n=new a;return n.fetch({data:e,success:function(e){t.setSoundcloudAudio(e)},error:function(e){throw e}}),t},l}),define("levelcontainer",[],function(){return[{audio:{streamUrl:"https://api.soundcloud.com/tracks/57984848/stream",permalinkUrl:"http://soundcloud.com/dearreadermusic/03-great-white-bear",artist:"Dear Reader",title:"Great White Bear",duration:245939,artworkUrl:"https://i1.sndcdn.com/artworks-000029335022-06ag8f-large.jpg",artistUrl:"http://soundcloud.com/dearreadermusic"},gameObjects:[{type:"Tap",x:130,y:650,tapTime:7.9786666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:9.8986666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:10.837333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:11.861333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:13.269333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:13.525333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:130,y:650,tapTime:15.658666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:17.621333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:18.602666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:19.541333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:20.949333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:21.248,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:150,tapTime:23.338666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:150,tapTime:23.850666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:450,tapTime:24.413333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:450,tapTime:24.874666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:750,tapTime:25.344,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:750,tapTime:25.856,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:1050,tapTime:26.368,shape:{type:"circle",size:"medium"}},{type:"Tap",x:330,y:1050,tapTime:26.88,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:1050,tapTime:27.093333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:750,tapTime:27.306666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:450,tapTime:27.776,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:150,tapTime:28.245333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:150,tapTime:28.8,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:150,tapTime:29.013333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:450,tapTime:29.269333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:730,tapTime:29.696,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:1050,tapTime:30.165333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:150,tapTime:31.146666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:150,tapTime:31.573333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:450,tapTime:32.085333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:450,tapTime:32.554666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:750,tapTime:33.024,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:750,tapTime:33.493333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:1050,tapTime:34.005333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:330,y:1050,tapTime:34.517333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:1050,tapTime:34.730666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:750,tapTime:34.986666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:450,tapTime:35.456,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:150,tapTime:35.925333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:150,tapTime:36.394666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:150,tapTime:36.650666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:450,tapTime:36.906666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:750,tapTime:37.376,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:1050,tapTime:37.845333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:150,tapTime:38.826666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:150,tapTime:39.253333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:450,tapTime:39.765333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:450,tapTime:40.277333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:750,tapTime:40.789333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1500,y:750,tapTime:41.258666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:50,y:1050,tapTime:41.770666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:330,y:1050,tapTime:42.24,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:1050,tapTime:42.453333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:750,tapTime:42.752,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:450,tapTime:43.221333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:550,y:150,tapTime:43.690666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:150,tapTime:44.16,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:150,tapTime:44.373333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:450,tapTime:44.629333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:750,tapTime:45.098666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:970,y:1050,tapTime:45.568,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:550,tapTime:46.592,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:48.554666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:800,tapTime:50.432,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:550,tapTime:52.352,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:550,tapTime:54.314666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:56.234666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:1050,tapTime:57.216,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:57.685333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:800,tapTime:58.197333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:550,tapTime:60.117333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:130,y:650,tapTime:62.037333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:64,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:64.896,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:65.877333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:67.285333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:67.541333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:130,y:650,tapTime:69.674666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:71.637333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:72.533333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:73.557333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:75.008,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:75.221333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:77.482666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:78.890666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:80.384,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:81.365333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:82.816,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:84.224,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:85.162666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:86.613333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:88.064,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:89.045333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:90.496,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:91.946666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:92.928,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:850,tapTime:93.653333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:94.378666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:975,y:600,tapTime:95.146666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:95.829333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:300,y:850,tapTime:96.768,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:850,tapTime:97.493333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:850,tapTime:98.218666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:975,y:600,tapTime:98.944,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:350,tapTime:99.669333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:500,y:600,tapTime:100.65066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:600,tapTime:101.54666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:500,tapTime:102.528,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:200,tapTime:103.50933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:700,tapTime:104.40533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1e3,tapTime:105.38666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1100,y:600,tapTime:106.28266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:600,tapTime:107.30666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:500,y:600,tapTime:108.24533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:600,tapTime:109.184,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:500,tapTime:110.208,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:200,tapTime:111.232,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:700,tapTime:112.128,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1e3,tapTime:113.10933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:114.09066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:114.09066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:115.072,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:115.072,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:116.096,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:116.096,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:117.034,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:117.034,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:118.05866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:118.05866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:118.99733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:118.99733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:119.936,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:119.936,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:120.87466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:120.87466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:121.856,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:121.856,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:122.83733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:122.83733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:123.776,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:123.776,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:124.75,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:124.75,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:125.73866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:125.73866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:126.67733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:126.67733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:127.65866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:127.65866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:128.64,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:128.64,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:500,tapTime:129.62133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:150,tapTime:133.41866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:150,tapTime:133.41866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:150,tapTime:134.4,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:150,tapTime:134.4,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:450,tapTime:135.424,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:450,tapTime:135.424,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:450,tapTime:136.36266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:450,tapTime:136.36266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:750,tapTime:137.30133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:750,tapTime:137.30133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:750,tapTime:138.28266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:750,tapTime:138.28266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:1050,tapTime:139.17,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:1050,tapTime:139.17,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:1050,tapTime:140.20266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:1050,tapTime:140.20266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:150,tapTime:141.14133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:150,tapTime:141.14133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:150,tapTime:142.16533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:150,tapTime:142.16533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:450,tapTime:143.104,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:450,tapTime:143.104,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:450,tapTime:144.04266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:450,tapTime:144.04266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:750,tapTime:144.98133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:750,tapTime:144.98133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:750,tapTime:145.92,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:750,tapTime:145.92,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:1050,tapTime:146.816,shape:{type:"circle",size:"medium"}},{type:"Tap",x:900,y:1050,tapTime:146.816,shape:{type:"circle",size:"medium"}},{type:"Tap",x:350,y:1050,tapTime:147.75466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:1050,tapTime:147.75466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:150.86933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:151.76533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:151.89333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:152.27733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:152.74666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:153.68533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:153.81333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:154.19733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:154.70933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:155.60533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:155.73333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:156.11733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:156.672,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:157.52533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:157.696,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:158.08,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:158.54933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:159.44533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:159.57333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:159.95733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:160.46933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:650,y:700,tapTime:161.408,shape:{type:"circle",size:"medium"}},{type:"Tap",x:920,y:700,tapTime:161.536,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:161.92,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:700,tapTime:162.38933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:500,y:700,tapTime:163.2,shape:{type:"circle",size:"medium"}},{type:"Tap",x:770,y:700,tapTime:163.328,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1040,y:700,tapTime:163.584,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:700,tapTime:163.79733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:164.26666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:166.22933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:167.168,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:168.14933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:169.13066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1300,y:900,tapTime:170.112,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1600,y:900,tapTime:171.09333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:171.98933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:172.50133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:173.952,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:174.93333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:175.872,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:176.85333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1300,y:900,tapTime:177.792,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1600,y:900,tapTime:178.77333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:179.712,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:180.13866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:300,tapTime:180.69333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:181.71733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:182.69866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:183.59466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:184.53333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1300,y:900,tapTime:185.51466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1600,y:900,tapTime:186.5,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:187.43466666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:187.904,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:300,tapTime:188.45866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:189.44,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:190.37866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:191.36,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:192.256,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1300,y:900,tapTime:193.23733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1600,y:900,tapTime:194.21866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:195.15733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:195.584,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:300,tapTime:196.13866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:197.12,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:198.10133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:199.04,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:199.97866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1300,y:900,tapTime:201.00266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1600,y:900,tapTime:201.984,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:300,tapTime:202.88,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:300,tapTime:203.34933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:300,tapTime:203.81866666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:100,y:900,tapTime:204.84266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:900,tapTime:205.824,shape:{type:"circle",size:"medium"}},{type:"Tap",x:700,y:900,tapTime:206.76266666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:207.70133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:208.72533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:208.72533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:209.70666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:209.70666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:210.688,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:210.688,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:211.62,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:211.62,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:212.56533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:212.56533333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:213.55,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:213.55,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:214.528,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:214.528,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:215.55,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:215.55,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:216.448,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:216.448,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:217.38666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:217.38666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:218.368,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:218.368,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:219.30666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:219.30666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:220.288,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:220.288,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:221.269,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:221.269,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:222.208,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:222.208,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:223.189,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:223.189,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:1050,tapTime:224.128,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1050,tapTime:224.128,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:750,tapTime:225.10933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:750,tapTime:225.10933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:450,tapTime:226.048,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:450,tapTime:226.048,shape:{type:"circle",size:"medium"}},{type:"Tap",x:150,y:150,tapTime:227.02933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:150,tapTime:227.02933333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:130,y:650,tapTime:228.05333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:229.97333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:230.912,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:231.85066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:233.30133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:233.55733333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:130,y:650,tapTime:235.73333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:450,y:350,tapTime:237.65333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:750,y:950,tapTime:238.592,shape:{type:"circle",size:"medium"}},{type:"Tap",x:930,y:650,tapTime:239.53066666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1150,y:650,tapTime:240.98133333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1420,y:650,tapTime:241.28,shape:{type:"circle",size:"medium"}}],name:"Demolevel 1",owner:{username:"LiaLinnéa",id:"undefined"},id:"undefined_1"},{audio:{streamUrl:"https://api.soundcloud.com/tracks/129873688/stream",permalinkUrl:"http://soundcloud.com/momomoyouth/dont-wanna-dance-90clip",artist:"_MØ_",title:"Don't Wanna Dance (Clip)",duration:90078,artworkUrl:"https://i1.sndcdn.com/artworks-000071118932-dol82q-large.jpg",artistUrl:"http://soundcloud.com/momomoyouth"},gameObjects:[{type:"Tap",x:400,y:600,tapTime:7.637333333333332,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:7.978666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:8.319999999999999,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:9.045333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:9.557333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:9.898666666666665,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:10.24,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:10.922666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:11.392000000000001,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:11.690666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:12.031999999999998,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:12.714666666666668,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:13.226666666666665,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:13.568,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:13.909333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:14.634666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:15.061333333333332,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:15.402666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:15.786666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:16.384,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:16.896,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:17.237333333333332,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:17.578666666666663,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:18.261333333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:18.730666666666664,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:19.072000000000003,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:19.370666666666665,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:20.138666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:20.693333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:20.991999999999997,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:21.290666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:22.442666666666668,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:22.784,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:23.125333333333337,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:23.381333333333338,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:23.85066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:24.27733333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:24.576,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:24.96,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:25.216,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:25.685333333333332,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:26.15466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:26.453333333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:26.837333333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:27.093333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:27.562666666666665,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:27.989333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:28.288000000000004,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:28.672000000000004,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:28.928000000000004,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:29.354666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:29.866666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:30.165333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:30.506666666666668,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:30.762666666666668,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:31.40266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:31.701333333333338,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:32,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:32.384,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:32.59733333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:33.024,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:33.536,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:33.83466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:34.21866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:34.47466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:34.944,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:37.205333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:37.54666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:37.93066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:38.144,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:38.61333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:39.08266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:39.38133333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:39.72266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:39.97866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:40.448,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:40.91733333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:41.25866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:41.64266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:41.89866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:42.368,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:44.629333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:44.928000000000004,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:45.312000000000005,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:45.525333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:45.952,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:46.42133333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:46.76266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1195,y:600,tapTime:47.14666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:47.36,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:47.82933333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:48.34133333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:48.64,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1247,y:600,tapTime:49.024,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:49.23733333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:49.70666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:52.010666666666665,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:52.053333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:52.522666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:52.522666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:52.949333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:52.992000000000004,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:53.376000000000005,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:53.41866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:53.845333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:53.888,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:54.31466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:54.31466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:54.784,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:54.784,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:55.21066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:55.21066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:55.68000000000001,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:55.68000000000001,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:56.14933333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:56.14933333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:56.61866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:56.61866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:57.04533333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:57.04533333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:57.51466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:57.51466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:57.983999999999995,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:57.983999999999995,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:58.495999999999995,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:58.53866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:58.92266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:58.92266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:59.349333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:59.391999999999996,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:59.81866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:59.81866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:60.33066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:60.33066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:60.757333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:60.757333333333335,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:61.184,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:61.226666666666674,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:61.653333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:61.696,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:62.122666666666674,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:62.165333333333336,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:62.592,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:62.592,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:63.01866666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:63.01866666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:63.53066666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:63.53066666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:64.04266666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:64.04266666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:64.42666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:64.46933333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:180,tapTime:64.896,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:180,tapTime:64.896,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1400,y:1020,tapTime:65.36533333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:200,y:1020,tapTime:65.408,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:300,tapTime:65.87733333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:300,tapTime:65.87733333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1e3,y:900,tapTime:66.304,shape:{type:"circle",size:"medium"}},{type:"Tap",x:600,y:900,tapTime:66.34666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:70.48533333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:70.784,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:71.12533333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:72.32000000000001,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:72.66133333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:73.00266666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:74.112,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:74.496,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:74.83733333333333,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:75.52,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:76.032,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:76.33066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:76.672,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:77.35466666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:77.86666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:78.16533333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:78.50666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:78.76266666666668,shape:{type:"circle",size:"medium"}},{type:"Tap",x:771,y:180,tapTime:79.18933333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:79.70133333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:80,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:80.384,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:80.59733333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:81.06666666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:81.536,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:81.87733333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:82.21866666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:82.47466666666666,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:82.90133333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:83.41333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:83.712,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:84.05333333333334,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:84.352,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:84.77866666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:400,y:600,tapTime:85.248,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:600,tapTime:85.54666666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:1200,y:600,tapTime:85.93066666666667,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:1020,tapTime:86.144,shape:{type:"circle",size:"medium"}},{type:"Tap",x:800,y:180,tapTime:86.61333333333333,shape:{type:"circle",size:"medium"}}],name:"Demolevel 2",owner:{username:"coloreddrums",id:"undefined"},id:"undefined_2"}]
}),define("collections/LevelCollection",["jquery","underscore","backbone","models/Level","levelcontainer"],function(e,t,n,i,r){var a=n.Collection.extend({model:i,url:"levels",initialize:function(){for(var e in r)this.add(r[e],{parse:!0})}});return a}),define("text!templates/components/leveltext-input.html",[],function(){return'<div class="row">\n    <div class="form-group inputstatediv">\n        <label class="control-label">The level-text</label>\n        <input type="text" class="form-control input-lg leveljsoninput" placeholder="Copy you level-text here...">\n\n    </div>\n</div>\n<div class="row">\n    <div class="list-group levelcontainer_custom"></div>\n</div>'}),define("views/LevelTextInputView",["jquery","underscore","Framework","util/levelvalidator","text!templates/components/leveltext-input.html","views/LevelPanelView","models/Level"],function(e,t,n,i,r,a,s){var o=n.View.extend({template:t.template(r,{}),initialize:function(e){this.callback=e},render:function(){return this.$el.html(this.template),this.containerelement_custom=this.$(".levelcontainer_custom"),this.inputstatediv=this.$(".inputstatediv"),this},events:{"input .leveljsoninput":"inputchanged"},inputchanged:function(){var e=this.$(".leveljsoninput").val();if(""===e)this.inputstatediv.removeClass("has-success has-error"),this.containerelement_custom.slideUp(),this.$(".alert_invalidlevel").is(":visible")&&this.$(".alert_invalidlevel").slideUp(),this.containerelement_custom.is(":visible")&&this.containerelement_custom.slideUp();else if(i.validate(e)){this.inputstatediv.removeClass("has-error").addClass("has-success"),this.$(".alert_invalidlevel").is(":visible")&&this.$(".alert_invalidlevel").slideUp();var t=new a(this.callback);t.render(new s(JSON.parse(e),{parse:!0})),this.containerelement_custom.html(t.el),this.containerelement_custom.is(":visible")||this.containerelement_custom.slideDown()}else this.inputstatediv.removeClass("has-success").addClass("has-error"),this.containerelement_custom.is(":visible")&&this.containerelement_custom.slideUp(),this.$(".alert_invalidlevel").slideDown(),this.containerelement_custom.is(":visible")&&this.containerelement_custom.slideUp()}});return o}),define("views/ChooseLevelView",["jquery","underscore","Framework","text!templates/leveloverview.html","views/LevelPanelView","collections/LevelCollection","app","views/LevelTextInputView"],function(e,t,n,i,r,a,s,o){var l=n.View.extend({render:function(){n.history.navigate("chooselevel",{trigger:!1,replace:!0});var l=t.template(i,{});this.$el.html(l),this.levelpanelviews=[],this.containerelement_packaged=e("#levelcontainer_packaged"),this.containerelement_custom=e("#levelcontainer_custom"),this.inputstatediv=e("#inputstatediv"),this.containerelement_packaged.html("");var c=s.startlevel.bind(s),u=new a;u.forEach(function(e){var t=new r(c);t.render(e),this.containerelement_packaged.append(t.el),this.levelpanelviews.push(t)}.bind(this));var p=new o(c);p.render(),e("#manualinputcontainer").html(p.el)}});return l}),define("text!templates/applicationwithmenu.html",[],function(){return'<nav class="navbar navbar-default" id="menu" role="navigation">\n</nav>\n<div id="abovecontent"></div>\n<div id="content"></div>\n<hr>\n<div class="container">\n    <footer>\n        Version: <strong>indev</strong>\n        <a class="pull-right" href="http://soundcloud.com" target="_blank">\n            <img src="img/powered_by_black.png"/>\n        </a>\n        </p>\n    </footer>\n</div>'}),define("views/ApplicationWithMenuView",["jquery","underscore","Framework","text!templates/applicationwithmenu.html","views/MenuView","views/SignInView"],function(e,t,n,i,r,a){var s=n.View.extend({el:"body",render:function(){var e=t.template(i,{});this.$el.html(e),this.menu=new r,this.menu.render()},getMenu:function(){return this.menu},openSignInModal:function(){var t=new a;t.render(),e("#abovecontent").html(t.el)}});return s}),define("text!templates/404.html",[],function(){return'<div class="container">\n    <div class="alert alert-warning alert-dismissable" id="alert404" style="display:none">\n        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n        <strong>Sorry!</strong> The page you requested could not be found. You\'ve been redirected to the home page.\n    </div>\n</div>'}),define("views/PageNotFoundView",["jquery","underscore","Framework","text!templates/404.html"],function(e,t,n,i){var r=n.View.extend({el:"#abovecontent",render:function(){var r=t.template(i,{});this.$el.html(r),e("#alert404").slideDown(),n.history.bind("route",this.updateState)},updateState:function(t,n){if("notfound"!=n){console.log(n);var i=e("#alert404");null!==i&&i.slideUp()}}});return r}),define("text!templates/legal.html",[],function(){return'\n<div class="container">\n<h2>Person responsible for content in accordance with 55 Abs. 2 RStV</h2>\n    <br>\n    Hermann Stolte\n    <br><br>\n\n\n<h2>Disclaimer</h2>\nAccountability for content\nThe contents of our pages have been created with the utmost care. However, we cannot guarantee the contents\' accuracy, completeness or topicality. According to statutory provisions, we are furthermore responsible for our own content on these web pages. In this context, please note that we are accordingly not obliged to monitor merely the transmitted or saved information of third parties, or investigate circumstances pointing to illegal activity. Our obligations to remove or block the use of information under generally applicable laws remain unaffected by this as per §§ 8 to 10 of the Telemedia Act (TMG).\n\nAccountability for links\nResponsibility for the content of external links (to web pages of third parties) lies solely with the operators of the linked pages. No violations were evident to us at the time of linking. Should any legal infringement become known to us, we will remove the respective link immediately.\n\nCopyright\nOur web pages and their contents are subject to German copyright law. Unless expressly permitted by law (§ 44a et seq. of the copyright law), every form of utilizing, reproducing or processing works subject to copyright protection on our web pages requires the prior consent of the respective owner of the rights. Individual reproductions of a work are allowed only for private use, so must not serve either directly or indirectly for earnings. Unauthorized utilization of copyrighted works is punishable (§ 106 of the copyright law).\n\n<i>Source: </i><a href="http://www.twigg.de" target="_blank">twiggs translations</a>\n\n<h3 id="dependencies">Third-party involvement</h3>\n<p>TouchTheBeat uses the following <strong>third party services</strong>:</p>\n<ul>\n    <li><strong>\'audio streaming service\' offered by SoundCloud Limited</strong>, a company incorporated under the laws of England &amp; Wales and with its main place of business at Rheinsberger Str. 76/77, 10115 Berlin, Germany. More information about SoundCloud is available here: https://soundcloud.com/imprint </li>\n</ul>\n<p>I may not be associated with any of these third party services or content provided by them.</p>\n<p>TouchTheBeat uses and contains the following <strong>software components</strong> under their respective licenses:</p>\n<ul>\n    <li><strong>jQuery</strong> JavaScript Library v1.10.1, http://jquery.com/, Includes Sizzle.js http://sizzlejs.com/ Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors Released under the MIT license</li>\n    <li><strong>Underscore.js</strong> 1.6.0 http://underscorejs.org (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters &amp; Editors MIT license.</li>\n    <li><strong>Backbone.js</strong> 1.1.2 http://backbonejs.org (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters &amp; Editors MIT license</li>\n    <li><strong>RequireJS</strong> 2.1.13 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved. Available via the MIT or new BSD license. see: http://github.com/jrburke/requirejs for details</li>\n    <li><strong>RequireJS text</strong> 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved. Available via the MIT or new BSD license. see: http://github.com/requirejs/text for details</li>\n    <li><strong>Bootstrap</strong> v3.2.0 (http://getbootstrap.com) Copyright 2011-2014 Twitter, Inc. Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)</li>\n    <li><strong>Snap.svg</strong> 0.3.0 Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved. Licensed under the Apache License, Version 2.0 ; http://www.apache.org/licenses/LICENSE-2.0</li>\n    <li><strong>TV4.js</strong> Author: Geraint Luff and others Year: 2013 This code is released into the "public domain" by its auth</li>\n\n</ul>\n\n<h2>Privacy Policy</h2>\n    Google Analytics is a web analysis service provided by Google. Google utilizes the data collected to track and examine the use of dev.coloreddrums.com/ttb, to prepare reports on its activities and share them with other Google services.\n    Google may use the data collected to contextualize and personalize the ads of its own advertising network.\n\n    Personal data collected: Cookie and Usage Data. Place of processing: USA. Find Google\'s <a href="http://www.google.com/intl/en/policies/privacy/" target="_blank">privacy policy here</a>.\n    Find information on an opt-out option provided by Google <a href="//tools.google.com/dlpage/gaoptout" target="_blank">here</a>.\n</div>'}),define("views/LegalView",["jquery","underscore","Framework","text!templates/legal.html"],function(e,t,n,i){var r=n.View.extend({el:"#content",render:function(){var e=t.template(i,{});this.$el.html(e)}});return r}),define("text!templates/play.html",[],function(){return'<div id="playdiv" class="svgcontainer">\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1600 1200" id="svg">\n    </svg>\n</div>\n\n'}),function(e){var t,n,i="0.4.2",r="hasOwnProperty",a=/[\.\/]/,s=/\s*,\s*/,o="*",l=function(e,t){return e-t},c={n:{}},u=function(){for(var e=0,t=this.length;t>e;e++)if("undefined"!=typeof this[e])return this[e]},p=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},d=function(e,i){e=String(e);var r,a=n,s=Array.prototype.slice.call(arguments,2),o=d.listeners(e),c=0,h=[],f={},m=[],y=t;m.firstDefined=u,m.lastDefined=p,t=e,n=0;for(var g=0,v=o.length;v>g;g++)"zIndex"in o[g]&&(h.push(o[g].zIndex),o[g].zIndex<0&&(f[o[g].zIndex]=o[g]));for(h.sort(l);h[c]<0;)if(r=f[h[c++]],m.push(r.apply(i,s)),n)return n=a,m;for(g=0;v>g;g++)if(r=o[g],"zIndex"in r)if(r.zIndex==h[c]){if(m.push(r.apply(i,s)),n)break;do if(c++,r=f[h[c]],r&&m.push(r.apply(i,s)),n)break;while(r)}else f[r.zIndex]=r;else if(m.push(r.apply(i,s)),n)break;return n=a,t=y,m};d._events=c,d.listeners=function(e){var t,n,i,r,s,l,u,p,d=e.split(a),h=c,f=[h],m=[];for(r=0,s=d.length;s>r;r++){for(p=[],l=0,u=f.length;u>l;l++)for(h=f[l].n,n=[h[d[r]],h[o]],i=2;i--;)t=n[i],t&&(p.push(t),m=m.concat(t.f||[]));f=p}return m},d.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(s),i=0,r=n.length;r>i;i++)!function(e){for(var n,i=e.split(a),r=c,s=0,o=i.length;o>s;s++)r=r.n,r=r.hasOwnProperty(i[s])&&r[i[s]]||(r[i[s]]={n:{}});for(r.f=r.f||[],s=0,o=r.f.length;o>s;s++)if(r.f[s]==t){n=!0;break}!n&&r.f.push(t)}(n[i]);return function(e){+e==+e&&(t.zIndex=+e)}},d.f=function(e){var t=[].slice.call(arguments,1);return function(){d.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},d.stop=function(){n=1},d.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},d.nts=function(){return t.split(a)},d.off=d.unbind=function(e,t){if(!e)return void(d._events=c={n:{}});var n=e.split(s);if(n.length>1)for(var i=0,l=n.length;l>i;i++)d.off(n[i],t);else{n=e.split(a);var u,p,h,i,l,f,m,y=[c];for(i=0,l=n.length;l>i;i++)for(f=0;f<y.length;f+=h.length-2){if(h=[f,1],u=y[f].n,n[i]!=o)u[n[i]]&&h.push(u[n[i]]);else for(p in u)u[r](p)&&h.push(u[p]);y.splice.apply(y,h)}for(i=0,l=y.length;l>i;i++)for(u=y[i];u.n;){if(t){if(u.f){for(f=0,m=u.f.length;m>f;f++)if(u.f[f]==t){u.f.splice(f,1);break}!u.f.length&&delete u.f}for(p in u.n)if(u.n[r](p)&&u.n[p].f){var g=u.n[p].f;for(f=0,m=g.length;m>f;f++)if(g[f]==t){g.splice(f,1);break}!g.length&&delete u.n[p].f}}else{delete u.f;for(p in u.n)u.n[r](p)&&u.n[p].f&&delete u.n[p].f}u=u.n}}},d.once=function(e,t){var n=function(){return d.unbind(e,n),t.apply(this,arguments)};return d.on(e,n)},d.version=i,d.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("eve",[],function(){return d}):e.eve=d}(this),function(e,t){"function"==typeof define&&define.amd?define("snap",["eve"],function(n){return t(e,n)}):t(e,e.eve)}(this,function(e,t){var n=function(t){var n={},i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},r=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},a=0,s="M"+(+new Date).toString(36),o=function(){return s+(a++).toString(36)},l=Date.now||function(){return+new Date},c=function(e){var t=this;if(null==e)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},u=function(e){var t=this;return null==e?t.spd:void(t.spd=e)},p=function(e){var t=this;return null==e?t.dur:(t.s=t.s*e/t.dur,void(t.dur=e))},d=function(){var e=this;delete n[e.id],e.update(),t("mina.stop."+e.id,e)},h=function(){var e=this;e.pdif||(delete n[e.id],e.update(),e.pdif=e.get()-e.b)},f=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e)},m=function(){var e,t=this;if(r(t.start)){e=[];for(var n=0,i=t.start.length;i>n;n++)e[n]=+t.start[n]+(t.end[n]-t.start[n])*t.easing(t.s)}else e=+t.start+(t.end-t.start)*t.easing(t.s);t.set(e)},y=function(){var e=0;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],s=a.get();e++,a.s=(s-a.b)/(a.dur/a.spd),a.s>=1&&(delete n[r],a.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(a)),a.update()}e&&i(y)},g=function(e,t,r,a,s,l,v){var b={id:o(),start:e,end:t,b:r,s:0,dur:a-r,spd:1,get:s,set:l,easing:v||g.linear,status:c,speed:u,duration:p,stop:d,pause:h,resume:f,update:m};n[b.id]=b;var x,T=0;for(x in n)if(n.hasOwnProperty(x)&&(T++,2==T))break;return 1==T&&i(y),b};return g.time=l,g.getById=function(e){return n[e]||null},g.linear=function(e){return e},g.easeout=function(e){return Math.pow(e,1.7)},g.easein=function(e){return Math.pow(e,.48)},g.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),i=n-t,r=Math.pow(Math.abs(i),1/3)*(0>i?-1:1),a=-n-t,s=Math.pow(Math.abs(a),1/3)*(0>a?-1:1),o=r+s+.5;return 3*(1-o)*o*o+o*o*o},g.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},g.backout=function(e){if(0==e)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},g.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin(2*(e-.075)*Math.PI/.3)+1},g.bounce=function(e){var t,n=7.5625,i=2.75;return 1/i>e?t=n*e*e:2/i>e?(e-=1.5/i,t=n*e*e+.75):2.5/i>e?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t},e.mina=g,g}("undefined"==typeof t?function(){}:t),i=function(){function i(e,t){if(e){if(e.tagName)return _(e);if(a(e,"array")&&i.set)return i.set.apply(i,e);if(e instanceof x)return e;if(null==t)return e=C.doc.querySelector(e),_(e)}return e=null==e?"100%":e,t=null==t?"100%":t,new k(e,t)}function r(e,t){if(t){if("#text"==e&&(e=C.doc.createTextNode(t.text||"")),"string"==typeof e&&(e=r(e)),"string"==typeof t)return"xlink:"==t.substring(0,6)?e.getAttributeNS(X,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(Y,t.substring(4)):e.getAttribute(t);for(var n in t)if(t[S](n)){var i=E(t[n]);i?"xlink:"==n.substring(0,6)?e.setAttributeNS(X,n.substring(6),i):"xml:"==n.substring(0,4)?e.setAttributeNS(Y,n.substring(4),i):e.setAttribute(n,i):e.removeAttribute(n)}}else e=C.doc.createElementNS(Y,e);return e}function a(e,t){return t=E.prototype.toLowerCase.call(t),"finite"==t?isFinite(e):"array"==t&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||L.call(e).slice(8,-1).toLowerCase()==t}function s(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[S](n)&&(t[n]=s(e[n]));return t}function o(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function l(e,t,n){function i(){var r=Array.prototype.slice.call(arguments,0),a=r.join("␀"),s=i.cache=i.cache||{},l=i.count=i.count||[];return s[S](a)?(o(l,a),n?n(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=e.apply(t,r),n?n(s[a]):s[a])}return i}function c(e,t,n,i,r,a){if(null==r){var s=e-n,o=t-i;return s||o?(180+180*j.atan2(-o,-s)/P+360)%360:0}return c(e,t,r,a)-c(n,i,r,a)}function u(e){return e%360*P/180}function p(e){return 180*e/P%360}function d(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,i){return i=i.split(/\s*,\s*|\s+/),"rotate"==n&&1==i.length&&i.push(0,0),"scale"==n&&(i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0),1==i.length&&i.push(i[0],0,0)),t.push("skewX"==n?["m",1,0,j.tan(u(i[0])),1,0,0]:"skewY"==n?["m",1,j.tan(u(i[0])),0,1,0,0]:[n.charAt(0)].concat(i)),e}),t}function h(e,t){var n=rt(e),r=new i.Matrix;if(n)for(var a=0,s=n.length;s>a;a++){var o,l,c,u,p,d=n[a],h=d.length,f=E(d[0]).toLowerCase(),m=d[0]!=f,y=m?r.invert():0;"t"==f&&2==h?r.translate(d[1],0):"t"==f&&3==h?m?(o=y.x(0,0),l=y.y(0,0),c=y.x(d[1],d[2]),u=y.y(d[1],d[2]),r.translate(c-o,u-l)):r.translate(d[1],d[2]):"r"==f?2==h?(p=p||t,r.rotate(d[1],p.x+p.width/2,p.y+p.height/2)):4==h&&(m?(c=y.x(d[2],d[3]),u=y.y(d[2],d[3]),r.rotate(d[1],c,u)):r.rotate(d[1],d[2],d[3])):"s"==f?2==h||3==h?(p=p||t,r.scale(d[1],d[h-1],p.x+p.width/2,p.y+p.height/2)):4==h?m?(c=y.x(d[2],d[3]),u=y.y(d[2],d[3]),r.scale(d[1],d[1],c,u)):r.scale(d[1],d[1],d[2],d[3]):5==h&&(m?(c=y.x(d[3],d[4]),u=y.y(d[3],d[4]),r.scale(d[1],d[2],c,u)):r.scale(d[1],d[2],d[3],d[4])):"m"==f&&7==h&&r.add(d[1],d[2],d[3],d[4],d[5],d[6])}return r}function f(e,t){if(null==t){var n=!0;if(t=e.node.getAttribute("linearGradient"==e.type||"radialGradient"==e.type?"gradientTransform":"pattern"==e.type?"patternTransform":"transform"),!t)return new i.Matrix;t=d(t)}else t=i._.rgTransform.test(t)?E(t).replace(/\.{3}|\u2026/g,e._.transform||R):d(t),a(t,"array")&&(t=i.path?i.path.toString.call(t):E(t)),e._.transform=t;var r=h(t,e.getBBox(1));return n?r:void(e.matrix=r)}function m(e){var t=e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||e.node.parentNode&&_(e.node.parentNode)||i.select("svg")||i(0,0),n=t.select("defs"),r=null==n?!1:n.node;return r||(r=w("defs",t.node).node),r}function y(e){return e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||i.select("svg")}function v(e,t,n){function i(e){if(null==e)return R;if(e==+e)return e;r(c,{width:e});try{return c.getBBox().width}catch(t){return 0}}function a(e){if(null==e)return R;if(e==+e)return e;r(c,{height:e});try{return c.getBBox().height}catch(t){return 0}}function s(i,r){null==t?l[i]=r(e.attr(i)||0):i==t&&(l=r(null==n?e.attr(i)||0:n))}var o=y(e).node,l={},c=o.querySelector(".svg---mgr");switch(c||(c=r("rect"),r(c,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),o.appendChild(c)),e.type){case"rect":s("rx",i),s("ry",a);case"image":s("width",i),s("height",a);case"text":s("x",i),s("y",a);break;case"circle":s("cx",i),s("cy",a),s("r",i);break;case"ellipse":s("cx",i),s("cy",a),s("rx",i),s("ry",a);break;case"line":s("x1",i),s("x2",i),s("y1",a),s("y2",a);break;case"marker":s("refX",i),s("markerWidth",i),s("refY",a),s("markerHeight",a);break;case"radialGradient":s("fx",i),s("fy",a);break;case"tspan":s("dx",i),s("dy",a);break;default:s(t,i)}return o.removeChild(c),l}function b(e){a(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,n=0,i=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){i.appendChild(e.node)}):i.appendChild(e[t].node);var r=i.childNodes;for(t=0;t<r.length;t++)this[n++]=_(r[t]);return this}function x(e){if(e.snap in J)return J[e.snap];var t,n=this.id=W();try{t=e.ownerSVGElement}catch(i){}if(this.node=e,t&&(this.paper=new k(t)),this.type=e.tagName,this.anims={},this._={transform:[]},e.snap=n,J[n]=this,"g"==this.type&&(this.add=b),this.type in{g:1,mask:1,pattern:1})for(var r in k.prototype)k.prototype[S](r)&&(this[r]=k.prototype[r])}function T(e){this.node=e}function w(e,t){var n=r(e);t.appendChild(n);var i=_(n);return i}function k(e,t){var n,i,a,s=k.prototype;if(e&&"svg"==e.tagName){if(e.snap in J)return J[e.snap];var o=e.ownerDocument;n=new x(e),i=e.getElementsByTagName("desc")[0],a=e.getElementsByTagName("defs")[0],i||(i=r("desc"),i.appendChild(o.createTextNode("Created with Snap")),n.node.appendChild(i)),a||(a=r("defs"),n.node.appendChild(a)),n.defs=a;for(var l in s)s[S](l)&&(n[l]=s[l]);n.paper=n.root=n}else n=w("svg",C.doc.body),r(n.node,{height:t,version:1.1,width:e,xmlns:Y});return n}function _(e){return e?e instanceof x||e instanceof T?e:e.tagName&&"svg"==e.tagName.toLowerCase()?new k(e):e.tagName&&"object"==e.tagName.toLowerCase()&&"image/svg+xml"==e.type?new k(e.contentDocument.getElementsByTagName("svg")[0]):new x(e):e}i.version="0.3.0",i.toString=function(){return"Snap v"+this.version},i._={};var C={win:e,doc:e.document};i._.glob=C;var S="hasOwnProperty",E=String,z=parseFloat,A=parseInt,j=Math,O=j.max,N=j.min,M=j.abs,P=(j.pow,j.PI),R=(j.round,""),I=" ",L=Object.prototype.toString,F=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,$="	\n\f\r   ᠎             　\u2028\u2029",D=(i._.separator=new RegExp("[,"+$+"]+"),new RegExp("["+$+"]","g"),new RegExp("["+$+"]*,["+$+"]*")),B={hs:1,rg:1},q=new RegExp("([a-z])["+$+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+$+"]*,?["+$+"]*)+)","ig"),U=new RegExp("([rstm])["+$+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+$+"]*,?["+$+"]*)+)","ig"),V=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+$+"]*,?["+$+"]*","ig"),H=0,G="S"+(+new Date).toString(36),W=function(){return G+(H++).toString(36)},X="http://www.w3.org/1999/xlink",Y="http://www.w3.org/2000/svg",J={},K=i.url=function(e){return"url('#"+e+"')"};i._.$=r,i._.id=W,i.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,i){var r=i;return n.replace(t,function(e,t,n,i,a){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&a&&(r=r()))}),r=(null==r||r==i?e:r)+""};return function(t,i){return E(t).replace(e,function(e,t){return n(e,t,i)})}}(),i._.clone=s,i._.cacher=l,i.rad=u,i.deg=p,i.angle=c,i.is=a,i.snapTo=function(e,t,n){if(n=a(n,"finite")?n:10,a(e,"array")){for(var i=e.length;i--;)if(M(e[i]-t)<=n)return e[i]}else{e=+e;var r=t%e;if(n>r)return t-r;if(r>e-n)return t-r+e}return t},i.getRGB=l(function(e){if(!e||(e=E(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:tt};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:tt};if(!(B[S](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=Q(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:tt};var t,n,r,s,o,l,c=e.match(F);return c?(c[2]&&(r=A(c[2].substring(5),16),n=A(c[2].substring(3,5),16),t=A(c[2].substring(1,3),16)),c[3]&&(r=A((o=c[3].charAt(3))+o,16),n=A((o=c[3].charAt(2))+o,16),t=A((o=c[3].charAt(1))+o,16)),c[4]&&(l=c[4].split(D),t=z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(s=z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),c[5]?(l=c[5].split(D),t=z(l[0]),"%"==l[0].slice(-1)&&(t/=100),n=z(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=z(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(s=z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(t,n,r,s)):c[6]?(l=c[6].split(D),t=z(l[0]),"%"==l[0].slice(-1)&&(t/=100),n=z(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=z(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(s=z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(t,n,r,s)):(t=N(j.round(t),255),n=N(j.round(n),255),r=N(j.round(r),255),s=N(O(s,0),1),c={r:t,g:n,b:r,toString:tt},c.hex="#"+(16777216|r|n<<8|t<<16).toString(16).slice(1),c.opacity=a(s,"finite")?s:1,c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:tt}},i),i.hsb=l(function(e,t,n){return i.hsb2rgb(e,t,n).hex}),i.hsl=l(function(e,t,n){return i.hsl2rgb(e,t,n).hex}),i.rgb=l(function(e,t,n,i){if(a(i,"finite")){var r=j.round;return"rgba("+[r(e),r(t),r(n),+i.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var Q=function(e){var t=C.doc.getElementsByTagName("head")[0]||C.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(Q=l(function(e){if("red"==e.toLowerCase())return n;t.style.color=n,t.style.color=e;var i=C.doc.defaultView.getComputedStyle(t,R).getPropertyValue("color");return i==n?null:i}))(e)},Z=function(){return"hsb("+[this.h,this.s,this.b]+")"},et=function(){return"hsl("+[this.h,this.s,this.l]+")"},tt=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},nt=function(e,t,n){if(null==t&&a(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&a(e,string)){var r=i.getRGB(e);e=r.r,t=r.g,n=r.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},it=function(e,t,n,r){e=j.round(255*e),t=j.round(255*t),n=j.round(255*n);var s={r:e,g:t,b:n,opacity:a(r,"finite")?r:1,hex:i.rgb(e,t,n),toString:tt};return a(r,"finite")&&(s.opacity=r),s};i.color=function(e){var t;return a(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):a(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(a(e,"string")&&(e=i.getRGB(e)),a(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=tt,e},i.hsb2rgb=function(e,t,n,i){a(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,i=e.o),e*=360;var r,s,o,l,c;return e=e%360/60,c=n*t,l=c*(1-M(e%2-1)),r=s=o=n-c,e=~~e,r+=[c,l,0,0,l,c][e],s+=[l,c,c,l,0,0][e],o+=[0,0,l,c,c,l][e],it(r,s,o,i)},i.hsl2rgb=function(e,t,n,i){a(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var r,s,o,l,c;return e=e%360/60,c=2*t*(.5>n?n:1-n),l=c*(1-M(e%2-1)),r=s=o=n-c/2,e=~~e,r+=[c,l,0,0,l,c][e],s+=[l,c,c,l,0,0][e],o+=[0,0,l,c,c,l][e],it(r,s,o,i)},i.rgb2hsb=function(e,t,n){n=nt(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,a,s;return a=O(e,t,n),s=a-N(e,t,n),i=0==s?null:a==e?(t-n)/s:a==t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,r=0==s?0:s/a,{h:i,s:r,b:a,toString:Z}},i.rgb2hsl=function(e,t,n){n=nt(e,t,n),e=n[0],t=n[1],n=n[2];var i,r,a,s,o,l;return s=O(e,t,n),o=N(e,t,n),l=s-o,i=0==l?null:s==e?(t-n)/l:s==t?(n-e)/l+2:(e-t)/l+4,i=(i+360)%6*60/360,a=(s+o)/2,r=0==l?0:.5>a?l/(2*a):l/(2-2*a),{h:i,s:r,l:a,toString:et}},i.parsePathString=function(e){if(!e)return null;var t=i.path(e);if(t.arr)return i.path.clone(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return a(e,"array")&&a(e[0],"array")&&(r=i.path.clone(e)),r.length||E(e).replace(q,function(e,t,i){var a=[],s=t.toLowerCase();if(i.replace(V,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(r.push([t].concat(a.splice(0,2))),s="l",t="m"==t?"l":"L"),"o"==s&&1==a.length&&r.push([t,a[0]]),"r"==s)r.push([t].concat(a));else for(;a.length>=n[s]&&(r.push([t].concat(a.splice(0,n[s]))),n[s]););}),r.toString=i.path.toString,t.arr=i.path.clone(r),r};var rt=i.parseTransformString=function(e){if(!e)return null;var t=[];return a(e,"array")&&a(e[0],"array")&&(t=i.path.clone(e)),t.length||E(e).replace(U,function(e,n,i){{var r=[];n.toLowerCase()}i.replace(V,function(e,t){t&&r.push(+t)}),t.push([n].concat(r))}),t.toString=i.path.toString,t};i._.svgTransform2string=d,i._.rgTransform=new RegExp("^[a-z]["+$+"]*-?\\.?\\d","i"),i._.transform2matrix=h,i._unit2px=v;C.doc.contains||C.doc.compareDocumentPosition?function(e,t){var n=9==e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e==i||!(!i||1!=i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t;)if(t=t.parentNode,t==e)return!0;return!1};i._.getSomeDefs=m,i._.getSomeSVG=y,i.select=function(e){return _(C.doc.querySelector(e))},i.selectAll=function(e){for(var t=C.doc.querySelectorAll(e),n=(i.set||Array)(),r=0;r<t.length;r++)n.push(_(t[r]));return n},setInterval(function(){for(var e in J)if(J[S](e)){var t=J[e],n=t.node;("svg"!=t.type&&!n.ownerSVGElement||"svg"==t.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete J[e]}},1e4),function(e){function s(e){function t(e,t){var n=r(e.node,t);n=n&&n.match(s),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(l[n]=(l[n]||[]).concat(function(n){var i={};i[t]=K(n),r(e.node,i)})))}function n(e){var t=r(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1),t&&(l[t]=(l[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)})))}for(var i,a=e.selectAll("*"),s=/^\s*url\(("|'|)(.*)\1\)\s*$/,o=[],l={},c=0,u=a.length;u>c;c++){i=a[c],t(i,"fill"),t(i,"stroke"),t(i,"filter"),t(i,"mask"),t(i,"clip-path"),n(i);var p=r(i.node,"id");p&&(r(i.node,{id:i.id}),o.push({old:p,id:i.id}))}for(c=0,u=o.length;u>c;c++){var d=l[o[c].old];if(d)for(var h=0,f=d.length;f>h;h++)d[h](o[c].id)}}function o(e,t,n){return function(i){var r=i.slice(e,t);return 1==r.length&&(r=r[0]),n?n(r):r}}function l(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,i=this.node.childNodes;if(e)for(var r=0,a=n.length;a>r;r++)t+=" "+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"';if(i.length){for(e&&(t+=">"),r=0,a=i.length;a>r;r++)3==i[r].nodeType?t+=i[r].nodeValue:1==i[r].nodeType&&(t+=_(i[r]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}e.attr=function(e,n){{var i=this;i.node}if(!e)return i;if(a(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,i).firstDefined();var r={};r[e]=n,e=r}for(var s in e)e[S](s)&&t("snap.util.attr."+s,i,e[s]);return i},e.getBBox=function(e){if(!i.Matrix||!i.path)return this.node.getBBox();var t=this,n=new i.Matrix;if(t.removed)return i._.box();for(;"use"==t.type;)if(e||(n=n.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0))),t.original)t=t.original;else{var r=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var a=t._,s=i.path.get[t.type]||i.path.get.deflt;try{return e?(a.bboxwt=s?i.path.getBBox(t.realPath=s(t)):i._.box(t.node.getBBox()),i._.box(a.bboxwt)):(t.realPath=s(t),t.matrix=t.transform().localMatrix,a.bbox=i.path.getBBox(i.path.map(t.realPath,n.add(t.matrix))),i._.box(a.bbox))}catch(o){return i._.box()}};var c=function(){return this.string};e.transform=function(e){var t=this._;if(null==e){for(var n,a=this,s=new i.Matrix(this.node.getCTM()),o=f(this),l=[o],u=new i.Matrix,p=o.toTransformString(),d=E(o)==E(this.matrix)?E(t.transform):p;"svg"!=a.type&&(a=a.parent());)l.push(f(a));for(n=l.length;n--;)u.add(l[n]);return{string:d,globalMatrix:s,totalMatrix:u,localMatrix:o,diffMatrix:s.clone().add(o.invert()),global:s.toTransformString(),total:u.toTransformString(),local:p,toString:c}}return e instanceof i.Matrix?this.matrix=e:f(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?r(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?r(this.node,{patternTransform:this.matrix}):r(this.node,{transform:this.matrix})),this},e.parent=function(){return _(this.node.parentNode)
},e.append=e.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=_(e),this.node.appendChild(e.node),e.paper=this.paper}return this},e.appendTo=function(e){return e&&(e=_(e),e.append(this)),this},e.prepend=function(e){if(e){if("set"==e.type){var t,n=this;return e.forEach(function(e){t?t.after(e):n.prepend(e),t=e}),this}e=_(e);var i=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),i&&i.add()}return this},e.prependTo=function(e){return e=_(e),e.prepend(this),this},e.before=function(e){if("set"==e.type){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=_(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},e.after=function(e){e=_(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},e.insertBefore=function(e){e=_(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.insertAfter=function(e){e=_(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},e.select=function(e){return _(this.node.querySelector(e))},e.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(i.set||Array)(),r=0;r<t.length;r++)n.push(_(t[r]));return n},e.asPX=function(e,t){return null==t&&(t=this.attr(e)),+v(this,e,t)},e.use=function(){var e,t=this.node.id;return t||(t=this.id,r(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?w(this.type,this.node.parentNode):w("use",this.node.parentNode),r(e.node,{"xlink:href":"#"+t}),e.original=this,e};var u=/\S+/g;e.addClass=function(e){var t,n,i,r,a=(e||"").match(u)||[],s=this.node,o=s.className.baseVal,l=o.match(u)||[];if(a.length){for(t=0;i=a[t++];)n=l.indexOf(i),~n||l.push(i);r=l.join(" "),o!=r&&(s.className.baseVal=r)}return this},e.removeClass=function(e){var t,n,i,r,a=(e||"").match(u)||[],s=this.node,o=s.className.baseVal,l=o.match(u)||[];if(l.length){for(t=0;i=a[t++];)n=l.indexOf(i),~n&&l.splice(n,1);r=l.join(" "),o!=r&&(s.className.baseVal=r)}return this},e.hasClass=function(e){var t=this.node,n=t.className.baseVal,i=n.match(u)||[];return!!~i.indexOf(e)},e.toggleClass=function(e,t){if(null!=t)return t?this.addClass(e):this.removeClass(e);var n,i,r,a,s=(e||"").match(u)||[],o=this.node,l=o.className.baseVal,c=l.match(u)||[];for(n=0;r=s[n++];)i=c.indexOf(r),~i?c.splice(i,1):c.push(r);return a=c.join(" "),l!=a&&(o.className.baseVal=a),this},e.clone=function(){var e=_(this.node.cloneNode(!0));return r(e.node,"id")&&r(e.node,{id:e.id}),s(e),e.insertAfter(this),e},e.toDefs=function(){var e=m(this);return e.appendChild(this.node),this},e.pattern=e.toPattern=function(e,t,n,i){var s=w("pattern",m(this));return null==e&&(e=this.getBBox()),a(e,"object")&&"x"in e&&(t=e.y,n=e.width,i=e.height,e=e.x),r(s.node,{x:e,y:t,width:n,height:i,patternUnits:"userSpaceOnUse",id:s.id,viewBox:[e,t,n,i].join(" ")}),s.node.appendChild(this.node),s},e.marker=function(e,t,n,i,s,o){var l=w("marker",m(this));return null==e&&(e=this.getBBox()),a(e,"object")&&"x"in e&&(t=e.y,n=e.width,i=e.height,s=e.refX||e.cx,o=e.refY||e.cy,e=e.x),r(l.node,{viewBox:[e,t,n,i].join(I),markerWidth:n,markerHeight:i,orient:"auto",refX:s||0,refY:o||0,id:l.id}),l.node.appendChild(this.node),l};var p=function(e,t,i,r){"function"!=typeof i||i.length||(r=i,i=n.linear),this.attr=e,this.dur=t,i&&(this.easing=i),r&&(this.callback=r)};i._.Animation=p,i.animation=function(e,t,n,i){return new p(e,t,n,i)},e.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[S](n)&&!function(e){t.push({anim:new p(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},i.animate=function(e,i,r,a,s,o){"function"!=typeof s||s.length||(o=s,s=n.linear);var l=n.time(),c=n(e,i,l,l+a,n.time,r,s);return o&&t.once("mina.finish."+c.id,o),c},e.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;n>t;t++)e[t].stop();return this},e.animate=function(e,i,r,s){"function"!=typeof r||r.length||(s=r,r=n.linear),e instanceof p&&(s=e.callback,r=e.easing,i=r.dur,e=e.attr);var l,c,u,d,h=[],f=[],m={},y=this;for(var g in e)if(e[S](g)){y.equal?(d=y.equal(g,E(e[g])),l=d.from,c=d.to,u=d.f):(l=+y.attr(g),c=+e[g]);var v=a(l,"array")?l.length:1;m[g]=o(h.length,h.length+v,u),h=h.concat(l),f=f.concat(c)}var b=n.time(),x=n(h,f,b,b+i,n.time,function(e){var t={};for(var n in m)m[S](n)&&(t[n]=m[n](e));y.attr(t)},r);return y.anims[x.id]=x,x._attrs=e,x._callback=s,t("snap.animcreated."+y.id,x),t.once("mina.finish."+x.id,function(){delete y.anims[x.id],s&&s.call(y)}),t.once("mina.stop."+x.id,function(){delete y.anims[x.id]}),y};var d={};e.data=function(e,n){var r=d[this.id]=d[this.id]||{};if(0==arguments.length)return t("snap.data.get."+this.id,this,r,null),r;if(1==arguments.length){if(i.is(e,"object")){for(var a in e)e[S](a)&&this.data(a,e[a]);return this}return t("snap.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,t("snap.data.set."+this.id,this,n,e),this},e.removeData=function(e){return null==e?d[this.id]={}:d[this.id]&&delete d[this.id][e],this},e.outerSVG=e.toString=l(1),e.innerSVG=l()}(x.prototype),i.parse=function(e){var t=C.doc.createDocumentFragment(),n=!0,i=C.doc.createElement("div");if(e=E(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),i.innerHTML=e,e=i.getElementsByTagName("svg")[0])if(n)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return i.innerHTML=R,new T(t)},T.prototype.select=x.prototype.select,T.prototype.selectAll=x.prototype.selectAll,i.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=C.doc.createDocumentFragment(),n=0,r=e.length;r>n;n++){var a=e[n];a.node&&a.node.nodeType&&t.appendChild(a.node),a.nodeType&&t.appendChild(a),"string"==typeof a&&t.appendChild(i.parse(a).node)}return new T(t)},i._.make=w,i._.wrap=_,k.prototype.el=function(e,t){var n=w(e,this.node);return t&&n.attr(t),n},t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return at[S](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):r(this.node,e)});var at={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),i={};n=n.substring(n.lastIndexOf(".")+1),i[n]=e;var a=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),s=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});at[S](s)?this.node.style[a]=null==e?R:e:r(this.node,i)}),function(){}(k.prototype),i.ajax=function(e,n,i,r){var s=new XMLHttpRequest,o=W();if(s){if(a(n,"function"))r=i,i=n,n=null;else if(a(n,"object")){var l=[];for(var c in n)n.hasOwnProperty(c)&&l.push(encodeURIComponent(c)+"="+encodeURIComponent(n[c]));n=l.join("&")}return s.open(n?"POST":"GET",e,!0),n&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),i&&(t.once("snap.ajax."+o+".0",i),t.once("snap.ajax."+o+".200",i),t.once("snap.ajax."+o+".304",i)),s.onreadystatechange=function(){4==s.readyState&&t("snap.ajax."+o+"."+s.status,r,s)},4==s.readyState?s:(s.send(n),s)}},i.load=function(e,t,n){i.ajax(e,function(e){var r=i.parse(e.responseText);n?t.call(n,r):t(r)})};var st=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,a=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,o=t.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-a,l=t.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s;return{y:o,x:l}};return i.getElementByPoint=function(e,t){var n=this,i=(n.canvas,C.doc.elementFromPoint(e,t));if(C.win.opera&&"svg"==i.tagName){var r=st(i),a=i.createSVGRect();a.x=e-r.x,a.y=t-r.y,a.width=a.height=1;var s=i.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}return i?_(i):null},i.plugin=function(e){e(i,x,k,C,T)},C.win.Snap=i,i}();return i.plugin(function(e){function t(e,t,i,r,a,s){return null==t&&"[object SVGMatrix]"==n.call(e)?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f)):void(null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+r,this.e=+a,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var n=Object.prototype.toString,i=String,r=Math,a="";!function(n){function s(e){return e[0]*e[0]+e[1]*e[1]}function o(e){var t=r.sqrt(s(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}n.add=function(e,n,i,r,a,s){var o,l,c,u,p=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,i,a],[n,r,s],[0,0,1]];for(e&&e instanceof t&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),o=0;3>o;o++)for(l=0;3>l;l++){for(u=0,c=0;3>c;c++)u+=d[o][c]*h[c][l];p[o][l]=u}return this.a=p[0][0],this.b=p[1][0],this.c=p[0][1],this.d=p[1][1],this.e=p[0][2],this.f=p[1][2],this},n.invert=function(){var e=this,n=e.a*e.d-e.b*e.c;return new t(e.d/n,-e.b/n,-e.c/n,e.a/n,(e.c*e.f-e.d*e.e)/n,(e.b*e.e-e.a*e.f)/n)},n.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(e,t){return this.add(1,0,0,1,e,t)},n.scale=function(e,t,n,i){return null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i),this},n.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var a=+r.cos(t).toFixed(9),s=+r.sin(t).toFixed(9);return this.add(a,s,-s,a,n,i),this.add(1,0,0,1,-n,-i)},n.x=function(e,t){return e*this.a+t*this.c+this.e},n.y=function(e,t){return e*this.b+t*this.d+this.f},n.get=function(e){return+this[i.fromCharCode(97+e)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=r.sqrt(s(n[0])),o(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=r.sqrt(s(n[1])),o(n[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var i=-n[0][1],a=n[1][1];return 0>a?(t.rotate=e.deg(r.acos(a)),0>i&&(t.rotate=360-t.rotate)):t.rotate=e.deg(r.asin(i)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},n.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:a)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:a)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:a))}}(t.prototype),e.Matrix=t,e.matrix=function(e,n,i,r,a,s){return new t(e,n,i,r,a,s)}}),i.plugin(function(e,n,i,r,a){function s(i){return function(r){if(t.stop(),r instanceof a&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)&&(r=r.node.firstChild,h(this).appendChild(r),r=p(r)),r instanceof n)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||m(r.node,{id:r.id});var s=y(r.node.id)}else s=r.attr(i);else if(s=e.color(r),s.error){var o=e(h(this).ownerSVGElement).gradient(r);o?(o.node.id||m(o.node,{id:o.id}),s=y(o.node.id)):s=r}else s=g(s);var l={};l[i]=s,m(this.node,l),this.node.style[i]=b}}function o(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function l(e){for(var t=[],n=e.childNodes,i=0,r=n.length;r>i;i++){var a=n[i];3==a.nodeType&&t.push(a.nodeValue),"tspan"==a.tagName&&t.push(1==a.childNodes.length&&3==a.firstChild.nodeType?a.firstChild.nodeValue:l(a))}return t}function c(){return t.stop(),this.node.style.fontSize}var u=e._.make,p=e._.wrap,d=e.is,h=e._.getSomeDefs,f=/^url\(#?([^)]+)\)$/,m=e._.$,y=e.url,g=String,v=e._.separator,b="";t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof a){if(t.stop(),e instanceof a&&1==e.node.childNodes.length&&(e=e.node.firstChild,h(this).appendChild(e),e=p(e)),"mask"==e.type)var i=e;else i=u("mask",h(this)),i.node.appendChild(e.node);!i.node.id&&m(i.node,{id:i.id}),m(this.node,{mask:y(i.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof n||e instanceof a){if(t.stop(),"clipPath"==e.type)var i=e;else i=u("clipPath",h(this)),i.node.appendChild(e.node),!i.node.id&&m(i.node,{id:i.id});m(this.node,{"clip-path":y(i.id)})}}),t.on("snap.util.attr.fill",s("fill")),t.on("snap.util.attr.stroke",s("stroke"));var x=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(e){e=g(e);var t=e.match(x);if(!t)return null;var n=t[1],i=t[2],r=t[3];return i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==i.length&&0==i[0]&&(i=[]),r=r.split("-"),r=r.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:n,params:i,stops:r}}),t.on("snap.util.attr.d",function(n){t.stop(),d(n,"array")&&d(n[0],"array")&&(n=e.path.toString.call(n)),n=g(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),m(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=g(e);for(var n=r.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;n=d(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):d(e,"array")?e.join(" "):e,m(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){"rect"==this.type&&(t.stop(),m(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){if(t.stop(),"text"==this.type){var i,r,a;if(!e&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(d(e,"string")){var s=h(this),o=p(s.parentNode).path(e);s.appendChild(o.node),i=o.id,o.attr({id:i})}else e=p(e),e instanceof n&&(i=e.attr("id"),i||(i=e.id,e.attr({id:i})));if(i)if(r=this.textPath,a=this.node,r)r.attr({"xlink:href":"#"+i});else{for(r=m("textPath",{"xlink:href":"#"+i});a.firstChild;)r.appendChild(a.firstChild);a.appendChild(r),this.textPath=p(r)}}})(-1),t.on("snap.util.attr.text",function(e){if("text"==this.type){for(var n=this.node,i=function(e){var t=m("tspan");if(d(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(i(e[n]));else t.appendChild(r.doc.createTextNode(e));return t.normalize&&t.normalize(),t};n.firstChild;)n.removeChild(n.firstChild);for(var a=i(e);a.firstChild;)n.appendChild(a.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",o)(-1),t.on("snap.util.attr.font-size",o)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var i=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==i?i:e(r.doc.getElementById(i.match(f)[1]))}}function i(e){return function(n){t.stop();var i="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(""==n||!n)return void(this.node.style[i]="none");if("marker"==n.type){var r=n.node.id;return r||m(n.node,{id:n.id}),void(this.node.style[i]=y(r))}}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",i("end"))(-1),t.on("snap.util.attr.markerEnd",i("end"))(-1),t.on("snap.util.attr.marker-start",i("start"))(-1),t.on("snap.util.attr.markerStart",i("start"))(-1),t.on("snap.util.attr.marker-mid",i("mid"))(-1),t.on("snap.util.attr.markerMid",i("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){return"rect"==this.type&&m(this.node,"rx")==m(this.node,"ry")?(t.stop(),m(this.node,"rx")):void 0})(-1),t.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){t.stop();var e=l(this.node);return 1==e.length?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=m(this.node,"viewBox");return n?(n=n.split(v),e._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),t.on("snap.util.getattr.points",function(){var e=m(this.node,"points");return t.stop(),e?e.split(v):void 0})(-1),t.on("snap.util.getattr.path",function(){var e=m(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",c)(-1),t.on("snap.util.getattr.font-size",c)(-1)}),i.plugin(function(){function e(e){return e}function n(e){return function(t){return+t.toFixed(3)+e}}var i={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},r=String,a=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;t.on("snap.util.attr",function(e){var n=r(e).match(s);if(n){var o=t.nt(),l=o.substring(o.lastIndexOf(".")+1),c=this.attr(l),u={};t.stop();var p=n[3]||"",d=c.match(a),h=i[n[1]];if(d&&d==p?e=h(parseFloat(c),+n[2]):(c=this.asPX(l),e=h(this.asPX(l),this.asPX(l,n[2]+p))),isNaN(c)||isNaN(e))return;u[l]=e,this.attr(u)}})(-10),t.on("snap.util.equal",function(o,l){var c=r(this.attr(o)||""),u=r(l).match(s);if(u){t.stop();var p=u[3]||"",d=c.match(a),h=i[u[1]];return d&&d==p?{from:parseFloat(c),to:h(parseFloat(c),+u[2]),f:n(d)}:(c=this.asPX(o),{from:c,to:h(c,this.asPX(o,u[2]+p)),f:e})}})(-10)}),i.plugin(function(e,n,i,r){var a=i.prototype,s=e.is;a.rect=function(e,t,n,i,r,a){var o;return null==a&&(a=r),s(e,"object")&&"[object Object]"==e?o=e:null!=e&&(o={x:e,y:t,width:n,height:i},null!=r&&(o.rx=r,o.ry=a)),this.el("rect",o)},a.circle=function(e,t,n){var i;return s(e,"object")&&"[object Object]"==e?i=e:null!=e&&(i={cx:e,cy:t,r:n}),this.el("circle",i)};var o=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var i=r.doc.createElement("img"),a=r.doc.body;i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){n.call(i),i.onload=i.onerror=null,a.removeChild(i)},i.onerror=e,a.appendChild(i),i.src=t}}();a.image=function(t,n,i,r,a){var l=this.el("image");if(s(t,"object")&&"src"in t)l.attr(t);else if(null!=t){var c={"xlink:href":t,preserveAspectRatio:"none"};null!=n&&null!=i&&(c.x=n,c.y=i),null!=r&&null!=a?(c.width=r,c.height=a):o(t,function(){e._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})}),e._.$(l.node,c)}return l},a.ellipse=function(e,t,n,i){var r;return s(e,"object")&&"[object Object]"==e?r=e:null!=e&&(r={cx:e,cy:t,rx:n,ry:i}),this.el("ellipse",r)},a.path=function(e){var t;return s(e,"object")&&!s(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},a.group=a.g=function(e){var t=this.el("g");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},a.svg=function(e,t,n,i,r,a,o,l){var c={};return s(e,"object")&&null==t?c=e:(null!=e&&(c.x=e),null!=t&&(c.y=t),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=a&&null!=o&&null!=l&&(c.viewBox=[r,a,o,l])),this.el("svg",c)},a.mask=function(e){var t=this.el("mask");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},a.ptrn=function(e,t,n,i,r,a,o,l){if(s(e,"object"))var c=e;else arguments.length?(c={},null!=e&&(c.x=e),null!=t&&(c.y=t),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=a&&null!=o&&null!=l&&(c.viewBox=[r,a,o,l])):c={patternUnits:"userSpaceOnUse"};return this.el("pattern",c)},a.use=function(e){if(null!=e){{make("use",this.node)}return e instanceof n&&(e.attr("id")||e.attr({id:ID()}),e=e.attr("id")),this.el("use",{"xlink:href":e})}return n.prototype.use.call(this)},a.text=function(e,t,n){var i={};return s(e,"object")?i=e:null!=e&&(i={x:e,y:t,text:n||""}),this.el("text",i)},a.line=function(e,t,n,i){var r={};return s(e,"object")?r=e:null!=e&&(r={x1:e,x2:n,y1:t,y2:i}),this.el("line",r)},a.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return s(e,"object")&&!s(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polyline",t)},a.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return s(e,"object")&&!s(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polygon",t)},function(){function n(){return this.selectAll("stop")}function i(t,n){var i=c("stop"),r={offset:+n+"%"};return t=e.color(t),r["stop-color"]=t.hex,t.opacity<1&&(r["stop-opacity"]=t.opacity),c(i,r),this.node.appendChild(i),this}function r(){if("linearGradient"==this.type){var t=c(this.node,"x1")||0,n=c(this.node,"x2")||1,i=c(this.node,"y1")||0,r=c(this.node,"y2")||0;return e._.box(t,i,math.abs(n-t),math.abs(r-i))}var a=this.node.cx||.5,s=this.node.cy||.5,o=this.node.r||0;return e._.box(a-o,s-o,2*o,2*o)}function s(e,n){function i(e,t){for(var n=(t-p)/(e-d),i=d;e>i;i++)s[i].offset=+(+p+n*(i-d)).toFixed(2);d=e,p=t}var r,a=t("snap.util.grad.parse",null,n).firstDefined();if(!a)return null;a.params.unshift(e),r="l"==a.type.toLowerCase()?o.apply(0,a.params):l.apply(0,a.params),a.type!=a.type.toLowerCase()&&c(r.node,{gradientUnits:"userSpaceOnUse"});var s=a.stops,u=s.length,p=0,d=0;u--;for(var h=0;u>h;h++)"offset"in s[h]&&i(h,s[h].offset);for(s[u].offset=s[u].offset||100,i(u,s[u].offset),h=0;u>=h;h++){var f=s[h];r.addStop(f.color,f.offset)}return r}function o(t,a,s,o,l){var u=e._.make("linearGradient",t);return u.stops=n,u.addStop=i,u.getBBox=r,null!=a&&c(u.node,{x1:a,y1:s,x2:o,y2:l}),u}function l(t,a,s,o,l,u){var p=e._.make("radialGradient",t);return p.stops=n,p.addStop=i,p.getBBox=r,null!=a&&c(p.node,{cx:a,cy:s,r:o}),null!=l&&null!=u&&c(p.node,{fx:l,fy:u}),p}var c=e._.$;a.gradient=function(e){return s(this.defs,e)},a.gradientLinear=function(e,t,n,i){return o(this.defs,e,t,n,i)},a.gradientRadial=function(e,t,n,i,r){return l(this.defs,e,t,n,i,r)},a.toString=function(){var t,n=this.node.ownerDocument,i=n.createDocumentFragment(),r=n.createElement("div"),a=this.node.cloneNode(!0);return i.appendChild(r),r.appendChild(a),e._.$(a,{xmlns:"http://www.w3.org/2000/svg"}),t=r.innerHTML,i.removeChild(i.firstChild),t},a.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):a.clear.call({node:t}),t=e}}()}),i.plugin(function(e,t){function n(e){var t=n.ps=n.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[I](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function i(e,t,n,i){return null==e&&(e=t=n=i=0),null==t&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:i,h:i,x2:e+n,y2:t+i,cx:e+n/2,cy:t+i/2,r1:$.min(n,i)/2,r2:$.max(n,i)/2,r0:$.sqrt(n*n+i*i)/2,path:w(e,t,n,i),vb:[e,t,n,i].join(" ")}}function r(){return this.join(",").replace(L,"$1")}function a(e){var t=R(e);return t.toString=r,t}function s(e,t,n,i,r,a,s,o,c){return null==c?h(e,t,n,i,r,a,s,o):l(e,t,n,i,r,a,s,o,f(e,t,n,i,r,a,s,o,c))}function o(n,i){function r(e){return+(+e).toFixed(3)}return e._.cacher(function(e,a,o){e instanceof t&&(e=e.attr("d")),e=j(e);for(var c,u,p,d,h,f="",m={},y=0,g=0,v=e.length;v>g;g++){if(p=e[g],"M"==p[0])c=+p[1],u=+p[2];else{if(d=s(c,u,p[1],p[2],p[3],p[4],p[5],p[6]),y+d>a){if(i&&!m.start){if(h=s(c,u,p[1],p[2],p[3],p[4],p[5],p[6],a-y),f+=["C"+r(h.start.x),r(h.start.y),r(h.m.x),r(h.m.y),r(h.x),r(h.y)],o)return f;m.start=f,f=["M"+r(h.x),r(h.y)+"C"+r(h.n.x),r(h.n.y),r(h.end.x),r(h.end.y),r(p[5]),r(p[6])].join(),y+=d,c=+p[5],u=+p[6];continue}if(!n&&!i)return h=s(c,u,p[1],p[2],p[3],p[4],p[5],p[6],a-y)}y+=d,c=+p[5],u=+p[6]}f+=p.shift()+p}return m.end=f,h=n?y:i?m:l(c,u,p[0],p[1],p[2],p[3],p[4],p[5],1)},null,e._.clone)}function l(e,t,n,i,r,a,s,o,l){var c=1-l,u=U(c,3),p=U(c,2),d=l*l,h=d*l,f=u*e+3*p*l*n+3*c*l*l*r+h*s,m=u*t+3*p*l*i+3*c*l*l*a+h*o,y=e+2*l*(n-e)+d*(r-2*n+e),g=t+2*l*(i-t)+d*(a-2*i+t),v=n+2*l*(r-n)+d*(s-2*r+n),b=i+2*l*(a-i)+d*(o-2*a+i),x=c*e+l*n,T=c*t+l*i,w=c*r+l*s,k=c*a+l*o,_=90-180*$.atan2(y-v,g-b)/D;return{x:f,y:m,m:{x:y,y:g},n:{x:v,y:b},start:{x:x,y:T},end:{x:w,y:k},alpha:_}}function c(t,n,r,a,s,o,l,c){e.is(t,"array")||(t=[t,n,r,a,s,o,l,c]);var u=A.apply(null,t);return i(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function u(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function p(e,t){return e=i(e),t=i(t),u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function d(e,t,n,i,r){var a=-3*t+9*n-9*i+3*r,s=e*a+6*t-12*n+6*i;return e*s-3*t+3*n}function h(e,t,n,i,r,a,s,o,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var c=l/2,u=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var y=c*p[m]+c,g=d(y,e,n,r,s),v=d(y,t,i,a,o),b=g*g+v*v;f+=h[m]*$.sqrt(b)}return c*f}function f(e,t,n,i,r,a,s,o,l){if(!(0>l||h(e,t,n,i,r,a,s,o)<l)){var c,u=1,p=u/2,d=u-p,f=.01;for(c=h(e,t,n,i,r,a,s,o,d);V(c-l)>f;)p/=2,d+=(l>c?1:-1)*p,c=h(e,t,n,i,r,a,s,o,d);return d}}function m(e,t,n,i,r,a,s,o){if(!(q(e,n)<B(r,s)||B(e,n)>q(r,s)||q(t,i)<B(a,o)||B(t,i)>q(a,o))){var l=(e*i-t*n)*(r-s)-(e-n)*(r*o-a*s),c=(e*i-t*n)*(a-o)-(t-i)*(r*o-a*s),u=(e-n)*(a-o)-(t-i)*(r-s);if(u){var p=l/u,d=c/u,h=+p.toFixed(2),f=+d.toFixed(2);if(!(h<+B(e,n).toFixed(2)||h>+q(e,n).toFixed(2)||h<+B(r,s).toFixed(2)||h>+q(r,s).toFixed(2)||f<+B(t,i).toFixed(2)||f>+q(t,i).toFixed(2)||f<+B(a,o).toFixed(2)||f>+q(a,o).toFixed(2)))return{x:p,y:d}}}}function y(e,t,n){var i=c(e),r=c(t);if(!p(i,r))return n?0:[];for(var a=h.apply(0,e),s=h.apply(0,t),o=~~(a/8),u=~~(s/8),d=[],f=[],y={},g=n?0:[],v=0;o+1>v;v++){var b=l.apply(0,e.concat(v/o));d.push({x:b.x,y:b.y,t:v/o})}for(v=0;u+1>v;v++)b=l.apply(0,t.concat(v/u)),f.push({x:b.x,y:b.y,t:v/u});for(v=0;o>v;v++)for(var x=0;u>x;x++){var T=d[v],w=d[v+1],k=f[x],_=f[x+1],C=V(w.x-T.x)<.001?"y":"x",S=V(_.x-k.x)<.001?"y":"x",E=m(T.x,T.y,w.x,w.y,k.x,k.y,_.x,_.y);if(E){if(y[E.x.toFixed(4)]==E.y.toFixed(4))continue;y[E.x.toFixed(4)]=E.y.toFixed(4);var z=T.t+V((E[C]-T[C])/(w[C]-T[C]))*(w.t-T.t),A=k.t+V((E[S]-k[S])/(_[S]-k[S]))*(_.t-k.t);z>=0&&1>=z&&A>=0&&1>=A&&(n?g++:g.push({x:E.x,y:E.y,t1:z,t2:A}))}}return g}function g(e,t){return b(e,t)}function v(e,t){return b(e,t,1)}function b(e,t,n){e=j(e),t=j(t);for(var i,r,a,s,o,l,c,u,p,d,h=n?0:[],f=0,m=e.length;m>f;f++){var g=e[f];if("M"==g[0])i=o=g[1],r=l=g[2];else{"C"==g[0]?(p=[i,r].concat(g.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,o,l,o,l],i=o,r=l);for(var v=0,b=t.length;b>v;v++){var x=t[v];if("M"==x[0])a=c=x[1],s=u=x[2];else{"C"==x[0]?(d=[a,s].concat(x.slice(1)),a=d[6],s=d[7]):(d=[a,s,a,s,c,u,c,u],a=c,s=u);var T=y(p,d,n);if(n)h+=T;else{for(var w=0,k=T.length;k>w;w++)T[w].segment1=f,T[w].segment2=v,T[w].bez1=p,T[w].bez2=d;h=h.concat(T)}}}}}return h}function x(e,t,n){var i=T(e);return u(i,t,n)&&b(e,[["M",t,n],["H",i.x2+10]],1)%2==1}function T(e){var t=n(e);if(t.bbox)return R(t.bbox);if(!e)return i();e=j(e);for(var r,a=0,s=0,o=[],l=[],c=0,u=e.length;u>c;c++)if(r=e[c],"M"==r[0])a=r[1],s=r[2],o.push(a),l.push(s);else{var p=A(a,s,r[1],r[2],r[3],r[4],r[5],r[6]);o=o.concat(p.min.x,p.max.x),l=l.concat(p.min.y,p.max.y),a=r[5],s=r[6]}var d=B.apply(0,o),h=B.apply(0,l),f=q.apply(0,o),m=q.apply(0,l),y=i(d,h,f-d,m-h);return t.bbox=R(y),y}function w(e,t,n,i,a){if(a)return[["M",+e+ +a,t],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var s=[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]];return s.toString=r,s}function k(e,t,n,i,a){if(null==a&&null==i&&(i=n),e=+e,t=+t,n=+n,i=+i,null!=a)var s=Math.PI/180,o=e+n*Math.cos(-i*s),l=e+n*Math.cos(-a*s),c=t+n*Math.sin(-i*s),u=t+n*Math.sin(-a*s),p=[["M",o,c],["A",n,n,0,+(a-i>180),0,l,u]];else p=[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return p.toString=r,p}function _(t){var i=n(t),s=String.prototype.toLowerCase;if(i.rel)return a(i.rel);e.is(t,"array")&&e.is(t&&t[0],"array")||(t=e.parsePathString(t));var o=[],l=0,c=0,u=0,p=0,d=0;"M"==t[0][0]&&(l=t[0][1],c=t[0][2],u=l,p=c,d++,o.push(["M",l,c]));for(var h=d,f=t.length;f>h;h++){var m=o[h]=[],y=t[h];if(y[0]!=s.call(y[0]))switch(m[0]=s.call(y[0]),m[0]){case"a":m[1]=y[1],m[2]=y[2],m[3]=y[3],m[4]=y[4],m[5]=y[5],m[6]=+(y[6]-l).toFixed(3),m[7]=+(y[7]-c).toFixed(3);break;case"v":m[1]=+(y[1]-c).toFixed(3);break;case"m":u=y[1],p=y[2];default:for(var g=1,v=y.length;v>g;g++)m[g]=+(y[g]-(g%2?l:c)).toFixed(3)}else{m=o[h]=[],"m"==y[0]&&(u=y[1]+l,p=y[2]+c);for(var b=0,x=y.length;x>b;b++)o[h][b]=y[b]}var T=o[h].length;switch(o[h][0]){case"z":l=u,c=p;break;case"h":l+=+o[h][T-1];break;case"v":c+=+o[h][T-1];break;default:l+=+o[h][T-2],c+=+o[h][T-1]}}return o.toString=r,i.rel=a(o),o}function C(t){var i=n(t);if(i.abs)return a(i.abs);if(P(t,"array")&&P(t&&t[0],"array")||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var s,o=[],l=0,c=0,u=0,p=0,d=0;"M"==t[0][0]&&(l=+t[0][1],c=+t[0][2],u=l,p=c,d++,o[0]=["M",l,c]);for(var h,f,m=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),y=d,g=t.length;g>y;y++){if(o.push(h=[]),f=t[y],s=f[0],s!=s.toUpperCase())switch(h[0]=s.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+l,h[7]=+f[7]+c;break;case"V":h[1]=+f[1]+c;break;case"H":h[1]=+f[1]+l;break;case"R":for(var v=[l,c].concat(f.slice(1)),b=2,x=v.length;x>b;b++)v[b]=+v[b]+l,v[++b]=+v[b]+c;o.pop(),o=o.concat(N(v,m));break;case"O":o.pop(),v=k(l,c,f[1],f[2]),v.push(v[0]),o=o.concat(v);break;case"U":o.pop(),o=o.concat(k(l,c,f[1],f[2],f[3])),h=["U"].concat(o[o.length-1].slice(-2));break;case"M":u=+f[1]+l,p=+f[2]+c;default:for(b=1,x=f.length;x>b;b++)h[b]=+f[b]+(b%2?l:c)}else if("R"==s)v=[l,c].concat(f.slice(1)),o.pop(),o=o.concat(N(v,m)),h=["R"].concat(f.slice(-2));
else if("O"==s)o.pop(),v=k(l,c,f[1],f[2]),v.push(v[0]),o=o.concat(v);else if("U"==s)o.pop(),o=o.concat(k(l,c,f[1],f[2],f[3])),h=["U"].concat(o[o.length-1].slice(-2));else for(var T=0,w=f.length;w>T;T++)h[T]=f[T];if(s=s.toUpperCase(),"O"!=s)switch(h[0]){case"Z":l=+u,c=+p;break;case"H":l=h[1];break;case"V":c=h[1];break;case"M":u=h[h.length-2],p=h[h.length-1];default:l=h[h.length-2],c=h[h.length-1]}}return o.toString=r,i.abs=a(o),o}function S(e,t,n,i){return[e,t,n,i,n,i]}function E(e,t,n,i,r,a){var s=1/3,o=2/3;return[s*e+o*n,s*t+o*i,s*r+o*n,s*a+o*i,r,a]}function z(t,n,i,r,a,s,o,l,c,u){var p,d=120*D/180,h=D/180*(+a||0),f=[],m=e._.cacher(function(e,t,n){var i=e*$.cos(n)-t*$.sin(n),r=e*$.sin(n)+t*$.cos(n);return{x:i,y:r}});if(u)_=u[0],C=u[1],w=u[2],k=u[3];else{p=m(t,n,-h),t=p.x,n=p.y,p=m(l,c,-h),l=p.x,c=p.y;var y=($.cos(D/180*a),$.sin(D/180*a),(t-l)/2),g=(n-c)/2,v=y*y/(i*i)+g*g/(r*r);v>1&&(v=$.sqrt(v),i=v*i,r=v*r);var b=i*i,x=r*r,T=(s==o?-1:1)*$.sqrt(V((b*x-b*g*g-x*y*y)/(b*g*g+x*y*y))),w=T*i*g/r+(t+l)/2,k=T*-r*y/i+(n+c)/2,_=$.asin(((n-k)/r).toFixed(9)),C=$.asin(((c-k)/r).toFixed(9));_=w>t?D-_:_,C=w>l?D-C:C,0>_&&(_=2*D+_),0>C&&(C=2*D+C),o&&_>C&&(_-=2*D),!o&&C>_&&(C-=2*D)}var S=C-_;if(V(S)>d){var E=C,A=l,j=c;C=_+d*(o&&C>_?1:-1),l=w+i*$.cos(C),c=k+r*$.sin(C),f=z(l,c,i,r,a,0,o,A,j,[C,E,w,k])}S=C-_;var O=$.cos(_),N=$.sin(_),M=$.cos(C),P=$.sin(C),R=$.tan(S/4),I=4/3*i*R,L=4/3*r*R,F=[t,n],B=[t+I*N,n-L*O],q=[l+I*P,c-L*M],U=[l,c];if(B[0]=2*F[0]-B[0],B[1]=2*F[1]-B[1],u)return[B,q,U].concat(f);f=[B,q,U].concat(f).join().split(",");for(var H=[],G=0,W=f.length;W>G;G++)H[G]=G%2?m(f[G-1],f[G],h).y:m(f[G],f[G+1],h).x;return H}function A(e,t,n,i,r,a,s,o){for(var l,c,u,p,d,h,f,m,y=[],g=[[],[]],v=0;2>v;++v)if(0==v?(c=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*s,u=3*n-3*e):(c=6*t-12*i+6*a,l=-3*t+9*i-9*a+3*o,u=3*i-3*t),V(l)<1e-12){if(V(c)<1e-12)continue;p=-u/c,p>0&&1>p&&y.push(p)}else f=c*c-4*u*l,m=$.sqrt(f),0>f||(d=(-c+m)/(2*l),d>0&&1>d&&y.push(d),h=(-c-m)/(2*l),h>0&&1>h&&y.push(h));for(var b,x=y.length,T=x;x--;)p=y[x],b=1-p,g[0][x]=b*b*b*e+3*b*b*p*n+3*b*p*p*r+p*p*p*s,g[1][x]=b*b*b*t+3*b*b*p*i+3*b*p*p*a+p*p*p*o;return g[0][T]=e,g[1][T]=t,g[0][T+1]=s,g[1][T+1]=o,g[0].length=g[1].length=T+2,{min:{x:B.apply(0,g[0]),y:B.apply(0,g[1])},max:{x:q.apply(0,g[0]),y:q.apply(0,g[1])}}}function j(e,t){var i=!t&&n(e);if(!t&&i.curve)return a(i.curve);for(var r=C(e),s=t&&C(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=(function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(z.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(E(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(E(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(S(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(S(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(S(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(S(t.x,t.y,t.X,t.Y))}return e}),u=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)d[t]="A",s&&(h[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),g=q(r.length,s&&s.length||0)}},p=function(e,t,n,i,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=q(r.length,s&&s.length||0))},d=[],h=[],f="",m="",y=0,g=q(r.length,s&&s.length||0);g>y;y++){r[y]&&(f=r[y][0]),"C"!=f&&(d[y]=f,y&&(m=d[y-1])),r[y]=c(r[y],o,m),"A"!=d[y]&&"C"==f&&(d[y]="C"),u(r,y),s&&(s[y]&&(f=s[y][0]),"C"!=f&&(h[y]=f,y&&(m=h[y-1])),s[y]=c(s[y],l,m),"A"!=h[y]&&"C"==f&&(h[y]="C"),u(s,y)),p(r,s,o,l,y),p(s,r,l,o,y);var v=r[y],b=s&&s[y],x=v.length,T=s&&b.length;o.x=v[x-2],o.y=v[x-1],o.bx=F(v[x-4])||o.x,o.by=F(v[x-3])||o.y,l.bx=s&&(F(b[T-4])||l.x),l.by=s&&(F(b[T-3])||l.y),l.x=s&&b[T-2],l.y=s&&b[T-1]}return s||(i.curve=a(r)),s?[r,s]:r}function O(e,t){if(!t)return e;var n,i,r,a,s,o,l;for(e=j(e),r=0,s=e.length;s>r;r++)for(l=e[r],a=1,o=l.length;o>a;a+=2)n=t.x(l[a],l[a+1]),i=t.y(l[a],l[a+1]),l[a]=n,l[a+1]=i;return e}function N(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var a=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?r-4==i?a[3]={x:+e[0],y:+e[1]}:r-2==i&&(a[2]={x:+e[0],y:+e[1]},a[3]={x:+e[2],y:+e[3]}):a[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?a[3]=a[2]:i||(a[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}var M=t.prototype,P=e.is,R=e._.clone,I="hasOwnProperty",L=/,?([a-z]),?/gi,F=parseFloat,$=Math,D=$.PI,B=$.min,q=$.max,U=$.pow,V=$.abs,H=o(1),G=o(),W=o(0,1),X=e._unit2px,Y={path:function(e){return e.attr("path")},circle:function(e){var t=X(e);return k(t.cx,t.cy,t.r)},ellipse:function(e){var t=X(e);return k(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=X(e);return w(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=X(e);return w(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return w(t.x,t.y,t.width,t.height)}};e.path=n,e.path.getTotalLength=H,e.path.getPointAtLength=G,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return W(e,t).end;var i=W(e,n,1);return t?W(i,t).end:i},M.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},M.getPointAtLength=function(e){return G(this.attr("d"),e)},M.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=i,e.path.findDotsAtSegment=l,e.path.bezierBBox=c,e.path.isPointInsideBBox=u,e.path.isBBoxIntersect=p,e.path.intersection=g,e.path.intersectionNumber=v,e.path.isPointInside=x,e.path.getBBox=T,e.path.get=Y,e.path.toRelative=_,e.path.toAbsolute=C,e.path.toCubic=j,e.path.map=O,e.path.toString=r,e.path.clone=a}),i.plugin(function(e){var i=Math.max,r=Math.min,a=function(e){if(this.items=[],this.bindings={},this.length=0,this.type="set",e)for(var t=0,n=e.length;n>t;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},s=a.prototype;s.push=function(){for(var e,t,n=0,i=arguments.length;i>n;n++)e=arguments[n],e&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},s.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},s.forEach=function(e,t){for(var n=0,i=this.items.length;i>n;n++)if(e.call(t,this.items[n],n)===!1)return this;return this},s.animate=function(i,r,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear),i instanceof e._.Animation&&(s=i.callback,a=i.easing,r=a.dur,i=i.attr);var o=arguments;if(e.is(i,"array")&&e.is(o[o.length-1],"array"))var l=!0;var c,u=function(){c?this.b=c:c=this.b},p=0,d=s&&function(){p++==this.length&&s.call(this)};return this.forEach(function(e,n){t.once("snap.animcreated."+e.id,u),l?o[n]&&e.animate.apply(e,o[n]):e.animate(i,r,a,d)})},s.remove=function(){for(;this.length;)this.pop().remove();return this},s.bind=function(e,t,n){var i={};if("function"==typeof t)this.bindings[e]=t;else{var r=n||e;this.bindings[e]=function(e){i[r]=e,t.attr(i)}}return this},s.attr=function(e){var t={};for(var n in e)this.bindings[n]?this.bindings[n](e[n]):t[n]=e[n];for(var i=0,r=this.items.length;r>i;i++)this.items[i].attr(t);return this},s.clear=function(){for(;this.length;)this.pop()},s.splice=function(e,t){e=0>e?i(this.length+e,0):e,t=i(0,r(this.length-e,t));var n,s=[],o=[],l=[];for(n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;t>n;n++)o.push(this[e+n]);for(;n<this.length-e;n++)s.push(this[e+n]);var c=l.length;for(n=0;n<c+s.length;n++)this.items[e+n]=this[e+n]=c>n?l[n]:s[n-c];for(n=this.items.length=this.length-=t-c;this[n];)delete this[n++];return new a(o)},s.exclude=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},s.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},s.getBBox=function(){for(var e=[],t=[],n=[],a=[],s=this.items.length;s--;)if(!this.items[s].removed){var o=this.items[s].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),a.push(o.y+o.height)}return e=r.apply(0,e),t=r.apply(0,t),n=i.apply(0,n),a=i.apply(0,a),{x:e,y:t,x2:n,y2:a,width:n-e,height:a-t,cx:e+(n-e)/2,cy:t+(a-t)/2}},s.clone=function(e){e=new a;for(var t=0,n=this.items.length;n>t;t++)e.push(this.items[t].clone());return e},s.toString=function(){return"Snap‘s set"},s.type="set",e.set=function(){var e=new a;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),i.plugin(function(e,n){function i(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}}function r(t,n,r){n=d(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var a,s,o,u,p=Math.max(t.length,n.length),h=[],f=[],m=0;p>m;m++){if(o=t[m]||i(n[m]),u=n[m]||i(o),o[0]!=u[0]||"r"==o[0].toLowerCase()&&(o[2]!=u[2]||o[3]!=u[3])||"s"==o[0].toLowerCase()&&(o[3]!=u[3]||o[4]!=u[4])){t=e._.transform2matrix(t,r()),n=e._.transform2matrix(n,r()),h=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],f=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(h[m]=[],f[m]=[],a=0,s=Math.max(o.length,u.length);s>a;a++)a in o&&(h[m][a]=o[a]),a in u&&(f[m][a]=u[a])}return{from:c(h),to:c(f),f:l(h)}}function a(e){return e}function s(e){return function(t){return+t.toFixed(3)+e}}function o(t){return e.rgb(t[0],t[1],t[2])}function l(e){var t,n,i,r,a,s,o=0,l=[];for(t=0,n=e.length;n>t;t++){for(a="[",s=['"'+e[t][0]+'"'],i=1,r=e[t].length;r>i;i++)s[i]="val["+o++ +"]";a+=s+"]",l[t]=a}return Function("val","return Snap.path.toString.call(["+l+"])")}function c(e){for(var t=[],n=0,i=e.length;i>n;n++)for(var r=1,a=e[n].length;a>r;r++)t.push(e[n][r]);return t}var u={},p=/[a-z]+$/i,d=String;u.stroke=u.fill="colour",n.prototype.equal=function(e,n){return t("snap.util.equal",this,e,n).firstDefined()},t.on("snap.util.equal",function(t,n){var i,h,f=d(this.attr(t)||""),m=this;if(f==+f&&n==+n)return{from:+f,to:+n,f:a};if("colour"==u[t])return i=e.color(f),h=e.color(n),{from:[i.r,i.g,i.b,i.opacity],to:[h.r,h.g,h.b,h.opacity],f:o};if("transform"==t||"gradientTransform"==t||"patternTransform"==t)return n instanceof e.Matrix&&(n=n.toTransformString()),e._.rgTransform.test(n)||(n=e._.svgTransform2string(n)),r(f,n,function(){return m.getBBox(1)});if("d"==t||"path"==t)return i=e.path.toCubic(f,n),{from:c(i[0]),to:c(i[1]),f:l(i[0])};if("points"==t)return i=d(f).split(e._.separator),h=d(n).split(e._.separator),{from:i,to:h,f:function(e){return e}};aUnit=f.match(p);var y=d(n).match(p);return aUnit&&aUnit==y?{from:parseFloat(f),to:parseFloat(n),f:s(aUnit)}:{from:this.asPX(t),to:this.asPX(t,n),f:a}})}),i.plugin(function(e,n,i,r){for(var a=n.prototype,s="hasOwnProperty",o=("createTouch"in r.doc),l=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=(function(e,t){var n="y"==e?"scrollTop":"scrollLeft",i=t&&t.node?t.node.ownerDocument:r.doc;return i[n in i.documentElement?"documentElement":"body"][n]}),p=function(){this.returnValue=!1},d=function(){return this.originalEvent.preventDefault()},h=function(){this.cancelBubble=!0},f=function(){return this.originalEvent.stopPropagation()},m=function(){return r.doc.addEventListener?function(e,t,n,i){var r=o&&c[t]?c[t]:t,a=function(r){var a=u("y",i),l=u("x",i);if(o&&c[s](t))for(var p=0,h=r.targetTouches&&r.targetTouches.length;h>p;p++)if(r.targetTouches[p].target==e||e.contains(r.targetTouches[p].target)){var m=r;r=r.targetTouches[p],r.originalEvent=m,r.preventDefault=d,r.stopPropagation=f;break}var y=r.clientX+l,g=r.clientY+a;return n.call(i,r,y,g)};return t!==r&&e.addEventListener(t,a,!1),e.addEventListener(r,a,!1),function(){return t!==r&&e.removeEventListener(t,a,!1),e.removeEventListener(r,a,!1),!0}}:r.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||i.node.ownerDocument.window.event;var t=u("y",i),r=u("x",i),a=e.clientX+r,s=e.clientY+t;return e.preventDefault=e.preventDefault||p,e.stopPropagation=e.stopPropagation||h,n.call(i,e,a,s)};e.attachEvent("on"+t,r);var a=function(){return e.detachEvent("on"+t,r),!0};return a}:void 0}(),y=[],g=function(e){for(var n,i=e.clientX,r=e.clientY,a=u("y"),s=u("x"),l=y.length;l--;){if(n=y[l],o){for(var c,p=e.touches&&e.touches.length;p--;)if(c=e.touches[p],c.identifier==n.el._drag.id||n.el.node.contains(c.target)){i=c.clientX,r=c.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();{var d=n.el.node;d.nextSibling,d.parentNode,d.style.display}i+=s,r+=a,t("snap.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},v=function(n){e.unmousemove(g).unmouseup(v);for(var i,r=y.length;r--;)i=y[r],i.el._drag={},t("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);y=[]},b=l.length;b--;)!function(t){e[t]=a[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:m(this.node||document,t,n,i||this)})),this},e["un"+t]=a["un"+t]=function(e){for(var n=this.events||[],i=n.length;i--;)if(n[i].name==t&&(n[i].f==e||!e))return n[i].unbind(),n.splice(i,1),!n.length&&delete this.events,this;return this}}(l[b]);a.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},a.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var x=[];a.drag=function(n,i,r,a,s,o){function l(l,c,u){(l.originalEvent||l).preventDefault(),this._drag.x=c,this._drag.y=u,this._drag.id=l.identifier,!y.length&&e.mousemove(g).mouseup(v),y.push({el:this,move_scope:a,start_scope:s,end_scope:o}),i&&t.on("snap.drag.start."+this.id,i),n&&t.on("snap.drag.move."+this.id,n),r&&t.on("snap.drag.end."+this.id,r),t("snap.drag.start."+this.id,s||a||this,c,u,l)}if(!arguments.length){var c;return this.drag(function(e,t){this.attr({transform:c+(c?"T":"t")+[e,t]})},function(){c=this.transform().local})}return this._drag={},x.push({el:this,start:l}),this.mousedown(l),this},a.undrag=function(){for(var n=x.length;n--;)x[n].el==this&&(this.unmousedown(x[n].start),x.splice(n,1),t.unbind("snap.drag.*."+this.id));return!x.length&&e.unmousemove(g).unmouseup(v),this}}),i.plugin(function(e,n,i){var r=(n.prototype,i.prototype),a=/^\s*url\((.+)\)/,s=String,o=e._.$;e.filter={},r.filter=function(t){var i=this;"svg"!=i.type&&(i=i.paper);var r=e.parse(s(t)),a=e._.id(),l=(i.node.offsetWidth,i.node.offsetHeight,o("filter"));return o(l,{id:a,filterUnits:"userSpaceOnUse"}),l.appendChild(r.node),i.defs.appendChild(l),new n(l)},t.on("snap.util.getattr.filter",function(){t.stop();var n=o(this.node,"filter");if(n){var i=s(n).match(a);return i&&e.select(i[1])}}),t.on("snap.util.attr.filter",function(i){if(i instanceof n&&"filter"==i.type){t.stop();var r=i.node.id;r||(o(i.node,{id:i.id}),r=i.id),o(this.node,{filter:e.url(r)})}i&&"none"!=i||(t.stop(),this.node.removeAttribute("filter"))}),e.filter.blur=function(t,n){null==t&&(t=2);var i=null==n?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,i,r,a){return"string"==typeof i&&(r=i,a=r,i=4),"string"!=typeof r&&(a=r,r="#000"),r=r||"#000",null==i&&(i=4),null==a&&(a=1),null==t&&(t=0,n=2),null==n&&(n=t),r=e.color(r),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:t,dy:n,blur:i,opacity:a})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),i}),define("game/ShapeFactory",["jquery","underscore","snap"],function(e,t,n){var i={sizes:{small:90,medium:120,large:150},shapes:{circle:function(e,t){return e.circle(t.x,t.y,i.sizes[t.size])},square_sidedown:function(e,t){var n=.85,r=n*i.sizes[t.size];return e.rect(t.x-r,t.y-r,2*r,2*r)},square_edgedown:function(e,t){var n=t.x,r=t.y,a=i.sizes[t.size];return e.polygon(n,r+a,n-a,r,n,r-a,n+a,r)},triangle_sidedown:function(e,t){var n=t.x,r=t.y,a=i.sizes[t.size];return e.polygon(n-a,r+a,n,r-a,n+a,r+a)},triangle_edgedown:function(e,t){var n=t.x,r=t.y,a=i.sizes[t.size];return e.polygon(n,r+a,n-a,r-a,n+a,r-a)}}};return i.createShape=function(e,t,n){return i.shapes[t]?i.shapes[t](e,n):(console.error("unknown shape type: "+t),i.shapes.circle(e,n))},i.setCSSRules=function(){var e="medium",r=.85,a=" .shape_<%= classname %>{ background-image: url('data:image/svg+xml;utf8,<%= svgstring %>') !important}\n",s=2*i.sizes[e],o="";for(var l in i.shapes){{var c=new n(s/r,s/r);i.createShape(c,l,{x:s/(2*r),y:s/(2*r),size:e}).attr({fill:"#000000",opacity:.75})}o+=t.template(a,{classname:l,svgstring:c.toString()})}console.log(o)},i.randomizeShapes=function(e){var t,n=e.gameobjects;for(t=0;t<n.length;++t)console.log(n[t]);return e},i}),define("game/renderer/TapObjectRenderer",["jquery","underscore","Framework","game/ShapeFactory"],function(e,t,n,i){var r=n.Renderer.extend({startborder:-.5,endborder:0,borderradius:20,removeuntil:.5,removefrom:.4,startshow:-.8,endshow:0,visual_type:"circle",color_plain_fill:"#FFFFFF",color_plain_border:"#EEEEEE",color_tapped_fill:"#33CC33",color_tapped_border:"#FFFF66",color_missed_fill:"#CC0000",color_missed_border:"#CC0000",initialize:function(e){this.options=e},setSnapAttr:function(e){"undefined"==typeof this.snapobject&&this.createVisualElement(),"undefined"!=typeof this.snapobject&&this.snapobject.attr(e)},markMissed:function(){this.setSnapAttr({fill:this.color_missed_fill})},getStartTime:function(){return this.startshow+this.options.timestamp},createVisualElement:function(){this.snapobject=i.createShape(this.snap,this.options.shape.type,{x:this.options.x,y:this.options.y,size:this.options.shape.size}),this.snapobject.attr({fill:this.color_plain_fill,stroke:this.color_plain_border,strokeWidth:this.borderradius,opacity:0}),this.snapobject.touchend(this.controller.handleTap.bind(this.controller)),this.snapobject.click(this.controller.handleTap.bind(this.controller))},markHit:function(){this.setSnapAttr({fill:this.color_tapped_fill})},markUpcoming:function(e){this.setSnapAttr({strokeWidth:this.borderradius*e})},setOpacity:function(e){this.setSnapAttr({opacity:e})},getPercentage:function(e,t){var n=this.time/(t-e);return Math.abs(n)},render:function(e){return this.time=e-=this.options.timestamp,e>=this.startborder&&e<this.endborder&&this.markUpcoming(this.getPercentage(this.startborder,this.endborder)),e>=this.startshow&&e<this.endshow&&("undefined"===this.snapobject&&this.createVisualElement(),this.setOpacity(1-this.getPercentage(this.startshow,this.endshow))),e>=this.removefrom&&e<this.removeuntil&&this.setOpacity(1-this.getPercentage(this.removefrom,this.removeuntil)),e>=this.removeuntil?("undefined"!=typeof this.snapobject&&this.snapobject.remove(),!1):!0}});return r}),define("util/scripts",[],function(){!function(){for(var e=0,t=["ms","moz","webkit","o"],n=!(!window.performance||!window.performance.now),i=0,r=t.length;r>i&&!window.requestAnimationFrame;i+=1)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];if(window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),!n){var a=window.requestAnimationFrame,s=+new Date;window.requestAnimationFrame=function(e,t){var n=function(t){var n=1e12>t?t:t-s;return e(n)};a(n,t)}}}(),function(){if(!window.performance||!window.performance.now){window.performance||(window.performance={});for(var e=["webkitNow","msNow","mozNow"],t=0;t<e.length;t++)if(window.performance[e[t]])return void(window.performance.now=window.performance[e[t]]);return Date.now?void(window.performance.now=function(){return Date.now()}):void(window.performance.now=function(){return+new Date})}}(),Date.now||(Date.now=function(){return(new Date).getTime()});var e={};return e.pickRandomObject=function(e){var t,n=0;for(var i in e)Math.random()<1/++n&&(t=i);return t},e}),define("game/controller/TapObject",["jquery","underscore","Framework","snap","util/analytics","game/ShapeFactory","game/renderer/TapObjectRenderer","util/scripts"],function(e,t,n,i,r,a,s){var o=n.GameObject.extend({initialize:function(e,t,n,i,r){this.game=e,this.timestamp=t,this.setRenderer(new s({snap:e.surface.getSnap(),controller:this,x:n,y:i,timestamp:t,shape:r}))},tapdelta:0/0,logic_enabled:!0,time_render:0/0,time_logic:0/0,tapped:!1,tapdiff:0/0,max_tapdiff:.2,debugtime:0/0,handleTap:function(){this.timestamp==this.debugtime&&console.info("allowed tap: "+this.logic_enabled),this.tapped||(this.tapped=!0,this.logic_enabled?Math.abs(this.getTimeDiff())<=this.max_tapdiff?this.markHit():this.markMissed():(console.log("TapObject was missed (too late) at "+Math.abs(Math.floor(100*this.time_logic))),r.trackAction("game","TapObject","missed (too late)",Math.abs(Math.floor(100*this.time_logic)))))},markHit:function(){this.tapdiff=this.time_logic,this.logic_enabled=!1,r.trackAction("game","TapObject","hit (too "+(this.tapdiff<0?"early":"late")+")",Math.abs(Math.floor(100*this.tapdiff))),console.log("TapObject was hit too "+(this.tapdiff<0?"early":"late")+" at "+Math.abs(Math.floor(100*this.tapdiff))),this.getRenderer().markHit()},markMissed:function(){this.logic_enabled=!1,this.time_logic<this.max_tapdiff&&(console.log("TapObject was missed (too early) at "+Math.abs(Math.floor(100*this.time_logic))),r.trackAction("game","TapObject","missed (too early)",Math.abs(Math.abs(Math.floor(100*this.time_logic))))),this.getRenderer().markMissed()},update:function(){this.logic_enabled&&(this.time_logic=this.getTimeDiff(),this.time_logic>=this.max_tapdiff&&this.markMissed())},getTimeDiff:function(){return this.game.getTime()-this.timestamp},getHighScore:function(){if(isNaN(this.tapdiff))return 0;var e=Math.abs(this.tapdiff)-.05;return 0>=e?1:1-e/this.max_tapdiff}});return o}),define("game/controller/Game",["jquery","underscore","Framework","game/controller/TapObject"],function(e,t,n,i){var r=n.Controller.extend({updateintervall:null,stopped:!0,initialize:function(e){this.gameObjects=[],this.audiocontroller=e.audiocontroller,this.surface=e.surface;for(var t=e.level.toJSON(),n=0;n<t.gameObjects.length;n++){var r=t.gameObjects[n];switch(r.type){case"Tap":this.gameObjects.push(new i(this,r.tapTime,r.x,r.y,r.shape));break;default:console.error("undefined gameObject detected")}}},getTime:function(){return this.audiocontroller.getCurrentTime()},update:function(){if(!this.stopped)for(var e=0;e<this.gameObjects.length;e++)this.gameObjects[e].update(this.getTime())},updateView:function(){if(!this.stopped){for(var e=0;e<this.gameObjects.length;e++)this.gameObjects[e].render(this.getTime());requestAnimationFrame(this.updateView.bind(this))}},start:function(){this.stopped=!1,console.log("startet game"),this.updateinterval=setInterval(this.update.bind(this),1e3/60),this.updateView(this.getTime())},stop:function(){clearInterval(this.updateinterval),this.stopped=!0,console.log("stopped game")},calculateHighScore:function(){for(var e=0,t=0;t<this.gameObjects.length;t++)e+=this.gameObjects[t].getHighScore();var n=e/this.gameObjects.length;return(100*n).toFixed(1)+"%"}});return r}),define("game/controller/AudioController",["jquery","underscore","Framework","app"],function(e,t,n,i){var r=n.Controller.extend({cache:[],initialize:function(e){console.log(e),t.extend(this,t.pick(e,["callback_started","callback_ended","callback_readytoplay","callback_error","renderer"])),console.log(this)},callback_started:function(){},callback_ended:function(){},callback_readytoplay:function(){},callback_error:function(){},dispose:function(){this.onClose()},onClose:function(){this.active=!1,console.log("closing audio"),this.request&&(this.request.abort(),this.request=null);try{this.source&&(this.source.disconnect(),this.source.stop(),this.source=null)}catch(e){}},onended:function(){console.info("The audio has stopped"),this.notified_ended||(this.callback_ended(),this.notified_ended=!0)},load:function(e){this.notified_ended=!1,this.active=!0,this.inittime=null,this.stream_url=e;try{if("undefined"!=typeof this.cache[e])return console.info("Reading audio-buffer from cache."),void this.initsound(this.cache[e]);var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.addEventListener("progress",this.passloadingpercentage.bind(this),!1);var n=function(){this.renderer.hideLoadingIndicator(),this.renderer.showProcessingInformation(),this.active&&i.audiocontext.decodeAudioData(t.response,this.initsound.bind(this),this.callback_error)}.bind(this);t.onload=n,this.request=t,this.request.send()}catch(r){console.error(r),this.callback_error("Web Audio API is not supported in this browser")}},passloadingpercentage:function(e){if(e.lengthComputable){var t=e.loaded/e.total;this.renderer.setProgress(t)}},initsound:function(e){if(console.log("init sound"),this.active){"undefined"==typeof this.cache[this.stream_url]&&(this.cache[this.stream_url]=e);var t=i.audiocontext.createBufferSource();t.buffer=e,t.connect(i.audiocontext.destination),t.onended=this.onended.bind(this),this.source=t,this.renderer.hideProcessingInformaion(),this.callback_readytoplay()}},start:function(){this.source.start(0),this.inittime=i.audiocontext.currentTime,this.callback_started()},getCurrentTime:function(){return i.audiocontext.currentTime-this.inittime},getPercentage:function(){return this.getCurrentTime()/this.getDuration()},getDuration:function(){return this.source.buffer.duration},attachAudioLoadingView:function(e){this.audioloaderview=e}});return r}),define("game/renderer/AudioLoadingRenderer",["jquery","underscore","Framework","snap"],function(e,t,n,i){var r=n.Renderer.extend({width:1600,height:1200,loadingindicatorwidth:1e3,loadingindicatorheight:100,textattributes:function(){return{fill:"#FFFFFF","font-size":"5em",textAnchor:"middle",filter:this.snap.filter(i.filter.shadow(0,2,3))}},render:function(e){this.options=e?e:{},this.r=this.snap.rect(0,0,"100%","100%",0),this.r.attr({fill:this.options.bgcolor||"#000000"}),this.loadingindicatorbackground=this.snap.rect(this.width/2-this.loadingindicatorwidth/2,.6*this.height-this.loadingindicatorheight/2,this.loadingindicatorwidth,this.loadingindicatorheight),this.loadingindicatorbackground.attr({fill:"#000000",stroke:"#FFFFFF",strokeWidth:2}),this.loadingindicator=this.snap.rect(this.width/2-this.loadingindicatorwidth/2,.6*this.height-this.loadingindicatorheight/2,0,this.loadingindicatorheight),this.loadingindicator.attr({fill:"#FFFFFF"}),this.loadingtext=this.snap.text(this.width/2,.4*this.height,"Loading audio"),this.loadingtext.attr(this.textattributes())},createStatusText:function(e){var t=this.snap.text(this.width/2,.4*this.height,e);return t.attr(this.textattributes()),t},setProgress:function(e){this.loadingindicator.attr({width:this.loadingindicatorwidth*e})},hideLoadingIndicator:function(){this.loadingtext&&this.loadingtext.remove(),this.loadingindicator&&this.loadingindicator.remove(),this.loadingindicatorbackground&&this.loadingindicatorbackground.remove()},showProcessingInformation:function(){this.processingText=this.snap.text(this.width/2,this.height/2,"Processing audio"),this.processingText.attr(this.textattributes())},hideProcessingInformaion:function(){this.processingText&&this.processingText.remove()}});return r}),define("game/Surface",["jquery","underscore","snap"],function(e,t,n){var i=function(e){this.options=e,this.snap=new n("#svg"),this.r=this.snap.rect(0,0,"100%","100%",0),this.r.attr({fill:this.options.bgcolor||"#000000"})};return i.prototype={width:1600,height:1200,getSnap:function(){return this.snap},getRootRect:function(){return this.r},requestStartFromUser:function(e){var t=this.snap.text(this.width/2,this.height/2,"Tap here to start!");t.attr({fill:"#FFFFFF","font-size":"5em",textAnchor:"middle",filter:this.snap.filter(n.filter.shadow(0,2,3)),id:"startactionbutton"}),this.startaction=t;var i=function(){this.getRootRect().unclick(),this.startaction.unclick(),t.remove(),e()}.bind(this);this.getRootRect().click(i),this.startaction.click(i)}},i}),define("views/PlayView",["jquery","underscore","Framework","text!templates/play.html","app","models/Track","game/controller/Game","util/analytics","game/controller/AudioController","game/renderer/AudioLoadingRenderer","game/Surface","util/scripts"],function(e,t,n,i,r,a,s,o,l,c,u){var p=n.View.extend({el:"#body",onClose:function(){"undefined"!=typeof this.game&&this.game.stop(),this.result=null;try{this.audiocontroller.dispose()}catch(e){}this.game=null},stopGame:function(){this.game.stop(),e("#svg").fadeTo(1500,0,this.exitview.bind(this)),this.result={},this.result.highscore=this.game.calculateHighScore(),this.result.level=this.level,this.audiocontroller.dispose()},render:function(e){n.history.navigate("playlevel",!1),this.onClose(),this.level=e;var r=t.template(i,{});this.$el.html(r),this.surface=new u({bgcolor:"#000000"}),this.audioloadingrenderer=new c({snap:this.surface.getSnap()}),this.audioloadingrenderer.render(),this.audiocontroller=new l({renderer:this.audioloadingrenderer,callback_started:this.onAudioStarted.bind(this),callback_ended:this.stopGame.bind(this),callback_readytoplay:this.onAudioReady.bind(this),callback_error:this.onAudioError.bind(this)}),this.audiocontroller.load(this.level.get("audio").getStreamUrl(),!0)
},onAudioReady:function(){console.log("audio is ready"),this.game=new s({level:this.level,audiocontroller:this.audiocontroller,surface:this.surface}),this.surface.requestStartFromUser(this.audiocontroller.start.bind(this.audiocontroller))},onAudioStarted:function(){this.game.start()},onAudioError:function(e){console.error(e),alert(e),this.audiocontroller.onClose(),this.audiocontroller.dispose()},exitview:function(){o.trackAction("game","ending regularly","highscore:"+this.result.highscore),r.setContent(r.router.views.highscoreview,this.result)}});return p}),define("text!templates/highscore.html",[],function(){return'<div class="container">\n    <!-- Main jumbotron for a primary marketing message or call to action -->\n    <div class="jumbotron">\n        <div class="container">\n            <h1>Level Finished!</h1>\n\n            <p>Congratulations! You finished <%= levelname %> with <strong><%= highscore %></strong>.</p>\n\n            <p>\n                <button class="btn btn-primary btn" type="button" id="btn_playagain">Play again!</button>\n                <button class="btn btn-default" id="btn_gotoChooseLevelView">Return to Level-Overview</button>\n            </p>\n        </div>\n    </div>\n</div>\n'}),define("views/HighScoreView",["jquery","underscore","Framework","text!templates/highscore.html","app","util/analytics","lib/bootstrap"],function(e,t,n,i,r,a){var s=n.View.extend({el:"#content",events:{"click #btn_gotoChooseLevelView":"gotoChooseLevelView","click #btn_playagain":"playagain"},render:function(e){n.history.navigate("highscore",!1),this.game=e;var r=t.template(i,{highscore:this.game.highscore,levelname:this.game.level.get("name")});this.$el.html(r)},gotoChooseLevelView:function(){a.trackAction("highscoreview","click button","gotoChooseLevelview"),n.history.navigate("chooselevel",!0)},playagain:function(){a.trackAction("highscoreview","click button","playagain"),console.log(this.game),r.startlevel(this.game.level)}});return s}),define("text!templates/levelbuilder/base.html",[],function(){return'<div class="container">\n    <h1>Level Builder</h1>\n    <hr/>\n    <div class="content"></div>\n</div>'}),define("text!templates/levelbuilder/gameobjectrecorder.html",[],function(){return'<div id="gamerecorder" class="svgcontainer">\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1600 1200" id="svg">\n    </svg>\n</div>\n\n'}),define("views/levelbuilder/GameObjectRecorderView",["jquery","underscore","Framework","snap","game/controller/TapObject","game/Surface","game/controller/AudioController","game/renderer/AudioLoadingRenderer","models/Track","text!templates/levelbuilder/gameobjectrecorder.html","app","models/GameObject"],function(e,t,n,i,r,a,s,o,l,c,u,p){var d=n.View.extend({el:"#body",onClose:function(){this.audiocontroller&&(this.audiocontroller.onClose(),this.audiocontroller.dispose())},render:function(e){this.model=e,this.audiocontroller&&this.audiocontroller.dispose();var n=t.template(c,{});this.$el.html(n),this.surface=new a({bgcolor:"#222222"}),this.audioloadingrenderer=new o({snap:this.surface.getSnap()}),this.audioloadingrenderer.render({bgcolor:"#222222"}),this.audiocontroller=new s({renderer:this.audioloadingrenderer,callback_started:this.onAudioStarted.bind(this),callback_ended:this.recordingfinished.bind(this),callback_readytoplay:this.onAudioReady.bind(this),callback_error:this.onAudioError.bind(this)}),this.audiocontroller.load(this.model.get("audio").getStreamUrl(),!0)},addTapObject:function(e,t,n){this.model.get("gameObjects").add(new p({type:"Tap",x:t,y:n,tapTime:e}))},onAudioReady:function(){this.svgelem=document.getElementById("svg"),this.surface.requestStartFromUser(this.audiocontroller.start.bind(this.audiocontroller))},onAudioStarted:function(){this.isrecording=!0,this.surface.getRootRect().touchstart(function(e){if(this.isrecording){var t=e.changedTouches[0],n=this.svgelem.createSVGPoint();n.x=t.pageX,n.y=t.pageY;var i=e.target.getScreenCTM().inverse();i?(n=n.matrixTransform(i),console.log(JSON.stringify(n)),this.addTapObject(this.audiocontroller.getCurrentTime(),Math.floor(n.x),Math.floor(n.y))):console.error("error retrieving position")}}.bind(this))},onAudioError:function(){this.isrecording=!1,console.error("Audio error!!!!!"),this.audiocontroller.dispose(),alert("There was an error loading the audio file.")},recordingfinished:function(){this.isrecording=!1,console.log("finished"),u.router.openLevelBuilder("leveleditor")}});return d}),define("text!templates/levelbuilder/start.html",[],function(){return'<p>Here you can create and edit your own levels. You can either start from scratch or edit an existing level. Choose\n    your way below:</p>\n<br>\n\n<h2><span class="glyphicon glyphicon-pencil"></span> New Level</h2>\n\n<div class="list-group">\n\n    <a class="list-group-item" href="#levelbuilder/create" id="new">\n\n        <h4 class="list-group-item-heading">Create a new level!</h4>\n\n        <p class="list-group-item-text">\n            You will select a track from SoundCloud and record your gameobjects.\n        </p>\n    </a>\n</div>\n<div class="list-group">\n    <h2><span class="glyphicon glyphicon-pencil"></span> Your Drafts</h2>\n\n    <div id="draftcontainer" class="list-group">\n\n    </div>\n</div>'}),define("views/levelbuilder/StartView",["jquery","underscore","Framework","text!templates/levelbuilder/start.html","app"],function(e,t,n,i,r){var a=n.View.extend({template:t.template(i,{}),initialize:function(){},events:{"click #edit":"edit","click #new":"create"},create:function(){return console.log("click"),r.router.views.levelbuilderview.setContent("leveleditor"),!1},edit:function(){return r.router.views.levelbuilderview.setContent("openlevel"),!1},render:function(){this.$el.html(this.template)}});return a}),define("text!templates/levelbuilder/openlevel.html",[],function(){return'<p>To open a level, copy the level-text into the input-field below.</p>\n<div class="leveltextinput"></div>'}),define("views/levelbuilder/OpenLevelView",["jquery","underscore","Framework","text!templates/levelbuilder/openlevel.html","views/LevelTextInputView","app"],function(e,t,n,i,r,a){var s=n.View.extend({template:t.template(i,{}),initialize:function(){this.leveltextinputview=new r(this.levelselected.bind(this))},render:function(){this.$el.html(this.template),this.leveltextinputview.setElement(this.$(".leveltextinput")),this.leveltextinputview.render()},levelselected:function(e){var t=a.router.views.levelbuilderview;t.getContent("leveleditor").setModel(e),t.setContent("leveleditor")}});return s}),define("text!templates/levelbuilder/leveleditor.html",[],function(){return'<div class="container">\n\n    <div class="btn-group pull-right">\n        <button type="button" id="delete" class="btn btn-danger">Delete Draft</button>\n        <button type="button" id="export" class="btn btn-default">Export Draft</button>\n        <button type="button" id="save" class="btn btn-default">Save Draft</button>\n        <button type="button" id="publish" class="btn btn-primary">Publish</button>\n    </div>\n    <h3>\n        <span id="levelname"><%= levelname %></span>\n        <small>by <%= username %></small>\n    </h3>\n    <div class="row" id="panellist">\n\n    </div>\n    <div class="btn-group  pull-right">\n        <button type="button" id="play" class="btn btn-default">Play</button>\n    </div>\n\n\n</div>'}),define("text!templates/levelbuilder/gameobjecteditor/tapobjectrow.html",[],function(){return'<td class="select_td"><input type="checkbox" class="checkbox_rowselection" id="<%- cid %>-selection" value="checked"/>\n</td>\n<td><input class="form-control input-sm" id="<%- cid %>-time" type="number" value="<%- time %>"/></td>\n<td>Tap</td>\n<td><input class="form-control input-sm" id="<%- cid %>-x" type="number" value="<%- x %>"/></td>\n<td><input class="form-control input-sm" id="<%- cid %>-y" type="number" value="<%- y %>"/></td>\n<td>\n    <div class="btn-group">\n        <% _.each(shapes, function(s) { %>\n        <button type="button" class="btn btn-default shape shape_<%= s %>" alt="<%= s %>"\n                title="<%= s %>"></button>\n        <% }); %>\n    </div>\n</td>'}),define("views/levelbuilder/TapObjectRowView",["jquery","underscore","Framework","text!templates/levelbuilder/gameobjecteditor/tapobjectrow.html","game/ShapeFactory"],function(e,t,n,i,r){var a=n.View.extend({tagName:"tr",css_classname_active:"shape_selected",initialize:function(e){this.tapobject=e,this.tapobject.on("change:shape",this.changeShape,this),this.listenTo(this.tapobject,"selected",this.setSelected,this),this.listenTo(this.tapobject,"deselected",this.setDeselected,this)},events:{"click .shape":"clickedShapeButton",click:"clickRow","click .checkbox_rowselection":"clickSelectionToggle"},render:function(e){var n=t.extend(this.tapobject.toJSON(),{index:e,time:(Math.round(100*this.tapobject.get("tapTime"))/100).toFixed(2),shapes:Object.keys(r.shapes),cid:this.tapobject.cid}),a=t.template(i,n);this.$el.html(a),this.getShapeElem(this.currentShape()).addClass(this.css_classname_active)},clickRow:function(e){"TD"===e.target.tagName&&this.tapobject.toggleSelected()},clickSelectionToggle:function(){this.tapobject.toggleSelected()},setSelected:function(){console.log("model "+this.tapobject.cid+" was selected"),this.$(".checkbox_rowselection").prop("checked",!0),this.$el.addClass("active")},setDeselected:function(){console.log("model "+this.tapobject.cid+" was deselected"),this.$(".checkbox_rowselection").prop("checked",!1),this.$el.removeClass("active")},currentShape:function(){return this.tapobject.get("shape").type},previousShape:function(){return this.tapobject.previous("shape").type},clickedShapeButton:function(e){var t=e.target.getAttribute("alt");this.tapobject.set({shape:{type:t,size:"medium"}})},changeShape:function(){this.getShapeElem(this.previousShape()).removeClass(this.css_classname_active),this.getShapeElem(this.currentShape()).addClass(this.css_classname_active)},getShapeElem:function(e){return this.$(".shape_"+e)}});return a}),define("text!templates/components/levelexportmodal.html",[],function(){return'<div class="modal fade" id="exportmodal" tabindex="-1" role="dialog" aria-labelledby="exportmodallabel"\n     aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span\n                        class="sr-only">Close</span></button>\n                <h4 class="modal-title" id="exportmodallabel">Export</h4>\n            </div>\n            <div class="modal-body">\n                <textarea id="exportmodalcontent" style="width: 100%; max-width: 100%"></textarea>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>'}),define("views/levelbuilder/ExportModalView",["jquery","underscore","Framework","text!templates/components/levelexportmodal.html"],function(e,t,n,i){var r=n.View.extend({tagName:"div",template:t.template(i,{}),initialize:function(){},events:{},render:function(e){console.log(e),this.$el.html(this.template),this.$("#exportmodalcontent").html(JSON.stringify(e)),this.$("#exportmodal").modal("show")}});return r}),define("text!templates/levelbuilder/panels/audio.html",[],function(){return'<div class="panel panel-default">\n    <div class="panel-heading">Audio</div>\n    <div class="panel-body">\n        <p>Choose a song from <a href="http://soundcloud.com/" target="_blank">Soundcloud</a>\n            and enter the track-url below.<br>\n            To start immediately, you can also use one of the preselected songs by pressing the white button.</p>\n\n        <div id="alert_tracknotfound_container"></div>\n        <div class="input-group input-group-lg" id="audio_inputgroup">\n            <input type="text" class="form-control input-lg" id="input_entertrack"\n                   placeholder="Paste Soundcloud URL here (https://soundcloud.com/artist/track)"/>\n            <span class="input-group-btn">\n                <button class="btn btn-default" type="button" id="btn_recommendedtrack">\n                    <span class=\'glyphicon glyphicon-random\'></span>\n                </button>\n            </span>\n        </div>\n        <div id="trackcontainer" class="margin-top-10"></div>\n\n    </div>\n</div>\n'}),define("text!templates/components/trackpanel.html",[],function(){return'<iframe width="100%" height="166" scrolling="no" frameborder="no"\n        src="https://w.soundcloud.com/player/?url=<%= permalinkUrl %>&show_artwork=true&color=0066cc&visual=false&auto_play=false&buying=true&liking=true&download=true&sharing=true&show_comments=true&show_playcount=true&show_user=true"></iframe>'}),define("text!templates/components/errormessagealert.html",[],function(){return'<div class="alert alert-info alert-dismissable" id="alert" style="display:none;">\n    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n    <%- message %>\n</div>'}),define("views/ErrorMessageView",["jquery","underscore","Framework","text!templates/components/errormessagealert.html"],function(e,t,n,i){var r=n.View.extend({initialize:function(){},events:{},render:function(e){this.$el.html(t.template(i,{message:e})),this.$("#alert").fadeIn()}});return r}),define("views/levelbuilder/panels/AudioPanelView",["jquery","underscore","Framework","app","text!templates/levelbuilder/panels/audio.html","text!templates/components/trackpanel.html","models/Track","views/ErrorMessageView","util/scripts","lib/bootstrap"],function(e,t,n,i,r,a,s,o){var l=n.View.extend({initialize:function(){this.randomtracks=["https://soundcloud.com/maxfrostmusic/white-lies","https://soundcloud.com/greco-roman/roosevelt-sea-1","https://soundcloud.com/homoheadphonico/phantogram-don-t-move","https://soundcloud.com/fosterthepeoplemusic/pumpedupkicks","https://soundcloud.com/benkhan/savage"]},render:function(e){this.model=e,this.track=new s(this.model.get("audio").attributes);var n=t.template(r,{});this.$el.html(n),this.track.get("title")&&(this.$("#input_entertrack").val(audio.permalinkUrl),this.updateTrackPanel()),this.listenTo(this.model,"change:audio",this.updateTrackPanel.bind(this))},onClose:function(){},events:{"click #btn_entertrack":"enteredTrack","click #btn_recommendedtrack":"selectedRandomTrack","click #btn_gameobjectrecorder":"openGameObjectRecorder","input #input_entertrack":"enteredTrack"},enteredTrack:t.debounce(function(){var e=this;this.track.clear({silent:!0});var t=this.track.set({url:this.$("#input_entertrack").val()},{validate:!0});t?this.track.fetch({data:this.track.toJSON(),success:function(t){t.has("url")||e.model.set("audio",new s(t.attributes))},error:function(t,n){"AUDIOPROVIDER_ERROR"==n&&(n=s.errorMessages.SOUNDCLOUDERROR),e.showError(n)}}):this.showError(this.track.validationError)},300),selectedRandomTrack:function(){var t=this.randomtracks[Math.floor(Math.random()*this.randomtracks.length)];e("#input_entertrack").val(t),this.enteredTrack()},showError:function(e){this.$("#audio_inputgroup").removeClass("has-success").addClass("has-error"),this.$("#trackcontainer").html("");var t=new o;t.render(e),this.$("#alert_tracknotfound_container").html(t.$el)},updateTrackPanel:function(){this.$("#audio_inputgroup").removeClass("has-error").addClass("has-success");var e=this.model.get("audio");this.$("#alert_tracknotfound_container").html(""),this.$("#input_entertrack").val(e.get("permalinkUrl"));var n=t.template(a,e.toJSON());this.$("#trackcontainer").html(n),this.$("#trackinfo").fadeIn()}});return l}),define("text!templates/levelbuilder/panels/gameobjects.html",[],function(){return'<div class="panel panel-default">\n    <div class="panel-heading">GameObjects</div>\n    <div class="panel-body">\n        <p>In this view you can edit all GameObjects of your level.</p>\n        <hr/>\n        <button id="btn_deleteseelected" class="btn btn-danger disabled">Delete selected</button>\n        <table class="table table-condensed">\n            <thead>\n            <tr>\n                <th></th>\n                <th>Time</th>\n                <th>Type</th>\n                <th>x</th>\n                <th>y</th>\n                <th>Shape</th>\n            </tr>\n            </thead>\n            <tbody id="tbody_gameobjects">\n\n            </tbody>\n        </table>\n        <div class="margin-top-15">\n            <p>Record new GameObjects by pressing the button below. The track will start playing in fullscreen and you\n                can add TapObjects by tapping at your desired positions in time. After playback, you will be redirected\n                back here.</p>\n\n            <div class="text-center">\n                <button class="btn btn-default" id="record_gameobjects">Record GameObjects!</button>\n            </div>\n        </div>\n        <div class="margin-top-15"></div>\n    </div>\n</div>\n'}),define("views/levelbuilder/panels/GameObjectEditorPanelView",["jquery","underscore","Framework","text!templates/levelbuilder/panels/gameobjects.html","views/levelbuilder/TapObjectRowView","views/levelbuilder/ExportModalView","app"],function(e,t,n,i,r,a,s){var o=n.View.extend({template:t.template(i,{}),initialize:function(){},render:function(e){this.model=e,this.$el.html(this.template),this.table=this.$("#tbody_gameobjects"),this.table.html("");var t=1,n=this.model.get("gameObjects");n.forEach(function(e){if("Tap"==e.get("type")){var n=new r(e);n.render(t++),this.table.append(n.el)}}.bind(this))},events:{"click #record_gameobjects":"recordGameObjects"},recordGameObjects:function(){s.setFullScreenContent(s.router.views.levelbuilderview.getContent("gameobjectrecorder"),this.model)}});return o}),define("text!templates/levelbuilder/panels/metadata.html",[],function(){return'<div class="panel panel-default">\n    <div class="panel-heading">Metadata</div>\n    <div class="panel-body">\n        <form class="form-horizontal" role="form">\n            <div class="form-group">\n                <label for="levelname" class="col-sm-2 control-label">Levelname</label>\n\n                <div class="col-sm-10">\n                    <input type="text" class="form-control" id="levelname" placeholder="Levelname"\n                           value="<%= levelname %>">\n                </div>\n            </div>\n            <div class="form-group">\n                <fieldset>\n                    <label for="username" class="col-sm-2 control-label">Username</label>\n\n                    <div class="col-sm-10">\n                        <p class="form-control-static" id="username"><%= username %></p>\n                    </div>\n                </fieldset>\n            </div>\n        </form>\n\n    </div>\n</div>'}),define("views/levelbuilder/panels/MetaDataPanelView",["jquery","underscore","Framework","app","text!templates/levelbuilder/panels/metadata.html","util/scripts","lib/bootstrap"],function(e,t,n,i,r){var a=n.View.extend({initialize:function(){},render:function(e){this.model=e;var n=t.template(r,{levelname:this.model.get("name"),username:this.model.get("owner").get("username")});this.$el.html(n)},onClose:function(){},events:{"click #btn_recordgameobjects":"recordGameObjects","input #levelname":"saveLevelname"},saveLevelname:function(){console.log("levelname"),this.model.set({name:this.$("#levelname").val()})}});return a}),define("views/levelbuilder/LevelEditorView",["jquery","underscore","Framework","text!templates/levelbuilder/leveleditor.html","views/levelbuilder/TapObjectRowView","views/levelbuilder/ExportModalView","views/levelbuilder/panels/AudioPanelView","views/levelbuilder/panels/GameObjectEditorPanelView","views/levelbuilder/panels/MetaDataPanelView","app","models/Level"],function(e,t,n,i,r,a,s,o,l,c,u){var p=function(e){if(!t.isUndefined(e)){console.warn("The current LevelEditor-draft will be overwritten. Trying to log the level-text as backup:");try{console.log(JSON.stringify(e.toJSON()))}catch(n){console.error(n)}}},d=n.View.extend({events:{"click #delete":"deleteDraft","click #export":"exportDraft","click #save":"saveDraft","click #play":"playLevel","click #publish":"publishLevel"},getModel:function(){return this.model},setModel:function(e){p(this.model),this.model=e},createModel:function(e){return this.setModel(e?u.createFromSoundCloud(e):new u),this.getModel()},deleteDraft:function(){this.setModel(void 0);var e=c.router.views.levelbuilderview;e.setContent("start")},exportDraft:function(){console.log(this.getModel().toJSON()),this.exportmodalview.render(this.getModel().toJSON())},saveDraft:function(){},publishLevel:function(){var e=new u;e.save({success:function(){console.log(arguments)},error:function(){console.log(arguments)}})},playLevel:function(){c.startlevel(this.getModel())},render:function(){t.isUndefined(this.getModel())&&this.createModel();var e=t.template(i,{levelname:this.getModel().get("name")||"New Level",username:this.getModel().get("owner").get("username")});this.$el.html(e),this.exportmodalview=new a,this.$el.append(this.exportmodalview.el),this.panels={metadatapanel:new l,audiopanel:new s,gameobjecteditorpanel:new o},this.$("#panellist").html("");for(var n in this.panels)this.panels[n].render(this.getModel()),this.$("#panellist").append(this.panels[n].el);this.listenTo(this.getModel(),"change:name",function(){this.$("#levelname").html(this.getModel().escape("name"))}.bind(this))},onClose:function(){this.exportmodalview.dispose();for(var e in this.panels)this.panels[e].dispose()}});return d}),define("text!templates/levelbuilder/signincall.html",[],function(){return'<br>\n<div class="text-center well well-lg">\n    <p>Please sign in to use the Level Builder. Once you are signed in you will be able to create a level, publish it\n        and edit or delete it later.</p>\n    <button class="btn btn-primary btn-lg" id="btn_showsigninmodal_call">Sign in</button>\n</div>'}),define("views/levelbuilder/SignInCallView",["jquery","underscore","Framework","text!templates/levelbuilder/signincall.html","app"],function(e,t,n,i,r){var a=n.View.extend({template:t.template(i,{}),route:"levelbuilder/signin",render:function(){this.$el.html(this.template);var e=n.history.fragment;e!=this.route&&(r.router.navigate("levelbuilder/signin",{replace:!0}),this.listenTo(r.session,"change:logged_in",function(t){t.get("logged_in")&&r.router.navigate(e,{trigger:!0,replace:!0})}))},events:{"click #btn_showsigninmodal_call":"clickedSignInButton"},clickedSignInButton:function(){console.log("clicked signinbutton"),r.session.get("logged_in")||r.getMainView().openSignInModal()}});return a}),define("views/levelbuilder/BaseView",["jquery","underscore","Framework","app","text!templates/levelbuilder/base.html","views/levelbuilder/GameObjectRecorderView","views/levelbuilder/StartView","views/levelbuilder/OpenLevelView","views/levelbuilder/LevelEditorView","views/levelbuilder/SignInCallView","framework/ExchangeableContent"],function(e,t,n,i,r,a,s,o,l,c,u){var p=n.View.extend(t.extend(new u,{template:t.template(r,{}),initialize:function(){this.configureExchangableContents({callback_before:this.checkroute.bind(this),className:"content",contentsareinstances:!0}),this.addContents({startview:new s,gameobjectrecorderview:new a,openlevelview:new o,leveleditorview:new l,signincall:new c}),this.listenTo(i.session,"change:logged_in",this.updateContent.bind(this))},checkroute:function(){return i.session.get("logged_in")?void 0:"signincall"},render:function(e){this.$el.html(this.template),"undefined"!=typeof e?this.setContent(e):this.updateContent(i.session)},onClose:function(){var e=this.getCurrentContent();e&&e.onClose&&e.onClose()},updateContent:function(e){this.setContent(e.get("logged_in")&&this.getCurrentContent()!==this.getContent("signincall")?"start":t.isUndefined(this.getContent("leveleditor").getModel())?"start":"leveleditor")}}));return p}),define("router",["jquery","underscore","backbone","app","util/analytics","views/MenuView","views/HomeView","views/ChooseLevelView","views/ApplicationWithMenuView","views/PageNotFoundView","views/LegalView","views/PlayView","views/HighScoreView","views/levelbuilder/BaseView","views/SignInView"],function(e,t,n,i,r,a,s,o,l,c,u,p,d,h,f,m){var y=n.Router.extend({routes:{"":"home",chooselevel:"chooselevel",levelbuilder:"buildlevel","levelbuilder/create(/:soundcloudurl)":"createlevel","levelbuilder/edit":"editlevel","levelbuilder/signin":"levelbuildersignin",legal:"legal",playlevel:"chooselevel",highscore:"chooselevel",signin:"signin","*notfound":"notfound"},openLevelBuilder:function(){var e=i.router.views.levelbuilderview,t=[].shift.call(arguments);i.setContent(e),"undefined"!=typeof t&&e.setContent(t)},init:function(){this.views={current:null,baseview:new l,homeview:new s,chooselevelview:new o,pagenotfoundview:new c,legalview:new u,playlevelview:new p,highscoreview:new d,levelbuilderview:new h},this.on("route:home",function(){i.setContent(this.views.homeview)}),this.on("route:chooselevel",function(){i.setContent(this.views.chooselevelview)}),this.on("route:buildlevel",function(){this.openLevelBuilder()}),this.on("route:createlevel",function(){this.openLevelBuilder("leveleditor")}),this.on("route:levelbuildersignin",function(){this.openLevelBuilder("signin")}),this.on("route:notfound",function(e){console.log("No route:",e),i.setContent(this.views.homeview),this.views.pagenotfoundview.render()}),this.on("route:legal",function(){i.setContent(this.views.legalview)}),this.on("route:editlevel",function(){this.openLevelBuilder("openlevel")}),this.on("route:signin",function(){var e=new m;i.setContent(e)})},getCurrentAppStatus:function(){var e,i=this,r=n.history.fragment,a=t.pairs(i.routes),s=null,o=null;return e=t.find(a,function(e){return s=t.isRegExp(e[0])?e[0]:i._routeToRegExp(e[0]),s.test(r)}),e&&(o=i._extractParameters(s,r),s=e[1]),{route:s,fragment:r,params:o}}});return y}),require.config({paths:{Framework:"framework/Framework",jquery:"lib/jquery",underscore:"lib/underscore",backbone:"lib/backbone",text:"lib/text",templates:"../templates",snap:"lib/snap.svg","google-analytics":"lib/analytics",tv4:"lib/tv4",schema:"schema",md5:"lib/md5"},shim:{bootstrap:["jquery"],jquery:{exports:"$"},snap:{exports:"Snap"},"google-analytics":{exports:"ga"},sc:{exports:"SC"},md5:{exports:"CryptoJS"},"lib/jasny-bootstrap":["jquery"]}}),require(["jquery","underscore","Framework","config","app","models/Session","router"],function(e,t,n,i,r,a,s){if(i.debug)window.app=r;else try{console.log=function(){},console.info=function(){}}catch(o){}console.info("Initializing TouchTheBeat."),r.init({session:new a,router:new s,backend:i.backend}),n.history.start(),console.info("Initializing TouchTheBeat has completed.")}),define("main",function(){});