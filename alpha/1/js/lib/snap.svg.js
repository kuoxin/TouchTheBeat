(function(e){var t="0.4.2",n="hasOwnProperty",r=/[\.\/]/,i=/\s*,\s*/,s="*",o=function(){},u=function(e,t){return e-t},a,f,l={n:{}},c=function(){for(var e=0,t=this.length;e<t;e++)if(typeof this[e]!="undefined")return this[e]},h=function(){var e=this.length;while(--e)if(typeof this[e]!="undefined")return this[e]},p=function(e,t){e=String(e);var n=l,r=f,i=Array.prototype.slice.call(arguments,2),s=p.listeners(e),o=0,d=!1,v,m=[],g={},y=[],b=a,w=[];y.firstDefined=c,y.lastDefined=h,a=e,f=0;for(var E=0,S=s.length;E<S;E++)"zIndex"in s[E]&&(m.push(s[E].zIndex),s[E].zIndex<0&&(g[s[E].zIndex]=s[E]));m.sort(u);while(m[o]<0){v=g[m[o++]],y.push(v.apply(t,i));if(f)return f=r,y}for(E=0;E<S;E++){v=s[E];if("zIndex"in v)if(v.zIndex==m[o]){y.push(v.apply(t,i));if(f)break;do{o++,v=g[m[o]],v&&y.push(v.apply(t,i));if(f)break}while(v)}else g[v.zIndex]=v;else{y.push(v.apply(t,i));if(f)break}}return f=r,a=b,y};p._events=l,p.listeners=function(e){var t=e.split(r),n=l,i,o,u,a,f,c,h,p,d=[n],v=[];for(a=0,f=t.length;a<f;a++){p=[];for(c=0,h=d.length;c<h;c++){n=d[c].n,o=[n[t[a]],n[s]],u=2;while(u--)i=o[u],i&&(p.push(i),v=v.concat(i.f||[]))}d=p}return v},p.on=function(e,t){e=String(e);if(typeof t!="function")return function(){};var n=e.split(i);for(var s=0,o=n.length;s<o;s++)(function(e){var n=e.split(r),i=l,s;for(var o=0,u=n.length;o<u;o++)i=i.n,i=i.hasOwnProperty(n[o])&&i[n[o]]||(i[n[o]]={n:{}});i.f=i.f||[];for(o=0,u=i.f.length;o<u;o++)if(i.f[o]==t){s=!0;break}!s&&i.f.push(t)})(n[s]);return function(e){+e==+e&&(t.zIndex=+e)}},p.f=function(e){var t=[].slice.call(arguments,1);return function(){p.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},p.stop=function(){f=1},p.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(a):a},p.nts=function(){return a.split(r)},p.off=p.unbind=function(e,t){if(!e){p._events=l={n:{}};return}var o=e.split(i);if(o.length>1){for(var u=0,a=o.length;u<a;u++)p.off(o[u],t);return}o=e.split(r);var f,c,h,u,a,d,v,m=[l];for(u=0,a=o.length;u<a;u++)for(d=0;d<m.length;d+=h.length-2){h=[d,1],f=m[d].n;if(o[u]!=s)f[o[u]]&&h.push(f[o[u]]);else for(c in f)f[n](c)&&h.push(f[c]);m.splice.apply(m,h)}for(u=0,a=m.length;u<a;u++){f=m[u];while(f.n){if(t){if(f.f){for(d=0,v=f.f.length;d<v;d++)if(f.f[d]==t){f.f.splice(d,1);break}!f.f.length&&delete f.f}for(c in f.n)if(f.n[n](c)&&f.n[c].f){var g=f.n[c].f;for(d=0,v=g.length;d<v;d++)if(g[d]==t){g.splice(d,1);break}!g.length&&delete f.n[c].f}}else{delete f.f;for(c in f.n)f.n[n](c)&&f.n[c].f&&delete f.n[c].f}f=f.n}}},p.once=function(e,t){var n=function(){return p.unbind(e,n),t.apply(this,arguments)};return p.on(e,n)},p.version=t,p.toString=function(){return"You are running Eve "+t},typeof module!="undefined"&&module.exports?module.exports=p:typeof define=="function"&&define.amd?define("eve",[],function(){return p}):e.eve=p})(this),function(e,t){typeof define=="function"&&define.amd?define(["eve"],function(n){return t(e,n)}):t(e,e.eve)}(this,function(e,t){var n=function(t){var n={},r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},i=Array.isArray||function(e){return e instanceof Array||Object.prototype.toString.call(e)=="[object Array]"},s=0,o="M"+(+(new Date)).toString(36),u=function(){return o+(s++).toString(36)},a=function(e,t,n,r){if(i(e)){res=[];for(var s=0,o=e.length;s<o;s++)res[s]=a(e[s],t,n[s],r);return res}var u=(n-e)/(r-t);return function(n){return e+u*(n-t)}},f=Date.now||function(){return+(new Date)},l=function(e){var t=this;if(e==null)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},c=function(e){var t=this;if(e==null)return t.spd;t.spd=e},h=function(e){var t=this;if(e==null)return t.dur;t.s=t.s*e/t.dur,t.dur=e},p=function(){var e=this;delete n[e.id],e.update(),t("mina.stop."+e.id,e)},d=function(){var e=this;if(e.pdif)return;delete n[e.id],e.update(),e.pdif=e.get()-e.b},v=function(){var e=this;if(!e.pdif)return;e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e},m=function(){var e=this,t;if(i(e.start)){t=[];for(var n=0,r=e.start.length;n<r;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},g=function(){var e=0;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],o=s.get(),u;e++,s.s=(o-s.b)/(s.dur/s.spd),s.s>=1&&(delete n[i],s.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(s)),s.update()}e&&r(g)},y=function(e,t,i,s,o,a,f){var b={id:u(),start:e,end:t,b:i,s:0,dur:s-i,spd:1,get:o,set:a,easing:f||y.linear,status:l,speed:c,duration:h,stop:p,pause:d,resume:v,update:m};n[b.id]=b;var w=0,E;for(E in n)if(n.hasOwnProperty(E)){w++;if(w==2)break}return w==1&&r(g),b};return y.time=f,y.getById=function(e){return n[e]||null},y.linear=function(e){return e},y.easeout=function(e){return Math.pow(e,1.7)},y.easein=function(e){return Math.pow(e,.48)},y.easeinout=function(e){if(e==1)return 1;if(e==0)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),r=n-t,i=Math.pow(Math.abs(r),1/3)*(r<0?-1:1),s=-n-t,o=Math.pow(Math.abs(s),1/3)*(s<0?-1:1),u=i+o+.5;return(1-u)*3*u*u+u*u*u},y.backin=function(e){if(e==1)return 1;var t=1.70158;return e*e*((t+1)*e-t)},y.backout=function(e){if(e==0)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},y.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*2*Math.PI/.3)+1},y.bounce=function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r},e.mina=y,y}(typeof t=="undefined"?function(){}:t),r=function(){function r(e,t){if(e){if(e.tagName)return vt(e);if(R(e,"array")&&r.set)return r.set.apply(r,e);if(e instanceof ct)return e;if(t==null)return e=i.doc.querySelector(e),vt(e)}return e=e==null?"100%":e,t=t==null?"100%":t,new dt(e,t)}function I(e,t){if(t){e=="#text"&&(e=i.doc.createTextNode(t.text||"")),typeof e=="string"&&(e=I(e));if(typeof t=="string")return t.substring(0,6)=="xlink:"?e.getAttributeNS(H,t.substring(6)):t.substring(0,4)=="xml:"?e.getAttributeNS(B,t.substring(4)):e.getAttribute(t);for(var n in t)if(t[s](n)){var r=o(t[n]);r?n.substring(0,6)=="xlink:"?e.setAttributeNS(H,n.substring(6),r):n.substring(0,4)=="xml:"?e.setAttributeNS(B,n.substring(4),r):e.setAttribute(n,r):e.removeAttribute(n)}}else e=i.doc.createElementNS(B,e);return e}function q(e){var t=e.attributes,n,r={};for(var i=0;i<t.length;i++)t[i].namespaceURI==H?n="xlink:":n="",n+=t[i].name,r[n]=t[i].textContent;return r}function R(e,t){return t=o.prototype.toLowerCase.call(t),t=="finite"?isFinite(e):t=="array"&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||b.call(e).slice(8,-1).toLowerCase()==t}function U(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[s](n)&&(t[n]=U(e[n]));return t}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function W(e,t,n){function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("␀"),u=r.cache=r.cache||{},a=r.count=r.count||[];return u[s](o)?(z(a,o),n?n(u[o]):u[o]):(a.length>=1e3&&delete u[a.shift()],a.push(o),u[o]=e.apply(t,i),n?n(u[o]):u[o])}return r}function X(e,t,n,r,i,s){if(i==null){var o=e-n,u=t-r;return!o&&!u?0:(180+f.atan2(-u,-o)*180/d+360)%360}return X(e,t,i,s)-X(n,r,i,s)}function V(e){return e%360*d/180}function $(e){return e*180/d%360}function J(){return this.x+y+this.y}function K(){return this.x+y+this.y+y+this.width+" × "+this.height}function rt(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,r){return r=r.split(/\s*,\s*|\s+/),n=="rotate"&&r.length==1&&r.push(0,0),n=="scale"&&(r.length>2?r=r.slice(0,2):r.length==2&&r.push(0,0),r.length==1&&r.push(r[0],0,0)),n=="skewX"?t.push(["m",1,0,f.tan(V(r[0])),1,0,0]):n=="skewY"?t.push(["m",1,f.tan(V(r[0])),0,1,0,0]):t.push([n.charAt(0)].concat(r)),e}),t}function it(e,t){var n=nt(e),i=new r.Matrix;if(n)for(var s=0,u=n.length;s<u;s++){var a=n[s],f=a.length,l=o(a[0]).toLowerCase(),c=a[0]!=l,h=c?i.invert():0,p,d,v,m,g;l=="t"&&f==2?i.translate(a[1],0):l=="t"&&f==3?c?(p=h.x(0,0),d=h.y(0,0),v=h.x(a[1],a[2]),m=h.y(a[1],a[2]),i.translate(v-p,m-d)):i.translate(a[1],a[2]):l=="r"?f==2?(g=g||t,i.rotate(a[1],g.x+g.width/2,g.y+g.height/2)):f==4&&(c?(v=h.x(a[2],a[3]),m=h.y(a[2],a[3]),i.rotate(a[1],v,m)):i.rotate(a[1],a[2],a[3])):l=="s"?f==2||f==3?(g=g||t,i.scale(a[1],a[f-1],g.x+g.width/2,g.y+g.height/2)):f==4?c?(v=h.x(a[2],a[3]),m=h.y(a[2],a[3]),i.scale(a[1],a[1],v,m)):i.scale(a[1],a[1],a[2],a[3]):f==5&&(c?(v=h.x(a[3],a[4]),m=h.y(a[3],a[4]),i.scale(a[1],a[2],v,m)):i.scale(a[1],a[2],a[3],a[4])):l=="m"&&f==7&&i.add(a[1],a[2],a[3],a[4],a[5],a[6])}return i}function st(e,t){if(t==null){var n=!0;e.type=="linearGradient"||e.type=="radialGradient"?t=e.node.getAttribute("gradientTransform"):e.type=="pattern"?t=e.node.getAttribute("patternTransform"):t=e.node.getAttribute("transform");if(!t)return new r.Matrix;t=rt(t)}else r._.rgTransform.test(t)?t=o(t).replace(/\.{3}|\u2026/g,e._.transform||m):t=rt(t),R(t,"array")&&(t=r.path?r.path.toString.call(t):o(t)),e._.transform=t;var i=it(t,e.getBBox(1));if(n)return i;e.matrix=i}function ut(e){var t=e.node.ownerSVGElement&&vt(e.node.ownerSVGElement)||e.node.parentNode&&vt(e.node.parentNode)||r.select("svg")||r(0,0),n=t.select("defs"),i=n==null?!1:n.node;return i||(i=pt("defs",t.node).node),i}function at(e){return e.node.ownerSVGElement&&vt(e.node.ownerSVGElement)||r.select("svg")}function ft(e,t,n){function o(e){if(e==null)return m;if(e==+e)return e;I(s,{width:e});try{return s.getBBox().width}catch(t){return 0}}function u(e){if(e==null)return m;if(e==+e)return e;I(s,{height:e});try{return s.getBBox().height}catch(t){return 0}}function a(r,s){t==null?i[r]=s(e.attr(r)||0):r==t&&(i=s(n==null?e.attr(r)||0:n))}var r=at(e).node,i={},s=r.querySelector(".svg---mgr");s||(s=I("rect"),I(s,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),r.appendChild(s));switch(e.type){case"rect":a("rx",o),a("ry",u);case"image":a("width",o),a("height",u);case"text":a("x",o),a("y",u);break;case"circle":a("cx",o),a("cy",u),a("r",o);break;case"ellipse":a("cx",o),a("cy",u),a("rx",o),a("ry",u);break;case"line":a("x1",o),a("x2",o),a("y1",u),a("y2",u);break;case"marker":a("refX",o),a("markerWidth",o),a("refY",u),a("markerHeight",u);break;case"radialGradient":a("fx",o),a("fy",u);break;case"tspan":a("dx",o),a("dy",u);break;default:a(t,o)}return r.removeChild(s),i}function lt(e){R(e,"array")||(e=Array.prototype.slice.call(arguments,0));var t=0,n=0,r=this.node;while(this[t])delete this[t++];for(t=0;t<e.length;t++)e[t].type=="set"?e[t].forEach(function(e){r.appendChild(e.node)}):r.appendChild(e[t].node);var i=r.childNodes;for(t=0;t<i.length;t++)this[n++]=vt(i[t]);return this}function ct(e){if(e.snap in j)return j[e.snap];var t=this.id=P(),n;try{n=e.ownerSVGElement}catch(r){}this.node=e,n&&(this.paper=new dt(n)),this.type=e.tagName,this.anims={},this._={transform:[]},e.snap=t,j[t]=this,this.type=="g"&&(this.add=lt);if(this.type in{g:1,mask:1,pattern:1})for(var i in dt.prototype)dt.prototype[s](i)&&(this[i]=dt.prototype[i])}function ht(e){this.node=e}function pt(e,t){var n=I(e);t.appendChild(n);var r=vt(n);return r}function dt(e,t){var n,r,o,u=dt.prototype;if(e&&e.tagName=="svg"){if(e.snap in j)return j[e.snap];var a=e.ownerDocument;n=new ct(e),r=e.getElementsByTagName("desc")[0],o=e.getElementsByTagName("defs")[0],r||(r=I("desc"),r.appendChild(a.createTextNode("Created with Snap")),n.node.appendChild(r)),o||(o=I("defs"),n.node.appendChild(o)),n.defs=o;for(var f in u)u[s](f)&&(n[f]=u[f]);n.paper=n.root=n}else n=pt("svg",i.doc.body),I(n.node,{height:t,version:1.1,width:e,xmlns:B});return n}function vt(e){return e?e instanceof ct||e instanceof ht?e:e.tagName&&e.tagName.toLowerCase()=="svg"?new dt(e):e.tagName&&e.tagName.toLowerCase()=="object"&&e.type=="image/svg+xml"?new dt(e.contentDocument.getElementsByTagName("svg")[0]):new ct(e):e}r.version="0.3.0",r.toString=function(){return"Snap v"+this.version},r._={};var i={win:e,doc:e.document};r._.glob=i;var s="hasOwnProperty",o=String,u=parseFloat,a=parseInt,f=Math,l=f.max,c=f.min,h=f.abs,p=f.pow,d=f.PI,v=f.round,m="",y=" ",b=Object.prototype.toString,w=/^url\(['"]?([^\)]+?)['"]?\)$/i,E=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,S=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,x=/^url\(#?([^)]+)\)$/,T="	\n\f\r   ᠎             　\u2028\u2029",N=r._.separator=new RegExp("[,"+T+"]+"),C=new RegExp("["+T+"]","g"),k=new RegExp("["+T+"]*,["+T+"]*"),L={hs:1,rg:1},A=new RegExp("([a-z])["+T+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+T+"]*,?["+T+"]*)+)","ig"),O=new RegExp("([rstm])["+T+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+T+"]*,?["+T+"]*)+)","ig"),M=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+T+"]*,?["+T+"]*","ig"),_=0,D="S"+(+(new Date)).toString(36),P=function(){return D+(_++).toString(36)},H="http://www.w3.org/1999/xlink",B="http://www.w3.org/2000/svg",j={},F=r.url=function(e){return"url('#"+e+"')"};r._.$=I,r._.id=P,r.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,s){t=t||r,i&&(t in i&&(i=i[t]),typeof i=="function"&&s&&(i=i()))}),i=(i==null||i==r?e:i)+"",i};return function(t,r){return o(t).replace(e,function(e,t){return n(e,t,r)})}}(),r._.clone=U,r._.cacher=W,r.rad=V,r.deg=$,r.angle=X,r.is=R,r.snapTo=function(e,t,n){n=R(n,"finite")?n:10;if(R(e,"array")){var r=e.length;while(r--)if(h(e[r]-t)<=n)return e[r]}else{e=+e;var i=t%e;if(i<n)return t-i;if(i>e-n)return t-i+e}return t},r.getRGB=W(function(e){if(!e||!!((e=o(e)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Z};!L[s](e.toLowerCase().substring(0,2))&&e.charAt()!="#"&&(e=Q(e));if(!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};var t,n,i,h,p,d,v,m=e.match(E);return m?(m[2]&&(h=a(m[2].substring(5),16),i=a(m[2].substring(3,5),16),n=a(m[2].substring(1,3),16)),m[3]&&(h=a((d=m[3].charAt(3))+d,16),i=a((d=m[3].charAt(2))+d,16),n=a((d=m[3].charAt(1))+d,16)),m[4]&&(v=m[4].split(k),n=u(v[0]),v[0].slice(-1)=="%"&&(n*=2.55),i=u(v[1]),v[1].slice(-1)=="%"&&(i*=2.55),h=u(v[2]),v[2].slice(-1)=="%"&&(h*=2.55),m[1].toLowerCase().slice(0,4)=="rgba"&&(p=u(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100)),m[5]?(v=m[5].split(k),n=u(v[0]),v[0].slice(-1)=="%"&&(n/=100),i=u(v[1]),v[1].slice(-1)=="%"&&(i/=100),h=u(v[2]),v[2].slice(-1)=="%"&&(h/=100),(v[0].slice(-3)=="deg"||v[0].slice(-1)=="°")&&(n/=360),m[1].toLowerCase().slice(0,4)=="hsba"&&(p=u(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100),r.hsb2rgb(n,i,h,p)):m[6]?(v=m[6].split(k),n=u(v[0]),v[0].slice(-1)=="%"&&(n/=100),i=u(v[1]),v[1].slice(-1)=="%"&&(i/=100),h=u(v[2]),v[2].slice(-1)=="%"&&(h/=100),(v[0].slice(-3)=="deg"||v[0].slice(-1)=="°")&&(n/=360),m[1].toLowerCase().slice(0,4)=="hsla"&&(p=u(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100),r.hsl2rgb(n,i,h,p)):(n=c(f.round(n),255),i=c(f.round(i),255),h=c(f.round(h),255),p=c(l(p,0),1),m={r:n,g:i,b:h,toString:Z},m.hex="#"+(16777216|h|i<<8|n<<16).toString(16).slice(1),m.opacity=R(p,"finite")?p:1,m)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z}},r),r.hsb=W(function(e,t,n){return r.hsb2rgb(e,t,n).hex}),r.hsl=W(function(e,t,n){return r.hsl2rgb(e,t,n).hex}),r.rgb=W(function(e,t,n,r){if(R(r,"finite")){var i=f.round;return"rgba("+[i(e),i(t),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var Q=function(e){var t=i.doc.getElementsByTagName("head")[0]||i.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return Q=W(function(e){if(e.toLowerCase()=="red")return n;t.style.color=n,t.style.color=e;var r=i.doc.defaultView.getComputedStyle(t,m).getPropertyValue("color");return r==n?null:r}),Q(e)},G=function(){return"hsb("+[this.h,this.s,this.b]+")"},Y=function(){return"hsl("+[this.h,this.s,this.l]+")"},Z=function(){return this.opacity==1||this.opacity==null?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},et=function(e,t,n){t==null&&R(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r);if(t==null&&R(e,string)){var i=r.getRGB(e);e=i.r,t=i.g,n=i.b}if(e>1||t>1||n>1)e/=255,t/=255,n/=255;return[e,t,n]},tt=function(e,t,n,i){e=f.round(e*255),t=f.round(t*255),n=f.round(n*255);var s={r:e,g:t,b:n,opacity:R(i,"finite")?i:1,hex:r.rgb(e,t,n),toString:Z};return R(i,"finite")&&(s.opacity=i),s};r.color=function(e){var t;return R(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=r.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):R(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=r.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(R(e,"string")&&(e=r.getRGB(e)),R(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=r.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=r.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=Z,e},r.hsb2rgb=function(e,t,n,r){R(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,r=e.o),e*=360;var i,s,o,u,a;return e=e%360/60,a=n*t,u=a*(1-h(e%2-1)),i=s=o=n-a,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],tt(i,s,o,r)},r.hsl2rgb=function(e,t,n,r){R(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h);if(e>1||t>1||n>1)e/=360,t/=100,n/=100;e*=360;var i,s,o,u,a;return e=e%360/60,a=2*t*(n<.5?n:1-n),u=a*(1-h(e%2-1)),i=s=o=n-a/2,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],tt(i,s,o,r)},r.rgb2hsb=function(e,t,n){n=et(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o;return s=l(e,t,n),o=s-c(e,t,n),r=o==0?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,r=(r+360)%6*60/360,i=o==0?0:o/s,{h:r,s:i,b:s,toString:G}},r.rgb2hsl=function(e,t,n){n=et(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o,u,a;return o=l(e,t,n),u=c(e,t,n),a=o-u,r=a==0?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=(o+u)/2,i=a==0?0:s<.5?a/(2*s):a/(2-2*s),{h:r,s:i,l:s,toString:Y}},r.parsePathString=function(e){if(!e)return null;var t=r.path(e);if(t.arr)return r.path.clone(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return R(e,"array")&&R(e[0],"array")&&(i=r.path.clone(e)),i.length||o(e).replace(A,function(e,t,r){var s=[],o=t.toLowerCase();r.replace(M,function(e,t){t&&s.push(+t)}),o=="m"&&s.length>2&&(i.push([t].concat(s.splice(0,2))),o="l",t=t=="m"?"l":"L"),o=="o"&&s.length==1&&i.push([t,s[0]]);if(o=="r")i.push([t].concat(s));else while(s.length>=n[o]){i.push([t].concat(s.splice(0,n[o])));if(!n[o])break}}),i.toString=r.path.toString,t.arr=r.path.clone(i),i};var nt=r.parseTransformString=function(e){if(!e)return null;var t={r:3,s:4,t:2,m:6},n=[];return R(e,"array")&&R(e[0],"array")&&(n=r.path.clone(e)),n.length||o(e).replace(O,function(e,t,r){var i=[],s=t.toLowerCase();r.replace(M,function(e,t){t&&i.push(+t)}),n.push([t].concat(i))}),n.toString=r.path.toString,n};r._.svgTransform2string=rt,r._.rgTransform=new RegExp("^[a-z]["+T+"]*-?\\.?\\d","i"),r._.transform2matrix=it,r._unit2px=ft;var ot=i.doc.contains||i.doc.compareDocumentPosition?function(e,t){var n=e.nodeType==9?e.documentElement:e,r=t&&t.parentNode;return e==r||!!r&&r.nodeType==1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t){t=t.parentNode;if(t==e)return!0}return!1};r._.getSomeDefs=ut,r._.getSomeSVG=at,r.select=function(e){return vt(i.doc.querySelector(e))},r.selectAll=function(e){var t=i.doc.querySelectorAll(e),n=(r.set||Array)();for(var s=0;s<t.length;s++)n.push(vt(t[s]));return n},setInterval(function(){for(var e in j)if(j[s](e)){var t=j[e],n=t.node;(t.type!="svg"&&!n.ownerSVGElement||t.type=="svg"&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete j[e]}},1e4),function(e){function u(e){function o(e,t){var n=I(e.node,t);n=n&&n.match(r),n=n&&n[2];if(!n||n.charAt()!="#")return;n=n.substring(1),n&&(s[n]=(s[n]||[]).concat(function(n){var r={};r[t]=F(n),I(e.node,r)}))}function u(e){var t=I(e.node,"xlink:href");if(!t||t.charAt()!="#")return;t=t.substring(1),t&&(s[t]=(s[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)}))}var t=e.selectAll("*"),n,r=/^\s*url\(("|'|)(.*)\1\)\s*$/,i=[],s={};for(var a=0,f=t.length;a<f;a++){n=t[a],o(n,"fill"),o(n,"stroke"),o(n,"filter"),o(n,"mask"),o(n,"clip-path"),u(n);var l=I(n.node,"id");l&&(I(n.node,{id:n.id}),i.push({old:l,id:n.id}))}for(a=0,f=i.length;a<f;a++){var c=s[i[a].old];if(c)for(var h=0,p=c.length;h<p;h++)c[h](i[a].id)}}function c(e,t,n){return function(r){var i=r.slice(e,t);return i.length==1&&(i=i[0]),n?n(i):i}}function d(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(e)for(var i=0,s=n.length;i<s;i++)t+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){e&&(t+=">");for(i=0,s=r.length;i<s;i++)r[i].nodeType==3?t+=r[i].nodeValue:r[i].nodeType==1&&(t+=vt(r[i]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}e.attr=function(e,n){var r=this,i=r.node;if(!e)return r;if(R(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,r).firstDefined();var o={};o[e]=n,e=o}for(var u in e)e[s](u)&&t("snap.util.attr."+u,r,e[u]);return r},e.getBBox=function(e){if(!r.Matrix||!r.path)return this.node.getBBox();var t=this,n=new r.Matrix;if(t.removed)return r._.box();while(t.type=="use"){e||(n=n.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0)));if(t.original)t=t.original;else{var i=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}}var s=t._,o=r.path.get[t.type]||r.path.get.deflt;try{return e?(s.bboxwt=o?r.path.getBBox(t.realPath=o(t)):r._.box(t.node.getBBox()),r._.box(s.bboxwt)):(t.realPath=o(t),t.matrix=t.transform().localMatrix,s.bbox=r.path.getBBox(r.path.map(t.realPath,n.add(t.matrix))),r._.box(s.bbox))}catch(u){return r._.box()}};var i=function(){return this.string};e.transform=function(e){var t=this._;if(e==null){var n=this,s=new r.Matrix(this.node.getCTM()),u=st(this),a=[u],f=new r.Matrix,l,c=u.toTransformString(),h=o(u)==o(this.matrix)?o(t.transform):c;while(n.type!="svg"&&(n=n.parent()))a.push(st(n));l=a.length;while(l--)f.add(a[l]);return{string:h,globalMatrix:s,totalMatrix:f,localMatrix:u,diffMatrix:s.clone().add(u.invert()),global:s.toTransformString(),total:f.toTransformString(),local:c,toString:i}}return e instanceof r.Matrix?this.matrix=e:st(this,e),this.node&&(this.type=="linearGradient"||this.type=="radialGradient"?I(this.node,{gradientTransform:this.matrix}):this.type=="pattern"?I(this.node,{patternTransform:this.matrix}):I(this.node,{transform:this.matrix})),this},e.parent=function(){return vt(this.node.parentNode)},e.append=e.add=function(e){if(e){if(e.type=="set"){var t=this;return e.forEach(function(e){t.add(e)}),this}e=vt(e),this.node.appendChild(e.node),e.paper=this.paper}return this},e.appendTo=function(e){return e&&(e=vt(e),e.append(this)),this},e.prepend=function(e){if(e){if(e.type=="set"){var t=this,n;return e.forEach(function(e){n?n.after(e):t.prepend(e),n=e}),this}e=vt(e);var r=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},e.prependTo=function(e){return e=vt(e),e.prepend(this),this},e.before=function(e){if(e.type=="set"){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=vt(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},e.after=function(e){e=vt(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},e.insertBefore=function(e){e=vt(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.insertAfter=function(e){e=vt(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},e.select=function(e){return vt(this.node.querySelector(e))},e.selectAll=function(e){var t=this.node.querySelectorAll(e),n=(r.set||Array)();for(var i=0;i<t.length;i++)n.push(vt(t[i]));return n},e.asPX=function(e,t){return t==null&&(t=this.attr(e)),+ft(this,e,t)},e.use=function(){var e,t=this.node.id;return t||(t=this.id,I(this.node,{id:t})),this.type=="linearGradient"||this.type=="radialGradient"||this.type=="pattern"?e=pt(this.type,this.node.parentNode):e=pt("use",this.node.parentNode),I(e.node,{"xlink:href":"#"+t}),e.original=this,e};var a=/\S+/g,f=/[\t\r\n\f]/g,l=/(^\s+|\s+$)/g;e.addClass=function(e){var t=(e||"").match(a)||[],n=this.node,r=n.className.baseVal,i=r.match(a)||[],s,o,u,f;if(t.length){s=0;while(u=t[s++])o=i.indexOf(u),~o||i.push(u);f=i.join(" "),r!=f&&(n.className.baseVal=f)}return this},e.removeClass=function(e){var t=(e||"").match(a)||[],n=this.node,r=n.className.baseVal,i=r.match(a)||[],s,o,u,f;if(i.length){s=0;while(u=t[s++])o=i.indexOf(u),~o&&i.splice(o,1);f=i.join(" "),r!=f&&(n.className.baseVal=f)}return this},e.hasClass=function(e){var t=this.node,n=t.className.baseVal,r=n.match(a)||[];return!!~r.indexOf(e)},e.toggleClass=function(e,t){if(t!=null)return t?this.addClass(e):this.removeClass(e);var n=(e||"").match(a)||[],r=this.node,i=r.className.baseVal,s=i.match(a)||[],o,u,f,l;o=0;while(f=n[o++])u=s.indexOf(f),~u?s.splice(u,1):s.push(f);return l=s.join(" "),i!=l&&(r.className.baseVal=l),this},e.clone=function(){var e=vt(this.node.cloneNode(!0));return I(e.node,"id")&&I(e.node,{id:e.id}),u(e),e.insertAfter(this),e},e.toDefs=function(){var e=ut(this);return e.appendChild(this.node),this},e.pattern=e.toPattern=function(e,t,n,r){var i=pt("pattern",ut(this));return e==null&&(e=this.getBBox()),R(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,e=e.x),I(i.node,{x:e,y:t,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[e,t,n,r].join(" ")}),i.node.appendChild(this.node),i},e.marker=function(e,t,n,r,i,s){var o=pt("marker",ut(this));return e==null&&(e=this.getBBox()),R(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,i=e.refX||e.cx,s=e.refY||e.cy,e=e.x),I(o.node,{viewBox:[e,t,n,r].join(y),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:s||0,id:o.id}),o.node.appendChild(this.node),o};var h=function(e,t,r,i){typeof r=="function"&&!r.length&&(i=r,r=n.linear),this.attr=e,this.dur=t,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=h,r.animation=function(e,t,n,r){return new h(e,t,n,r)},e.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[s](n)&&function(e){t.push({anim:new h(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},r.animate=function(e,r,i,s,o,u){typeof o=="function"&&!o.length&&(u=o,o=n.linear);var a=n.time(),f=n(e,r,a,a+s,n.time,i,o);return u&&t.once("mina.finish."+f.id,u),f},e.stop=function(){var e=this.inAnim();for(var t=0,n=e.length;t<n;t++)e[t].stop();return this},e.animate=function(e,r,i,u){typeof i=="function"&&!i.length&&(u=i,i=n.linear),e instanceof h&&(u=e.callback,i=e.easing,r=i.dur,e=e.attr);var a=[],f=[],l={},p,d,v,m,g=this;for(var y in e)if(e[s](y)){g.equal?(m=g.equal(y,o(e[y])),p=m.from,d=m.to,v=m.f):(p=+g.attr(y),d=+e[y]);var b=R(p,"array")?p.length:1;l[y]=c(a.length,a.length+b,v),a=a.concat(p),f=f.concat(d)}var w=n.time(),E=n(a,f,w,w+r,n.time,function(e){var t={};for(var n in l)l[s](n)&&(t[n]=l[n](e));g.attr(t)},i);return g.anims[E.id]=E,E._attrs=e,E._callback=u,t("snap.animcreated."+g.id,E),t.once("mina.finish."+E.id,function(){delete g.anims[E.id],u&&u.call(g)}),t.once("mina.stop."+E.id,function(){delete g.anims[E.id]}),g};var p={};e.data=function(e,n){var i=p[this.id]=p[this.id]||{};if(arguments.length==0)return t("snap.data.get."+this.id,this,i,null),i;if(arguments.length==1){if(r.is(e,"object")){for(var o in e)e[s](o)&&this.data(o,e[o]);return this}return t("snap.data.get."+this.id,this,i[e],e),i[e]}return i[e]=n,t("snap.data.set."+this.id,this,n,e),this},e.removeData=function(e){return e==null?p[this.id]={}:p[this.id]&&delete p[this.id][e],this},e.outerSVG=e.toString=d(1),e.innerSVG=d()}(ct.prototype),r.parse=function(e){var t=i.doc.createDocumentFragment(),n=!0,r=i.doc.createElement("div");e=o(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),r.innerHTML=e,e=r.getElementsByTagName("svg")[0];if(e)if(n)t=e;else while(e.firstChild)t.appendChild(e.firstChild);return r.innerHTML=m,new ht(t)},ht.prototype.select=ct.prototype.select,ht.prototype.selectAll=ct.prototype.selectAll,r.fragment=function(){var e=Array.prototype.slice.call(arguments,0),t=i.doc.createDocumentFragment();for(var n=0,s=e.length;n<s;n++){var o=e[n];o.node&&o.node.nodeType&&t.appendChild(o.node),o.nodeType&&t.appendChild(o),typeof o=="string"&&t.appendChild(r.parse(o).node)}return new ht(t)},r._.make=pt,r._.wrap=vt,dt.prototype.el=function(e,t){var n=pt(e,this.node);return t&&n.attr(t),n},t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return mt[s](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):I(this.node,e)});var mt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=e;var i=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),o=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});mt[s](o)?this.node.style[i]=e==null?m:e:I(this.node,r)}),function(e){}(dt.prototype),r.ajax=function(e,n,r,i){var s=new XMLHttpRequest,o=P();if(s){if(R(n,"function"))i=r,r=n,n=null;else if(R(n,"object")){var u=[];for(var a in n)n.hasOwnProperty(a)&&u.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));n=u.join("&")}return s.open(n?"POST":"GET",e,!0),n&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(t.once("snap.ajax."+o+".0",r),t.once("snap.ajax."+o+".200",r),t.once("snap.ajax."+o+".304",r)),s.onreadystatechange=function(){if(s.readyState!=4)return;t("snap.ajax."+o+"."+s.status,i,s)},s.readyState==4?s:(s.send(n),s)}},r.load=function(e,t,n){r.ajax(e,function(e){var i=r.parse(e.responseText);n?t.call(n,i):t(i)})};var gt=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,u=t.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-s,a=t.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:u,x:a}};return r.getElementByPoint=function(e,t){var n=this,r=n.canvas,s=i.doc.elementFromPoint(e,t);if(i.win.opera&&s.tagName=="svg"){var o=gt(s),u=s.createSVGRect();u.x=e-o.x,u.y=t-o.y,u.width=u.height=1;var a=s.getIntersectionList(u,null);a.length&&(s=a[a.length-1])}return s?vt(s):null},r.plugin=function(e){e(r,ct,dt,i,ht)},i.win.Snap=r,r}();return r.plugin(function(e,t,n,r,i){function f(e,t,n,r,i,o){if(t==null&&s.call(e)=="[object SVGMatrix]"){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,this.f=e.f;return}e!=null?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}var s=Object.prototype.toString,o=String,u=Math,a="";(function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=u.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,r,i,s){var o=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],a=[[e,n,i],[t,r,s],[0,0,1]],l,c,h,p;e&&e instanceof f&&(a=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]);for(l=0;l<3;l++)for(c=0;c<3;c++){p=0;for(h=0;h<3;h++)p+=u[l][h]*a[h][c];o[l][c]=p}return this.a=o[0][0],this.b=o[1][0],this.c=o[0][1],this.d=o[1][1],this.e=o[0][2],this.f=o[1][2],this},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){return this.add(1,0,0,1,e,t)},t.scale=function(e,t,n,r){return t==null&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+u.cos(t).toFixed(9),s=+u.sin(t).toFixed(9);return this.add(i,s,-s,i,n,r),this.add(1,0,0,1,-n,-r)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[o.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=u.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=u.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var s=-i[0][1],o=i[1][1];return o<0?(t.rotate=e.deg(u.acos(o)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(u.asin(s)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:a)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:a)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:a))}})(f.prototype),e.Matrix=f,e.matrix=function(e,t,n,r,i,s){return new f(e,t,n,r,i,s)}}),r.plugin(function(e,n,r,i,s){function g(r){return function(i){t.stop(),i instanceof s&&i.node.childNodes.length==1&&(i.node.firstChild.tagName=="radialGradient"||i.node.firstChild.tagName=="linearGradient"||i.node.firstChild.tagName=="pattern")&&(i=i.node.firstChild,l(this).appendChild(i),i=a(i));if(i instanceof n)if(i.type=="radialGradient"||i.type=="linearGradient"||i.type=="pattern"){i.node.id||h(i.node,{id:i.id});var o=p(i.node.id)}else o=i.attr(r);else{o=e.color(i);if(o.error){var u=e(l(this).ownerSVGElement).gradient(i);u?(u.node.id||h(u.node,{id:u.id}),o=p(u.node.id)):o=i}else o=d(o)}var f={};f[r]=o,h(this.node,f),this.node.style[r]=m}}function b(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function w(e){var t=[],n=e.childNodes;for(var r=0,i=n.length;r<i;r++){var s=n[r];s.nodeType==3&&t.push(s.nodeValue),s.tagName=="tspan"&&(s.childNodes.length==1&&s.firstChild.nodeType==3?t.push(s.firstChild.nodeValue):t.push(w(s)))}return t}function E(){return t.stop(),this.node.style.fontSize}var o="hasOwnProperty",u=e._.make,a=e._.wrap,f=e.is,l=e._.getSomeDefs,c=/^url\(#?([^)]+)\)$/,h=e._.$,p=e.url,d=String,v=e._.separator,m="";t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof s){t.stop(),e instanceof s&&e.node.childNodes.length==1&&(e=e.node.firstChild,l(this).appendChild(e),e=a(e));if(e.type=="mask")var r=e;else r=u("mask",l(this)),r.node.appendChild(e.node);!r.node.id&&h(r.node,{id:r.id}),h(this.node,{mask:p(r.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof n||e instanceof s){t.stop();if(e.type=="clipPath")var r=e;else r=u("clipPath",l(this)),r.node.appendChild(e.node),!r.node.id&&h(r.node,{id:r.id});h(this.node,{"clip-path":p(r.id)})}}),t.on("snap.util.attr.fill",g("fill")),t.on("snap.util.attr.stroke",g("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(t){t=d(t);var n=t.match(y);if(!n)return null;var r=n[1],i=n[2],s=n[3];return i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),i.length==1&&i[0]==0&&(i=[]),s=s.split("-"),s=s.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:r,params:i,stops:s}}),t.on("snap.util.attr.d",function(n){t.stop(),f(n,"array")&&f(n[0],"array")&&(n=e.path.toString.call(n)),n=d(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),h(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=d(e);var n=i.doc.createTextNode(e);while(this.node.firstChild)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;f(e,"object")&&"x"in e?n=[e.x,e.y,e.width,e.height].join(" "):f(e,"array")?n=e.join(" "):n=e,h(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){this.type=="rect"&&(t.stop(),h(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){t.stop();if(this.type=="text"){var r,i,s;if(!e&&this.textPath){i=this.textPath;while(i.node.firstChild)this.node.appendChild(i.node.firstChild);i.remove(),delete this.textPath;return}if(f(e,"string")){var o=l(this),u=a(o.parentNode).path(e);o.appendChild(u.node),r=u.id,u.attr({id:r})}else e=a(e),e instanceof n&&(r=e.attr("id"),r||(r=e.id,e.attr({id:r})));if(r){i=this.textPath,s=this.node;if(i)i.attr({"xlink:href":"#"+r});else{i=h("textPath",{"xlink:href":"#"+r});while(s.firstChild)i.appendChild(s.firstChild);s.appendChild(i),this.textPath=a(i)}}}})(-1),t.on("snap.util.attr.text",function(e){if(this.type=="text"){var n=0,r=this.node,s=function(e){var t=h("tspan");if(f(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(s(e[n]));else t.appendChild(i.doc.createTextNode(e));return t.normalize&&t.normalize(),t};while(r.firstChild)r.removeChild(r.firstChild);var o=s(e);while(o.firstChild)r.appendChild(o.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",b)(-1),t.on("snap.util.attr.font-size",b)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return r=="none"?r:e(i.doc.getElementById(r.match(c)[1]))}}function r(e){return function(n){t.stop();var r="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(n==""||!n){this.node.style[r]="none";return}if(n.type=="marker"){var i=n.node.id;i||h(n.node,{id:n.id}),this.node.style[r]=p(i);return}}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",r("end"))(-1),t.on("snap.util.attr.markerEnd",r("end"))(-1),t.on("snap.util.attr.marker-start",r("start"))(-1),t.on("snap.util.attr.markerStart",r("start"))(-1),t.on("snap.util.attr.marker-mid",r("mid"))(-1),t.on("snap.util.attr.markerMid",r("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){if(this.type=="rect"&&h(this.node,"rx")==h(this.node,"ry"))return t.stop(),h(this.node,"rx")})(-1),t.on("snap.util.getattr.text",function(){if(this.type=="text"||this.type=="tspan"){t.stop();var e=w(this.node);return e.length==1?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=h(this.node,"viewBox");if(n)return n=n.split(v),e._.box(+n[0],+n[1],+n[2],+n[3]);return})(-1),t.on("snap.util.getattr.points",function(){var e=h(this.node,"points");t.stop();if(e)return e.split(v);return})(-1),t.on("snap.util.getattr.path",function(){var e=h(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",E)(-1),t.on("snap.util.getattr.font-size",E)(-1)}),r.plugin(function(e,n,r,i,s){function l(e){return e}function c(e){return function(t){return+t.toFixed(3)+e}}var o={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},u=String,a=/[a-z]+$/i,f=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;t.on("snap.util.attr",function(e){var n=u(e).match(f);if(n){var r=t.nt(),i=r.substring(r.lastIndexOf(".")+1),s=this.attr(i),l={};t.stop();var c=n[3]||"",h=s.match(a),p=o[n[1]];h&&h==c?e=p(parseFloat(s),+n[2]):(s=this.asPX(i),e=p(this.asPX(i),this.asPX(i,n[2]+c)));if(isNaN(s)||isNaN(e))return;l[i]=e,this.attr(l)}})(-10),t.on("snap.util.equal",function(e,n){var r,i,s=u(this.attr(e)||""),h=this,p=u(n).match(f);if(p){t.stop();var d=p[3]||"",v=s.match(a),m=o[p[1]];return v&&v==d?{from:parseFloat(s),to:m(parseFloat(s),+p[2]),f:c(v)}:(s=this.asPX(e),{from:s,to:m(s,this.asPX(e,p[2]+d)),f:l})}})(-10)}),r.plugin(function(e,n,r,i,s){var o=r.prototype,u=e.is;o.rect=function(e,t,n,r,i,s){var o;return s==null&&(s=i),u(e,"object")&&e=="[object Object]"?o=e:e!=null&&(o={x:e,y:t,width:n,height:r},i!=null&&(o.rx=i,o.ry=s)),this.el("rect",o)},o.circle=function(e,t,n){var r;return u(e,"object")&&e=="[object Object]"?r=e:e!=null&&(r={cx:e,cy:t,r:n}),this.el("circle",r)};var a=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var r=i.doc.createElement("img"),s=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,s.removeChild(r)},r.onerror=e,s.appendChild(r),r.src=t}}();o.image=function(t,n,r,i,s){var o=this.el("image");if(u(t,"object")&&"src"in t)o.attr(t);else if(t!=null){var f={"xlink:href":t,preserveAspectRatio:"none"};n!=null&&r!=null&&(f.x=n,f.y=r),i!=null&&s!=null?(f.width=i,f.height=s):a(t,function(){e._.$(o.node,{width:this.offsetWidth,height:this.offsetHeight})}),e._.$(o.node,f)}return o},o.ellipse=function(e,t,n,r){var i;return u(e,"object")&&e=="[object Object]"?i=e:e!=null&&(i={cx:e,cy:t,rx:n,ry:r}),this.el("ellipse",i)},o.path=function(e){var t;return u(e,"object")&&!u(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},o.group=o.g=function(e){var t,n=this.el("g");return arguments.length==1&&e&&!e.type?n.attr(e):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},o.svg=function(e,t,n,r,i,s,o,a){var f={};return u(e,"object")&&t==null?f=e:(e!=null&&(f.x=e),t!=null&&(f.y=t),n!=null&&(f.width=n),r!=null&&(f.height=r),i!=null&&s!=null&&o!=null&&a!=null&&(f.viewBox=[i,s,o,a])),this.el("svg",f)},o.mask=function(e){var t,n=this.el("mask");return arguments.length==1&&e&&!e.type?n.attr(e):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},o.ptrn=function(e,t,n,r,i,s,o,a){if(u(e,"object"))var f=e;else arguments.length?(f={},e!=null&&(f.x=e),t!=null&&(f.y=t),n!=null&&(f.width=n),r!=null&&(f.height=r),i!=null&&s!=null&&o!=null&&a!=null&&(f.viewBox=[i,s,o,a])):f={patternUnits:"userSpaceOnUse"};return this.el("pattern",f)},o.use=function(e){if(e!=null){var t=make("use",this.node);return e instanceof n&&(e.attr("id")||e.attr({id:ID()}),e=e.attr("id")),this.el("use",{"xlink:href":e})}return n.prototype.use.call(this)},o.text=function(e,t,n){var r={};return u(e,"object")?r=e:e!=null&&(r={x:e,y:t,text:n||""}),this.el("text",r)},o.line=function(e,t,n,r){var i={};return u(e,"object")?i=e:e!=null&&(i={x1:e,x2:n,y1:t,y2:r}),this.el("line",i)},o.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return u(e,"object")&&!u(e,"array")?t=e:e!=null&&(t={points:e}),this.el("polyline",t)},o.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return u(e,"object")&&!u(e,"array")?t=e:e!=null&&(t={points:e}),this.el("polygon",t)},function(){function r(){return this.selectAll("stop")}function i(t,r){var i=n("stop"),s={offset:+r+"%"};return t=e.color(t),s["stop-color"]=t.hex,t.opacity<1&&(s["stop-opacity"]=t.opacity),n(i,s),this.node.appendChild(i),this}function s(){if(this.type=="linearGradient"){var t=n(this.node,"x1")||0,r=n(this.node,"x2")||1,i=n(this.node,"y1")||0,s=n(this.node,"y2")||0;return e._.box(t,i,math.abs(r-t),math.abs(s-i))}var o=this.node.cx||.5,u=this.node.cy||.5,a=this.node.r||0;return e._.box(o-a,u-a,a*2,a*2)}function u(e,r){function h(e,t){var n=(t-l)/(e-c);for(var r=c;r<e;r++)o[r].offset=+(+l+n*(r-c)).toFixed(2);c=e,l=t}var i=t("snap.util.grad.parse",null,r).firstDefined(),s;if(!i)return null;i.params.unshift(e),i.type.toLowerCase()=="l"?s=a.apply(0,i.params):s=f.apply(0,i.params),i.type!=i.type.toLowerCase()&&n(s.node,{gradientUnits:"userSpaceOnUse"});var o=i.stops,u=o.length,l=0,c=0;u--;for(var p=0;p<u;p++)"offset"in o[p]&&h(p,o[p].offset);o[u].offset=o[u].offset||100,h(u,o[u].offset);for(p=0;p<=u;p++){var d=o[p];s.addStop(d.color,d.offset)}return s}function a(t,o,u,a,f){var l=e._.make("linearGradient",t);return l.stops=r,l.addStop=i,l.getBBox=s,o!=null&&n(l.node,{x1:o,y1:u,x2:a,y2:f}),l}function f(t,o,u,a,f,l){var c=e._.make("radialGradient",t);return c.stops=r,c.addStop=i,c.getBBox=s,o!=null&&n(c.node,{cx:o,cy:u,r:a}),f!=null&&l!=null&&n(c.node,{fx:f,fy:l}),c}var n=e._.$;o.gradient=function(e){return u(this.defs,e)},o.gradientLinear=function(e,t,n,r){return a(this.defs,e,t,n,r)},o.gradientRadial=function(e,t,n,r,i){return f(this.defs,e,t,n,r,i)},o.toString=function(){var t=this.node.ownerDocument,n=t.createDocumentFragment(),r=t.createElement("div"),i=this.node.cloneNode(!0),s;return n.appendChild(r),r.appendChild(i),e._.$(i,{xmlns:"http://www.w3.org/2000/svg"}),s=r.innerHTML,n.removeChild(n.firstChild),s},o.clear=function(){var e=this.node.firstChild,t;while(e)t=e.nextSibling,e.tagName!="defs"?e.parentNode.removeChild(e):o.clear.call({node:e}),e=t}}()}),r.plugin(function(e,t,n,r){function m(e){var t=m.ps=m.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[u](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function g(e,t,n,r){return e==null&&(e=t=n=r=0),t==null&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:l.min(n,r)/2,r2:l.max(n,r)/2,r0:l.sqrt(n*n+r*r)/2,path:R(e,t,n,r),vb:[e,t,n,r].join(" ")}}function y(){return this.join(",").replace(a,"$1")}function b(e){var t=o(e);return t.toString=y,t}function w(e,t,n,r,i,s,o,u,a){return a==null?O(e,t,n,r,i,s,o,u):N(e,t,n,r,i,s,o,u,M(e,t,n,r,i,s,o,u,a))}function E(n,r){function i(e){return+(+e).toFixed(3)}return e._.cacher(function(e,s,o){e instanceof t&&(e=e.attr("d")),e=Y(e);var u,a,f,l,c="",h={},p,d=0;for(var v=0,m=e.length;v<m;v++){f=e[v];if(f[0]=="M")u=+f[1],a=+f[2];else{l=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6]);if(d+l>s){if(r&&!h.start){p=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6],s-d),c+=["C"+i(p.start.x),i(p.start.y),i(p.m.x),i(p.m.y),i(p.x),i(p.y)];if(o)return c;h.start=c,c=["M"+i(p.x),i(p.y)+"C"+i(p.n.x),i(p.n.y),i(p.end.x),i(p.end.y),i(f[5]),i(f[6])].join(),d+=l,u=+f[5],a=+f[6];continue}if(!n&&!r)return p=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6],s-d),p}d+=l,u=+f[5],a=+f[6]}c+=f.shift()+f}return h.end=c,p=n?d:r?h:N(u,a,f[0],f[1],f[2],f[3],f[4],f[5],1),p},null,e._.clone)}function N(e,t,n,r,i,s,o,u,a){var f=1-a,h=d(f,3),p=d(f,2),v=a*a,m=v*a,g=h*e+p*3*a*n+f*3*a*a*i+m*o,y=h*t+p*3*a*r+f*3*a*a*s+m*u,b=e+2*a*(n-e)+v*(i-2*n+e),w=t+2*a*(r-t)+v*(s-2*r+t),E=n+2*a*(i-n)+v*(o-2*i+n),S=r+2*a*(s-r)+v*(u-2*s+r),x=f*e+a*n,T=f*t+a*r,N=f*i+a*o,C=f*s+a*u,k=90-l.atan2(b-E,w-S)*180/c;return{x:g,y:y,m:{x:b,y:w},n:{x:E,y:S},start:{x:x,y:T},end:{x:N,y:C},alpha:k}}function C(t,n,r,i,s,o,u,a){e.is(t,"array")||(t=[t,n,r,i,s,o,u,a]);var f=G.apply(null,t);return g(f.min.x,f.min.y,f.max.x-f.min.x,f.max.y-f.min.y)}function k(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function L(e,t){return e=g(e),t=g(t),k(t,e.x,e.y)||k(t,e.x2,e.y)||k(t,e.x,e.y2)||k(t,e.x2,e.y2)||k(e,t.x,t.y)||k(e,t.x2,t.y)||k(e,t.x,t.y2)||k(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function A(e,t,n,r,i){var s=-3*t+9*n-9*r+3*i,o=e*s+6*t-12*n+6*r;return e*o-3*t+3*n}function O(e,t,n,r,i,s,o,u,a){a==null&&(a=1),a=a>1?1:a<0?0:a;var f=a/2,c=12,h=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;for(var v=0;v<c;v++){var m=f*h[v]+f,g=A(m,e,n,i,o),y=A(m,t,r,s,u),b=g*g+y*y;d+=p[v]*l.sqrt(b)}return f*d}function M(e,t,n,r,i,s,o,u,a){if(a<0||O(e,t,n,r,i,s,o,u)<a)return;var f=1,l=f/2,c=f-l,h,p=.01;h=O(e,t,n,r,i,s,o,u,c);while(v(h-a)>p)l/=2,c+=(h<a?1:-1)*l,h=O(e,t,n,r,i,s,o,u,c);return c}function _(e,t,n,r,i,s,o,u){if(p(e,n)<h(i,o)||h(e,n)>p(i,o)||p(t,r)<h(s,u)||h(t,r)>p(s,u))return;var a=(e*r-t*n)*(i-o)-(e-n)*(i*u-s*o),f=(e*r-t*n)*(s-u)-(t-r)*(i*u-s*o),l=(e-n)*(s-u)-(t-r)*(i-o);if(!l)return;var c=a/l,d=f/l,v=+c.toFixed(2),m=+d.toFixed(2);if(v<+h(e,n).toFixed(2)||v>+p(e,n).toFixed(2)||v<+h(i,o).toFixed(2)||v>+p(i,o).toFixed(2)||m<+h(t,r).toFixed(2)||m>+p(t,r).toFixed(2)||m<+h(s,u).toFixed(2)||m>+p(s,u).toFixed(2))return;return{x:c,y:d}}function D(e,t){return H(e,t)}function P(e,t){return H(e,t,1)}function H(e,t,n){var r=C(e),i=C(t);if(!L(r,i))return n?0:[];var s=O.apply(0,e),o=O.apply(0,t),u=~~(s/8),a=~~(o/8),f=[],l=[],c={},h=n?0:[];for(var p=0;p<u+1;p++){var d=N.apply(0,e.concat(p/u));f.push({x:d.x,y:d.y,t:p/u})}for(p=0;p<a+1;p++)d=N.apply(0,t.concat(p/a)),l.push({x:d.x,y:d.y,t:p/a});for(p=0;p<u;p++)for(var m=0;m<a;m++){var g=f[p],y=f[p+1],b=l[m],w=l[m+1],E=v(y.x-g.x)<.001?"y":"x",S=v(w.x-b.x)<.001?"y":"x",x=_(g.x,g.y,y.x,y.y,b.x,b.y,w.x,w.y);if(x){if(c[x.x.toFixed(4)]==x.y.toFixed(4))continue;c[x.x.toFixed(4)]=x.y.toFixed(4);var T=g.t+v((x[E]-g[E])/(y[E]-g[E]))*(y.t-g.t),k=b.t+v((x[S]-b[S])/(w[S]-b[S]))*(w.t-b.t);T>=0&&T<=1&&k>=0&&k<=1&&(n?h++:h.push({x:x.x,y:x.y,t1:T,t2:k}))}}return h}function B(e,t){return F(e,t)}function j(e,t){return F(e,t,1)}function F(e,t,n){e=Y(e),t=Y(t);var r,i,s,o,u,a,f,l,c,h,p=n?0:[];for(var d=0,v=e.length;d<v;d++){var m=e[d];if(m[0]=="M")r=u=m[1],i=a=m[2];else{m[0]=="C"?(c=[r,i].concat(m.slice(1)),r=c[6],i=c[7]):(c=[r,i,r,i,u,a,u,a],r=u,i=a);for(var g=0,y=t.length;g<y;g++){var b=t[g];if(b[0]=="M")s=f=b[1],o=l=b[2];else{b[0]=="C"?(h=[s,o].concat(b.slice(1)),s=h[6],o=h[7]):(h=[s,o,s,o,f,l,f,l],s=f,o=l);var w=H(c,h,n);if(n)p+=w;else{for(var E=0,S=w.length;E<S;E++)w[E].segment1=d,w[E].segment2=g,w[E].bez1=c,w[E].bez2=h;p=p.concat(w)}}}}}return p}function I(e,t,n){var r=q(e);return k(r,t,n)&&F(e,[["M",t,n],["H",r.x2+10]],1)%2==1}function q(e){var t=m(e);if(t.bbox)return o(t.bbox);if(!e)return g();e=Y(e);var n=0,r=0,i=[],s=[],u;for(var a=0,f=e.length;a<f;a++){u=e[a];if(u[0]=="M")n=u[1],r=u[2],i.push(n),s.push(r);else{var l=G(n,r,u[1],u[2],u[3],u[4],u[5],u[6]);i=i.concat(l.min.x,l.max.x),s=s.concat(l.min.y,l.max.y),n=u[5],r=u[6]}}var c=h.apply(0,i),d=h.apply(0,s),v=p.apply(0,i),y=p.apply(0,s),b=g(c,d,v-c,y-d);return t.bbox=o(b),b}function R(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]];var s=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return s.toString=y,s}function U(e,t,n,r,i){i==null&&r==null&&(r=n),e=+e,t=+t,n=+n,r=+r;if(i!=null)var s=Math.PI/180,o=e+n*Math.cos(-r*s),u=e+n*Math.cos(-i*s),a=t+n*Math.sin(-r*s),f=t+n*Math.sin(-i*s),l=[["M",o,a],["A",n,n,0,+(i-r>180),0,u,f]];else l=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return l.toString=y,l}function X(t){var n=m(t),r=String.prototype.toLowerCase;if(n.rel)return b(n.rel);if(!e.is(t,"array")||!e.is(t&&t[0],"array"))t=e.parsePathString(t);var i=[],s=0,o=0,u=0,a=0,f=0;t[0][0]=="M"&&(s=t[0][1],o=t[0][2],u=s,a=o,f++,i.push(["M",s,o]));for(var l=f,c=t.length;l<c;l++){var h=i[l]=[],p=t[l];if(p[0]!=r.call(p[0])){h[0]=r.call(p[0]);switch(h[0]){case"a":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+(p[6]-s).toFixed(3),h[7]=+(p[7]-o).toFixed(3);break;case"v":h[1]=+(p[1]-o).toFixed(3);break;case"m":u=p[1],a=p[2];default:for(var d=1,v=p.length;d<v;d++)h[d]=+(p[d]-(d%2?s:o)).toFixed(3)}}else{h=i[l]=[],p[0]=="m"&&(u=p[1]+s,a=p[2]+o);for(var g=0,w=p.length;g<w;g++)i[l][g]=p[g]}var E=i[l].length;switch(i[l][0]){case"z":s=u,o=a;break;case"h":s+=+i[l][E-1];break;case"v":o+=+i[l][E-1];break;default:s+=+i[l][E-2],o+=+i[l][E-1]}}return i.toString=y,n.rel=b(i),i}function V(t){var n=m(t);if(n.abs)return b(n.abs);if(!s(t,"array")||!s(t&&t[0],"array"))t=e.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,u=0,a=0,f=0,l;t[0][0]=="M"&&(i=+t[0][1],o=+t[0][2],u=i,a=o,f++,r[0]=["M",i,o]);var c=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var h,p,d=f,v=t.length;d<v;d++){r.push(h=[]),p=t[d],l=p[0];if(l!=l.toUpperCase()){h[0]=l.toUpperCase();switch(h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+i,h[7]=+p[7]+o;break;case"V":h[1]=+p[1]+o;break;case"H":h[1]=+p[1]+i;break;case"R":var g=[i,o].concat(p.slice(1));for(var w=2,E=g.length;w<E;w++)g[w]=+g[w]+i,g[++w]=+g[w]+o;r.pop(),r=r.concat(et(g,c));break;case"O":r.pop(),g=U(i,o,p[1],p[2]),g.push(g[0]),r=r.concat(g);break;case"U":r.pop(),r=r.concat(U(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":u=+p[1]+i,a=+p[2]+o;default:for(w=1,E=p.length;w<E;w++)h[w]=+p[w]+(w%2?i:o)}}else if(l=="R")g=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(et(g,c)),h=["R"].concat(p.slice(-2));else if(l=="O")r.pop(),g=U(i,o,p[1],p[2]),g.push(g[0]),r=r.concat(g);else if(l=="U")r.pop(),r=r.concat(U(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var S=0,x=p.length;S<x;S++)h[S]=p[S];l=l.toUpperCase();if(l!="O")switch(h[0]){case"Z":i=+u,o=+a;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":u=h[h.length-2],a=h[h.length-1];default:i=h[h.length-2],o=h[h.length-1]}}return r.toString=y,n.abs=b(r),r}function $(e,t,n,r){return[e,t,n,r,n,r]}function J(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]}function K(t,n,r,i,s,o,u,a,f,h){var p=c*120/180,d=c/180*(+s||0),m=[],g,y=e._.cacher(function(e,t,n){var r=e*l.cos(n)-t*l.sin(n),i=e*l.sin(n)+t*l.cos(n);return{x:r,y:i}});if(!h){g=y(t,n,-d),t=g.x,n=g.y,g=y(a,f,-d),a=g.x,f=g.y;var b=l.cos(c/180*s),w=l.sin(c/180*s),E=(t-a)/2,S=(n-f)/2,x=E*E/(r*r)+S*S/(i*i);x>1&&(x=l.sqrt(x),r=x*r,i=x*i);var T=r*r,N=i*i,C=(o==u?-1:1)*l.sqrt(v((T*N-T*S*S-N*E*E)/(T*S*S+N*E*E))),k=C*r*S/i+(t+a)/2,L=C*-i*E/r+(n+f)/2,A=l.asin(((n-L)/i).toFixed(9)),O=l.asin(((f-L)/i).toFixed(9));A=t<k?c-A:A,O=a<k?c-O:O,A<0&&(A=c*2+A),O<0&&(O=c*2+O),u&&A>O&&(A-=c*2),!u&&O>A&&(O-=c*2)}else A=h[0],O=h[1],k=h[2],L=h[3];var M=O-A;if(v(M)>p){var _=O,D=a,P=f;O=A+p*(u&&O>A?1:-1),a=k+r*l.cos(O),f=L+i*l.sin(O),m=K(a,f,r,i,s,0,u,D,P,[O,_,k,L])}M=O-A;var H=l.cos(A),B=l.sin(A),j=l.cos(O),F=l.sin(O),I=l.tan(M/4),q=4/3*r*I,R=4/3*i*I,U=[t,n],z=[t+q*B,n-R*H],W=[a+q*F,f-R*j],X=[a,f];z[0]=2*U[0]-z[0],z[1]=2*U[1]-z[1];if(h)return[z,W,X].concat(m);m=[z,W,X].concat(m).join().split(",");var V=[];for(var $=0,J=m.length;$<J;$++)V[$]=$%2?y(m[$-1],m[$],d).y:y(m[$],m[$+1],d).x;return V}function Q(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:d(f,3)*e+d(f,2)*3*a*n+f*3*a*a*i+d(a,3)*o,y:d(f,3)*t+d(f,2)*3*a*r+f*3*a*a*s+d(a,3)*u}}function G(e,t,n,r,i,s,o,u){var a=[],f=[[],[]],c,d,m,g,y,b,w,E;for(var S=0;S<2;++S){S==0?(d=6*e-12*n+6*i,c=-3*e+9*n-9*i+3*o,m=3*n-3*e):(d=6*t-12*r+6*s,c=-3*t+9*r-9*s+3*u,m=3*r-3*t);if(v(c)<1e-12){if(v(d)<1e-12)continue;g=-m/d,0<g&&g<1&&a.push(g);continue}w=d*d-4*m*c,E=l.sqrt(w);if(w<0)continue;y=(-d+E)/(2*c),0<y&&y<1&&a.push(y),b=(-d-E)/(2*c),0<b&&b<1&&a.push(b)}var x,T,N=a.length,C=N,k;while(N--)g=a[N],k=1-g,f[0][N]=k*k*k*e+3*k*k*g*n+3*k*g*g*i+g*g*g*o,f[1][N]=k*k*k*t+3*k*k*g*r+3*k*g*g*s+g*g*g*u;return f[0][C]=e,f[1][C]=t,f[0][C+1]=o,f[1][C+1]=u,f[0].length=f[1].length=C+2,{min:{x:h.apply(0,f[0]),y:h.apply(0,f[1])},max:{x:p.apply(0,f[0]),y:p.apply(0,f[1])}}}function Y(e,t){var n=!t&&m(e);if(!t&&n.curve)return b(n.curve);var r=V(e),i=t&&V(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(K.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":n=="C"||n=="S"?(r=t.x*2-t.bx,i=t.y*2-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":n=="Q"||n=="T"?(t.qx=t.x*2-t.qx,t.qy=t.y*2-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(J(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(J(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat($(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat($(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat($(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat($(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length)c[t]="A",i&&(h[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),y=p(r.length,i&&i.length||0)}},l=function(e,t,n,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],y=p(r.length,i&&i.length||0))},c=[],h=[],d="",v="";for(var g=0,y=p(r.length,i&&i.length||0);g<y;g++){r[g]&&(d=r[g][0]),d!="C"&&(c[g]=d,g&&(v=c[g-1])),r[g]=u(r[g],s,v),c[g]!="A"&&d=="C"&&(c[g]="C"),a(r,g),i&&(i[g]&&(d=i[g][0]),d!="C"&&(h[g]=d,g&&(v=h[g-1])),i[g]=u(i[g],o,v),h[g]!="A"&&d=="C"&&(h[g]="C"),a(i,g)),l(r,i,s,o,g),l(i,r,o,s,g);var w=r[g],E=i&&i[g],S=w.length,x=i&&E.length;s.x=w[S-2],s.y=w[S-1],s.bx=f(w[S-4])||s.x,s.by=f(w[S-3])||s.y,o.bx=i&&(f(E[x-4])||o.x),o.by=i&&(f(E[x-3])||o.y),o.x=i&&E[x-2],o.y=i&&E[x-1]}return i||(n.curve=b(r)),i?[r,i]:r}function Z(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=Y(e);for(i=0,o=e.length;i<o;i++){a=e[i];for(s=1,u=a.length;s<u;s+=2)n=t.x(a[s],a[s+1]),r=t.y(a[s],a[s+1]),a[s]=n,a[s+1]=r}return e}function et(e,t){var n=[];for(var r=0,i=e.length;i-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?s[3]={x:+e[0],y:+e[1]}:i-2==r&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}var i=t.prototype,s=e.is,o=e._.clone,u="hasOwnProperty",a=/,?([a-z]),?/gi,f=parseFloat,l=Math,c=l.PI,h=l.min,p=l.max,d=l.pow,v=l.abs,S=E(1),x=E(),T=E(0,1),z=e._unit2px,W={path:function(e){return e.attr("path")},circle:function(e){var t=z(e);return U(t.cx,t.cy,t.r)},ellipse:function(e){var t=z(e);return U(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=z(e);return R(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=z(e);return R(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return R(t.x,t.y,t.width,t.height)}};e.path=m,e.path.getTotalLength=S,e.path.getPointAtLength=x,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return T(e,t).end;var r=T(e,n,1);return t?T(r,t).end:r},i.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},i.getPointAtLength=function(e){return x(this.attr("d"),e)},i.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=g,e.path.findDotsAtSegment=N,e.path.bezierBBox=C,e.path.isPointInsideBBox=k,e.path.isBBoxIntersect=L,e.path.intersection=B,e.path.intersectionNumber=j,e.path.isPointInside=I,e.path.getBBox=q,e.path.get=W,e.path.toRelative=X,e.path.toAbsolute=V,e.path.toCubic=Y,e.path.map=Z,e.path.toString=y,e.path.clone=b}),r.plugin(function(e,r,i,s){var o=Math.max,u=Math.min,a=function(e){this.items=[],this.bindings={},this.length=0,this.type="set";if(e)for(var t=0,n=e.length;t<n;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},f=a.prototype;f.push=function(){var e,t;for(var n=0,r=arguments.length;n<r;n++)e=arguments[n],e&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},f.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},f.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(e.call(t,this.items[n],n)===!1)return this;return this},f.animate=function(r,i,s,o){typeof s=="function"&&!s.length&&(o=s,s=n.linear),r instanceof e._.Animation&&(o=r.callback,s=r.easing,i=s.dur,r=r.attr);var u=arguments;if(e.is(r,"array")&&e.is(u[u.length-1],"array"))var a=!0;var f,l=function(){f?this.b=f:f=this.b},c=0,h=o&&function(){c++==this.length&&o.call(this)};return this.forEach(function(e,n){t.once("snap.animcreated."+e.id,l),a?u[n]&&e.animate.apply(e,u[n]):e.animate(r,i,s,h)})},f.remove=function(){while(this.length)this.pop().remove();return this},f.bind=function(e,t,n){var r={};if(typeof t=="function")this.bindings[e]=t;else{var i=n||e;this.bindings[e]=function(e){r[i]=e,t.attr(r)}}return this},f.attr=function(e){var t={};for(var n in e)this.bindings[n]?this.bindings[n](e[n]):t[n]=e[n];for(var r=0,i=this.items.length;r<i;r++)this.items[r].attr(t);return this},f.clear=function(){while(this.length)this.pop()},f.splice=function(e,t,n){e=e<0?o(this.length+e,0):e,t=o(0,u(this.length-e,t));var r=[],i=[],s=[],f;for(f=2;f<arguments.length;f++)s.push(arguments[f]);for(f=0;f<t;f++)i.push(this[e+f]);for(;f<this.length-e;f++)r.push(this[e+f]);var l=s.length;for(f=0;f<l+r.length;f++)this.items[e+f]=this[e+f]=f<l?s[f]:r[f-l];f=this.items.length=this.length-=t-l;while(this[f])delete this[f++];return new a(i)},f.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},f.insertAfter=function(e){var t=this.items.length;while(t--)this.items[t].insertAfter(e);return this},f.getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x),t.push(s.y),n.push(s.x+s.width),r.push(s.y+s.height)}return e=u.apply(0,e),t=u.apply(0,t),n=o.apply(0,n),r=o.apply(0,r),{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t,cx:e+(n-e)/2,cy:t+(r-t)/2}},f.clone=function(e){e=new a;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},f.toString=function(){return"Snap‘s set"},f.type="set",e.set=function(){var e=new a;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),r.plugin(function(e,n,r,i){function a(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}}function f(t,n,r){n=u(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];var i=Math.max(t.length,n.length),s=[],o=[],f=0,l,c,h,v;for(;f<i;f++){h=t[f]||a(n[f]),v=n[f]||a(h);if(h[0]!=v[0]||h[0].toLowerCase()=="r"&&(h[2]!=v[2]||h[3]!=v[3])||h[0].toLowerCase()=="s"&&(h[3]!=v[3]||h[4]!=v[4])){t=e._.transform2matrix(t,r()),n=e._.transform2matrix(n,r()),s=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],o=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}s[f]=[],o[f]=[];for(l=0,c=Math.max(h.length,v.length);l<c;l++)l in h&&(s[f][l]=h[l]),l in v&&(o[f][l]=v[l])}return{from:d(s),to:d(o),f:p(s)}}function l(e){return e}function c(e){return function(t){return+t.toFixed(3)+e}}function h(t){return e.rgb(t[0],t[1],t[2])}function p(e){var t=0,n,r,i,s,o,u,a=[];for(n=0,r=e.length;n<r;n++){o="[",u=['"'+e[n][0]+'"'];for(i=1,s=e[n].length;i<s;i++)u[i]="val["+t++ +"]";o+=u+"]",a[n]=o}return Function("val","return Snap.path.toString.call(["+a+"])")}function d(e){var t=[];for(var n=0,r=e.length;n<r;n++)for(var i=1,s=e[n].length;i<s;i++)t.push(e[n][i]);return t}var s={},o=/[a-z]+$/i,u=String;s.stroke=s.fill="colour",n.prototype.equal=function(e,n){return t("snap.util.equal",this,e,n).firstDefined()},t.on("snap.util.equal",function(t,n){var r,i,a=u(this.attr(t)||""),v=this;if(a==+a&&n==+n)return{from:+a,to:+n,f:l};if(s[t]=="colour")return r=e.color(a),i=e.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[i.r,i.g,i.b,i.opacity],f:h};if(t=="transform"||t=="gradientTransform"||t=="patternTransform")return n instanceof e.Matrix&&(n=n.toTransformString()),e._.rgTransform.test(n)||(n=e._.svgTransform2string(n)),f(a,n,function(){return v.getBBox(1)});if(t=="d"||t=="path")return r=e.path.toCubic(a,n),{from:d(r[0]),to:d(r[1]),f:p(r[0])};if(t=="points")return r=u(a).split(e._.separator),i=u(n).split(e._.separator),{from:r,to:i,f:function(e){return e}};aUnit=a.match(o);var m=u(n).match(o);return aUnit&&aUnit==m?{from:parseFloat(a),to:parseFloat(n),f:c(aUnit)}:{from:this.asPX(t),to:this.asPX(t,n),f:l}})}),r.plugin(function(e,n,r,i){var s=n.prototype,o="hasOwnProperty",u="createTouch"in i.doc,a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],f={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(e,t){var n=e=="y"?"scrollTop":"scrollLeft",r=t&&t.node?t.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},c=function(){this.returnValue=!1},h=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},d=function(){return this.originalEvent.stopPropagation()},v=function(){if(i.doc.addEventListener)return function(e,t,n,r){var i=u&&f[t]?f[t]:t,s=function(i){var s=l("y",r),a=l("x",r);if(u&&f[o](t))for(var c=0,p=i.targetTouches&&i.targetTouches.length;c<p;c++)if(i.targetTouches[c].target==e||e.contains(i.targetTouches[c].target)){var v=i;i=i.targetTouches[c],i.originalEvent=v,i.preventDefault=h,i.stopPropagation=d;break}var m=i.clientX+a,g=i.clientY+s;return n.call(r,i,m,g)};return t!==i&&e.addEventListener(t,s,!1),e.addEventListener(i,s,!1),function(){return t!==i&&e.removeEventListener(t,s,!1),e.removeEventListener(i,s,!1),!0}};if(i.doc.attachEvent)return function(e,t,n,r){var i=function(e){e=e||r.node.ownerDocument.window.event;var t=l("y",r),i=l("x",r),s=e.clientX+i,o=e.clientY+t;return e.preventDefault=e.preventDefault||c,e.stopPropagation=e.stopPropagation||p,n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}}(),m=[],g=function(e){var n=e.clientX,r=e.clientY,i=l("y"),s=l("x"),o,a=m.length;while(a--){o=m[a];if(u){var f=e.touches&&e.touches.length,c;while(f--){c=e.touches[f];if(c.identifier==o.el._drag.id||o.el.node.contains(c.target)){n=c.clientX,r=c.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var h=o.el.node,p,d=h.nextSibling,v=h.parentNode,g=h.style.display;n+=s,r+=i,t("snap.drag.move."+o.el.id,o.move_scope||o.el,n-o.el._drag.x,r-o.el._drag.y,n,r,e)}},y=function(n){e.unmousemove(g).unmouseup(y);var r=m.length,i;while(r--)i=m[r],i.el._drag={},t("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);m=[]};for(var b=a.length;b--;)(function(t){e[t]=s[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:v(this.node||document,t,n,r||this)})),this},e["un"+t]=s["un"+t]=function(e){var n=this.events||[],r=n.length;while(r--)if(n[r].name==t&&(n[r].f==e||!e))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(a[b]);s.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},s.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var w=[];s.drag=function(n,r,i,s,o,u){function f(a,f,l){(a.originalEvent||a).preventDefault(),this._drag.x=f,this._drag.y=l,this._drag.id=a.identifier,!m.length&&e.mousemove(g).mouseup(y),m.push({el:this,move_scope:s,start_scope:o,end_scope:u}),r&&t.on("snap.drag.start."+this.id,r),n&&t.on("snap.drag.move."+this.id,n),i&&t.on("snap.drag.end."+this.id,i),t("snap.drag.start."+this.id,o||s||this,f,l,a)}if(!arguments.length){var a;return this.drag(function(e,t){this.attr({transform:a+(a?"T":"t")+[e,t]})},function(){a=this.transform().local})}return this._drag={},w.push({el:this,start:f}),this.mousedown(f),this},s.undrag=function(){var n=w.length;while(n--)w[n].el==this&&(this.unmousedown(w[n].start),w.splice(n,1),t.unbind("snap.drag.*."+this.id));return!w.length&&e.unmousemove(g).unmouseup(y),this}}),r.plugin(function(e,n,r,i){var s=n.prototype,o=r.prototype,u=/^\s*url\((.+)\)/,a=String,f=e._.$;e.filter={},o.filter=function(t){var r=this;r.type!="svg"&&(r=r.paper);var i=e.parse(a(t)),s=e._.id(),o=r.node.offsetWidth,u=r.node.offsetHeight,l=f("filter");return f(l,{id:s,filterUnits:"userSpaceOnUse"}),l.appendChild(i.node),r.defs.appendChild(l),new n(l)},t.on("snap.util.getattr.filter",function(){t.stop();var n=f(this.node,"filter");if(n){var r=a(n).match(u);return r&&e.select(r[1])}}),t.on("snap.util.attr.filter",function(r){if(r instanceof n&&r.type=="filter"){t.stop();var i=r.node.id;i||(f(r.node,{id:r.id}),i=r.id),f(this.node,{filter:e.url(i)})}if(!r||r=="none")t.stop(),this.node.removeAttribute("filter")}),e.filter.blur=function(t,n){t==null&&(t=2);var r=n==null?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,r,i,s){return typeof r=="string"&&(i=r,s=i,r=4),typeof i!="string"&&(s=i,i="#000"),i=i||"#000",r==null&&(r=4),s==null&&(s=1),t==null&&(t=0,n=2),n==null&&(n=t),i=e.color(i),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:t,dy:n,blur:r,opacity:s})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),r});